function s4(){"use strict";return(65536*(1+Math.random())|0).toString(16).substring(1)}function guid(){"use strict";return s4()+s4()+"-"+s4()+"-"+s4()+"-"+s4()+"-"+s4()+s4()+s4()}function toSize(t){"use strict";return 1024>t?t:1048576>t?Math.round(t/1024)+"KB":1073741824>t?Math.round(t/1024/1024)+"MB":Math.round(t/1024/1024/1024)+"GB"}function nopropagation(t){"use strict";t.stopPropagation(),t.preventDefault&&t.preventDefault()}if(!function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function n(t){var e=!!t&&"length"in t&&t.length,n=ot.type(t);return"function"===n||ot.isWindow(t)?!1:"array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t}function i(t,e,n){if(ot.isFunction(e))return ot.grep(t,function(t,i){return!!e.call(t,i,t)!==n});if(e.nodeType)return ot.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(gt.test(e))return ot.filter(e,t,n);e=ot.filter(e,t)}return ot.grep(t,function(t){return Z.call(e,t)>-1!==n})}function r(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function o(t){var e={};return ot.each(t.match(At)||[],function(t,n){e[n]=!0}),e}function s(){Y.removeEventListener("DOMContentLoaded",s),t.removeEventListener("load",s),ot.ready()}function a(){this.expando=ot.expando+a.uid++}function l(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(St,"-$&").toLowerCase(),n=t.getAttribute(i),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:kt.test(n)?ot.parseJSON(n):n}catch(r){}Ft.set(t,e,n)}else n=void 0;return n}function u(t,e,n,i){var r,o=1,s=20,a=i?function(){return i.cur()}:function(){return ot.css(t,e,"")},l=a(),u=n&&n[3]||(ot.cssNumber[e]?"":"px"),c=(ot.cssNumber[e]||"px"!==u&&+l)&&Mt.exec(ot.css(t,e));if(c&&c[3]!==u){u=u||c[3],n=n||[],c=+l||1;do o=o||".5",c/=o,ot.style(t,e,c+u);while(o!==(o=a()/l)&&1!==o&&--s)}return n&&(c=+c||+l||0,r=n[1]?c+(n[1]+1)*n[2]:+n[2],i&&(i.unit=u,i.start=c,i.end=r)),r}function c(t,e){var n="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&ot.nodeName(t,e)?ot.merge([t],n):n}function h(t,e){for(var n=0,i=t.length;i>n;n++)_t.set(t[n],"globalEval",!e||_t.get(e[n],"globalEval"))}function d(t,e,n,i,r){for(var o,s,a,l,u,d,f=e.createDocumentFragment(),p=[],g=0,m=t.length;m>g;g++)if(o=t[g],o||0===o)if("object"===ot.type(o))ot.merge(p,o.nodeType?[o]:o);else if(Ot.test(o)){for(s=s||f.appendChild(e.createElement("div")),a=(Bt.exec(o)||["",""])[1].toLowerCase(),l=Nt[a]||Nt._default,s.innerHTML=l[1]+ot.htmlPrefilter(o)+l[2],d=l[0];d--;)s=s.lastChild;ot.merge(p,s.childNodes),s=f.firstChild,s.textContent=""}else p.push(e.createTextNode(o));for(f.textContent="",g=0;o=p[g++];)if(i&&ot.inArray(o,i)>-1)r&&r.push(o);else if(u=ot.contains(o.ownerDocument,o),s=c(f.appendChild(o),"script"),u&&h(s),n)for(d=0;o=s[d++];)Rt.test(o.type||"")&&n.push(o);return f}function f(){return!0}function p(){return!1}function g(){try{return Y.activeElement}catch(t){}}function m(t,e,n,i,r,o){var s,a;if("object"==typeof e){"string"!=typeof n&&(i=i||n,n=void 0);for(a in e)m(t,a,n,i,e[a],o);return t}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),r===!1)r=p;else if(!r)return t;return 1===o&&(s=r,r=function(t){return ot().off(t),s.apply(this,arguments)},r.guid=s.guid||(s.guid=ot.guid++)),t.each(function(){ot.event.add(this,e,r,i,n)})}function v(t,e){return ot.nodeName(t,"table")&&ot.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function y(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function w(t){var e=Ut.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function b(t,e){var n,i,r,o,s,a,l,u;if(1===e.nodeType){if(_t.hasData(t)&&(o=_t.access(t),s=_t.set(e,o),u=o.events)){delete s.handle,s.events={};for(r in u)for(n=0,i=u[r].length;i>n;n++)ot.event.add(e,r,u[r][n])}Ft.hasData(t)&&(a=Ft.access(t),l=ot.extend({},a),Ft.set(e,l))}}function A(t,e){var n=e.nodeName.toLowerCase();"input"===n&&Lt.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function C(t,e,n,i){e=Q.apply([],e);var r,o,s,a,l,u,h=0,f=t.length,p=f-1,g=e[0],m=ot.isFunction(g);if(m||f>1&&"string"==typeof g&&!it.checkClone&&Wt.test(g))return t.each(function(r){var o=t.eq(r);m&&(e[0]=g.call(this,r,o.html())),C(o,e,n,i)});if(f&&(r=d(e,t[0].ownerDocument,!1,t,i),o=r.firstChild,1===r.childNodes.length&&(r=o),o||i)){for(s=ot.map(c(r,"script"),y),a=s.length;f>h;h++)l=r,h!==p&&(l=ot.clone(l,!0,!0),a&&ot.merge(s,c(l,"script"))),n.call(t[h],l,h);if(a)for(u=s[s.length-1].ownerDocument,ot.map(s,w),h=0;a>h;h++)l=s[h],Rt.test(l.type||"")&&!_t.access(l,"globalEval")&&ot.contains(u,l)&&(l.src?ot._evalUrl&&ot._evalUrl(l.src):ot.globalEval(l.textContent.replace(qt,"")))}return t}function x(t,e,n){for(var i,r=e?ot.filter(e,t):t,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||ot.cleanData(c(i)),i.parentNode&&(n&&ot.contains(i.ownerDocument,i)&&h(c(i,"script")),i.parentNode.removeChild(i));return t}function E(t,e){var n=ot(e.createElement(t)).appendTo(e.body),i=ot.css(n[0],"display");return n.detach(),i}function _(t){var e=Y,n=Gt[t];return n||(n=E(t,e),"none"!==n&&n||(Vt=(Vt||ot("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=Vt[0].contentDocument,e.write(),e.close(),n=E(t,e),Vt.detach()),Gt[t]=n),n}function F(t,e,n){var i,r,o,s,a=t.style;return n=n||Xt(t),s=n?n.getPropertyValue(e)||n[e]:void 0,""!==s&&void 0!==s||ot.contains(t.ownerDocument,t)||(s=ot.style(t,e)),n&&!it.pixelMarginRight()&&Yt.test(s)&&Kt.test(e)&&(i=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=r,a.maxWidth=o),void 0!==s?s+"":s}function k(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function S(t){if(t in ie)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=ne.length;n--;)if(t=ne[n]+e,t in ie)return t}function D(t,e,n){var i=Mt.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function M(t,e,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===e?1:0,s=0;4>o;o+=2)"margin"===n&&(s+=ot.css(t,n+Tt[o],!0,r)),i?("content"===n&&(s-=ot.css(t,"padding"+Tt[o],!0,r)),"margin"!==n&&(s-=ot.css(t,"border"+Tt[o]+"Width",!0,r))):(s+=ot.css(t,"padding"+Tt[o],!0,r),"padding"!==n&&(s+=ot.css(t,"border"+Tt[o]+"Width",!0,r)));return s}function T(e,n,i){var r=!0,o="width"===n?e.offsetWidth:e.offsetHeight,s=Xt(e),a="border-box"===ot.css(e,"boxSizing",!1,s);if(Y.msFullscreenElement&&t.top!==t&&e.getClientRects().length&&(o=Math.round(100*e.getBoundingClientRect()[n])),0>=o||null==o){if(o=F(e,n,s),(0>o||null==o)&&(o=e.style[n]),Yt.test(o))return o;r=a&&(it.boxSizingReliable()||o===e.style[n]),o=parseFloat(o)||0}return o+M(e,n,i||(a?"border":"content"),r,s)+"px"}function $(t,e){for(var n,i,r,o=[],s=0,a=t.length;a>s;s++)i=t[s],i.style&&(o[s]=_t.get(i,"olddisplay"),n=i.style.display,e?(o[s]||"none"!==n||(i.style.display=""),""===i.style.display&&$t(i)&&(o[s]=_t.access(i,"olddisplay",_(i.nodeName)))):(r=$t(i),"none"===n&&r||_t.set(i,"olddisplay",r?n:ot.css(i,"display"))));for(s=0;a>s;s++)i=t[s],i.style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?o[s]||"":"none"));return t}function L(t,e,n,i,r){return new L.prototype.init(t,e,n,i,r)}function B(){return t.setTimeout(function(){re=void 0}),re=ot.now()}function R(t,e){var n,i=0,r={height:t};for(e=e?1:0;4>i;i+=2-e)n=Tt[i],r["margin"+n]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function N(t,e,n){for(var i,r=(P.tweeners[e]||[]).concat(P.tweeners["*"]),o=0,s=r.length;s>o;o++)if(i=r[o].call(n,e,t))return i}function O(t,e,n){var i,r,o,s,a,l,u,c,h=this,d={},f=t.style,p=t.nodeType&&$t(t),g=_t.get(t,"fxshow");n.queue||(a=ot._queueHooks(t,"fx"),null==a.unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,h.always(function(){h.always(function(){a.unqueued--,ot.queue(t,"fx").length||a.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],u=ot.css(t,"display"),c="none"===u?_t.get(t,"olddisplay")||_(t.nodeName):u,"inline"===c&&"none"===ot.css(t,"float")&&(f.display="inline-block")),n.overflow&&(f.overflow="hidden",h.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}));for(i in e)if(r=e[i],se.exec(r)){if(delete e[i],o=o||"toggle"===r,r===(p?"hide":"show")){if("show"!==r||!g||void 0===g[i])continue;p=!0}d[i]=g&&g[i]||ot.style(t,i)}else u=void 0;if(ot.isEmptyObject(d))"inline"===("none"===u?_(t.nodeName):u)&&(f.display=u);else{g?"hidden"in g&&(p=g.hidden):g=_t.access(t,"fxshow",{}),o&&(g.hidden=!p),p?ot(t).show():h.done(function(){ot(t).hide()}),h.done(function(){var e;_t.remove(t,"fxshow");for(e in d)ot.style(t,e,d[e])});for(i in d)s=N(p?g[i]:0,i,h),i in g||(g[i]=s.start,p&&(s.end=s.start,s.start="width"===i||"height"===i?1:0))}}function I(t,e){var n,i,r,o,s;for(n in t)if(i=ot.camelCase(n),r=e[i],o=t[n],ot.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),s=ot.cssHooks[i],s&&"expand"in s){o=s.expand(o),delete t[i];for(n in o)n in t||(t[n]=o[n],e[n]=r)}else e[i]=r}function P(t,e,n){var i,r,o=0,s=P.prefilters.length,a=ot.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var e=re||B(),n=Math.max(0,u.startTime+u.duration-e),i=n/u.duration||0,o=1-i,s=0,l=u.tweens.length;l>s;s++)u.tweens[s].run(o);return a.notifyWith(t,[u,o,n]),1>o&&l?n:(a.resolveWith(t,[u]),!1)},u=a.promise({elem:t,props:ot.extend({},e),opts:ot.extend(!0,{specialEasing:{},easing:ot.easing._default},n),originalProperties:e,originalOptions:n,startTime:re||B(),duration:n.duration,tweens:[],createTween:function(e,n){var i=ot.Tween(t,u.opts,e,n,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(i),i},stop:function(e){var n=0,i=e?u.tweens.length:0;if(r)return this;for(r=!0;i>n;n++)u.tweens[n].run(1);return e?(a.notifyWith(t,[u,1,0]),a.resolveWith(t,[u,e])):a.rejectWith(t,[u,e]),this}}),c=u.props;for(I(c,u.opts.specialEasing);s>o;o++)if(i=P.prefilters[o].call(u,t,c,u.opts))return ot.isFunction(i.stop)&&(ot._queueHooks(u.elem,u.opts.queue).stop=ot.proxy(i.stop,i)),i;return ot.map(c,N,u),ot.isFunction(u.opts.start)&&u.opts.start.call(t,u),ot.fx.timer(ot.extend(l,{elem:t,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function z(t){return t.getAttribute&&t.getAttribute("class")||""}function j(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,o=e.toLowerCase().match(At)||[];if(ot.isFunction(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function H(t,e,n,i){function r(a){var l;return o[a]=!0,ot.each(t[a]||[],function(t,a){var u=a(e,n,i);return"string"!=typeof u||s||o[u]?s?!(l=u):void 0:(e.dataTypes.unshift(u),r(u),!1)}),l}var o={},s=t===Fe;return r(e.dataTypes[0])||!o["*"]&&r("*")}function W(t,e){var n,i,r=ot.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&ot.extend(!0,t,i),t}function U(t,e,n){for(var i,r,o,s,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in a)if(a[r]&&a[r].test(i)){l.unshift(r);break}if(l[0]in n)o=l[0];else{for(r in n){if(!l[0]||t.converters[r+" "+l[0]]){o=r;break}s||(s=r)}o=o||s}return o?(o!==l[0]&&l.unshift(o),n[o]):void 0}function q(t,e,n,i){var r,o,s,a,l,u={},c=t.dataTypes.slice();if(c[1])for(s in t.converters)u[s.toLowerCase()]=t.converters[s];for(o=c.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(s=u[l+" "+o]||u["* "+o],!s)for(r in u)if(a=r.split(" "),a[1]===o&&(s=u[l+" "+a[0]]||u["* "+a[0]])){s===!0?s=u[r]:u[r]!==!0&&(o=a[0],c.unshift(a[1]));break}if(s!==!0)if(s&&t["throws"])e=s(e);else try{e=s(e)}catch(h){return{state:"parsererror",error:s?h:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}function V(t,e,n,i){var r;if(ot.isArray(e))ot.each(e,function(e,r){n||Me.test(t)?i(t,r):V(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,n,i)});else if(n||"object"!==ot.type(e))i(t,e);else for(r in e)V(t+"["+r+"]",e[r],n,i)}function G(t){return ot.isWindow(t)?t:9===t.nodeType&&t.defaultView}var K=[],Y=t.document,X=K.slice,Q=K.concat,J=K.push,Z=K.indexOf,tt={},et=tt.toString,nt=tt.hasOwnProperty,it={},rt="2.2.3",ot=function(t,e){return new ot.fn.init(t,e)},st=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,at=/^-ms-/,lt=/-([\da-z])/gi,ut=function(t,e){return e.toUpperCase()};ot.fn=ot.prototype={jquery:rt,constructor:ot,selector:"",length:0,toArray:function(){return X.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:X.call(this)},pushStack:function(t){var e=ot.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t){return ot.each(this,t)},map:function(t){return this.pushStack(ot.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(X.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(0>t?e:0);return this.pushStack(n>=0&&e>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:J,sort:K.sort,splice:K.splice},ot.extend=ot.fn.extend=function(){var t,e,n,i,r,o,s=arguments[0]||{},a=1,l=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[a]||{},a++),"object"==typeof s||ot.isFunction(s)||(s={}),a===l&&(s=this,a--);l>a;a++)if(null!=(t=arguments[a]))for(e in t)n=s[e],i=t[e],s!==i&&(u&&i&&(ot.isPlainObject(i)||(r=ot.isArray(i)))?(r?(r=!1,o=n&&ot.isArray(n)?n:[]):o=n&&ot.isPlainObject(n)?n:{},s[e]=ot.extend(u,o,i)):void 0!==i&&(s[e]=i));return s},ot.extend({expando:"jQuery"+(rt+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===ot.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){var e=t&&t.toString();return!ot.isArray(t)&&e-parseFloat(e)+1>=0},isPlainObject:function(t){var e;if("object"!==ot.type(t)||t.nodeType||ot.isWindow(t))return!1;if(t.constructor&&!nt.call(t,"constructor")&&!nt.call(t.constructor.prototype||{},"isPrototypeOf"))return!1;for(e in t);return void 0===e||nt.call(t,e)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?tt[et.call(t)]||"object":typeof t},globalEval:function(t){var e,n=eval;t=ot.trim(t),t&&(1===t.indexOf("use strict")?(e=Y.createElement("script"),e.text=t,Y.head.appendChild(e).parentNode.removeChild(e)):n(t))},camelCase:function(t){return t.replace(at,"ms-").replace(lt,ut)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var i,r=0;if(n(t))for(i=t.length;i>r&&e.call(t[r],r,t[r])!==!1;r++);else for(r in t)if(e.call(t[r],r,t[r])===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(st,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(n(Object(t))?ot.merge(i,"string"==typeof t?[t]:t):J.call(i,t)),i},inArray:function(t,e,n){return null==e?-1:Z.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;n>i;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i,r=[],o=0,s=t.length,a=!n;s>o;o++)i=!e(t[o],o),i!==a&&r.push(t[o]);return r},map:function(t,e,i){var r,o,s=0,a=[];if(n(t))for(r=t.length;r>s;s++)o=e(t[s],s,i),null!=o&&a.push(o);else for(s in t)o=e(t[s],s,i),null!=o&&a.push(o);return Q.apply([],a)},guid:1,proxy:function(t,e){var n,i,r;return"string"==typeof e&&(n=t[e],e=t,t=n),ot.isFunction(t)?(i=X.call(arguments,2),r=function(){return t.apply(e||this,i.concat(X.call(arguments)))},r.guid=t.guid=t.guid||ot.guid++,r):void 0},now:Date.now,support:it}),"function"==typeof Symbol&&(ot.fn[Symbol.iterator]=K[Symbol.iterator]),ot.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){tt["[object "+e+"]"]=e.toLowerCase()});var ct=function(t){function e(t,e,n,i){var r,o,s,a,l,u,h,f,p=e&&e.ownerDocument,g=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==g&&9!==g&&11!==g)return n;if(!i&&((e?e.ownerDocument||e:z)!==$&&T(e),e=e||$,B)){if(11!==g&&(u=vt.exec(t)))if(r=u[1]){if(9===g){if(!(s=e.getElementById(r)))return n;if(s.id===r)return n.push(s),n}else if(p&&(s=p.getElementById(r))&&I(e,s)&&s.id===r)return n.push(s),n}else{if(u[2])return J.apply(n,e.getElementsByTagName(t)),n;if((r=u[3])&&A.getElementsByClassName&&e.getElementsByClassName)return J.apply(n,e.getElementsByClassName(r)),n}if(A.qsa&&!q[t+" "]&&(!R||!R.test(t))){if(1!==g)p=e,f=t;else if("object"!==e.nodeName.toLowerCase()){for((a=e.getAttribute("id"))?a=a.replace(wt,"\\$&"):e.setAttribute("id",a=P),h=_(t),o=h.length,l=dt.test(a)?"#"+a:"[id='"+a+"']";o--;)h[o]=l+" "+d(h[o]);f=h.join(","),p=yt.test(t)&&c(e.parentNode)||e}if(f)try{return J.apply(n,p.querySelectorAll(f)),n}catch(m){}finally{a===P&&e.removeAttribute("id")}}}return k(t.replace(at,"$1"),e,n,i)}function n(){function t(n,i){return e.push(n+" ")>C.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function i(t){return t[P]=!0,t}function r(t){var e=$.createElement("div");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var n=t.split("|"),i=n.length;i--;)C.attrHandle[n[i]]=e}function s(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||G)-(~t.sourceIndex||G);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function a(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function l(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function u(t){return i(function(e){return e=+e,i(function(n,i){for(var r,o=t([],n.length,e),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))})})}function c(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function h(){}function d(t){for(var e=0,n=t.length,i="";n>e;e++)i+=t[e].value;return i}function f(t,e,n){var i=e.dir,r=n&&"parentNode"===i,o=H++;return e.first?function(e,n,o){for(;e=e[i];)if(1===e.nodeType||r)return t(e,n,o)}:function(e,n,s){var a,l,u,c=[j,o];if(s){for(;e=e[i];)if((1===e.nodeType||r)&&t(e,n,s))return!0}else for(;e=e[i];)if(1===e.nodeType||r){if(u=e[P]||(e[P]={}),l=u[e.uniqueID]||(u[e.uniqueID]={}),(a=l[i])&&a[0]===j&&a[1]===o)return c[2]=a[2];if(l[i]=c,c[2]=t(e,n,s))return!0}}}function p(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function g(t,n,i){for(var r=0,o=n.length;o>r;r++)e(t,n[r],i);return i}function m(t,e,n,i,r){for(var o,s=[],a=0,l=t.length,u=null!=e;l>a;a++)(o=t[a])&&(n&&!n(o,i,r)||(s.push(o),u&&e.push(a)));return s}function v(t,e,n,r,o,s){return r&&!r[P]&&(r=v(r)),o&&!o[P]&&(o=v(o,s)),i(function(i,s,a,l){var u,c,h,d=[],f=[],p=s.length,v=i||g(e||"*",a.nodeType?[a]:a,[]),y=!t||!i&&e?v:m(v,d,t,a,l),w=n?o||(i?t:p||r)?[]:s:y;if(n&&n(y,w,a,l),r)for(u=m(w,f),r(u,[],a,l),c=u.length;c--;)(h=u[c])&&(w[f[c]]=!(y[f[c]]=h));if(i){if(o||t){if(o){for(u=[],c=w.length;c--;)(h=w[c])&&u.push(y[c]=h);o(null,w=[],u,l)}for(c=w.length;c--;)(h=w[c])&&(u=o?tt(i,h):d[c])>-1&&(i[u]=!(s[u]=h))}}else w=m(w===s?w.splice(p,w.length):w),o?o(null,s,w,l):J.apply(s,w)})}function y(t){for(var e,n,i,r=t.length,o=C.relative[t[0].type],s=o||C.relative[" "],a=o?1:0,l=f(function(t){return t===e},s,!0),u=f(function(t){return tt(e,t)>-1},s,!0),c=[function(t,n,i){var r=!o&&(i||n!==S)||((e=n).nodeType?l(t,n,i):u(t,n,i));return e=null,r}];r>a;a++)if(n=C.relative[t[a].type])c=[f(p(c),n)];else{if(n=C.filter[t[a].type].apply(null,t[a].matches),n[P]){for(i=++a;r>i&&!C.relative[t[i].type];i++);return v(a>1&&p(c),a>1&&d(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(at,"$1"),n,i>a&&y(t.slice(a,i)),r>i&&y(t=t.slice(i)),r>i&&d(t))}c.push(n)}return p(c)}function w(t,n){var r=n.length>0,o=t.length>0,s=function(i,s,a,l,u){var c,h,d,f=0,p="0",g=i&&[],v=[],y=S,w=i||o&&C.find.TAG("*",u),b=j+=null==y?1:Math.random()||.1,A=w.length;for(u&&(S=s===$||s||u);p!==A&&null!=(c=w[p]);p++){if(o&&c){for(h=0,s||c.ownerDocument===$||(T(c),a=!B);d=t[h++];)if(d(c,s||$,a)){l.push(c);break}u&&(j=b)}r&&((c=!d&&c)&&f--,i&&g.push(c))}if(f+=p,r&&p!==f){for(h=0;d=n[h++];)d(g,v,s,a);if(i){if(f>0)for(;p--;)g[p]||v[p]||(v[p]=X.call(l));v=m(v)}J.apply(l,v),u&&!i&&v.length>0&&f+n.length>1&&e.uniqueSort(l)}return u&&(j=b,S=y),g};return r?i(s):s}var b,A,C,x,E,_,F,k,S,D,M,T,$,L,B,R,N,O,I,P="sizzle"+1*new Date,z=t.document,j=0,H=0,W=n(),U=n(),q=n(),V=function(t,e){return t===e&&(M=!0),0},G=1<<31,K={}.hasOwnProperty,Y=[],X=Y.pop,Q=Y.push,J=Y.push,Z=Y.slice,tt=function(t,e){for(var n=0,i=t.length;i>n;n++)if(t[n]===e)return n;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",it="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",rt="\\["+nt+"*("+it+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+it+"))|)"+nt+"*\\]",ot=":("+it+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+rt+")*)|.*)\\)|)",st=new RegExp(nt+"+","g"),at=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),lt=new RegExp("^"+nt+"*,"+nt+"*"),ut=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),ct=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),ht=new RegExp(ot),dt=new RegExp("^"+it+"$"),ft={ID:new RegExp("^#("+it+")"),CLASS:new RegExp("^\\.("+it+")"),TAG:new RegExp("^("+it+"|[*])"),ATTR:new RegExp("^"+rt),PSEUDO:new RegExp("^"+ot),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},pt=/^(?:input|select|textarea|button)$/i,gt=/^h\d$/i,mt=/^[^{]+\{\s*\[native \w/,vt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yt=/[+~]/,wt=/'|\\/g,bt=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),At=function(t,e,n){var i="0x"+e-65536;return i!==i||n?e:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},Ct=function(){T()};try{J.apply(Y=Z.call(z.childNodes),z.childNodes),Y[z.childNodes.length].nodeType}catch(xt){J={apply:Y.length?function(t,e){Q.apply(t,Z.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}A=e.support={},E=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},T=e.setDocument=function(t){var e,n,i=t?t.ownerDocument||t:z;return i!==$&&9===i.nodeType&&i.documentElement?($=i,L=$.documentElement,B=!E($),(n=$.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",Ct,!1):n.attachEvent&&n.attachEvent("onunload",Ct)),A.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),A.getElementsByTagName=r(function(t){return t.appendChild($.createComment("")),!t.getElementsByTagName("*").length}),A.getElementsByClassName=mt.test($.getElementsByClassName),A.getById=r(function(t){return L.appendChild(t).id=P,!$.getElementsByName||!$.getElementsByName(P).length}),A.getById?(C.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&B){var n=e.getElementById(t);return n?[n]:[]}},C.filter.ID=function(t){var e=t.replace(bt,At);return function(t){return t.getAttribute("id")===e}}):(delete C.find.ID,C.filter.ID=function(t){var e=t.replace(bt,At);return function(t){var n="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}}),C.find.TAG=A.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):A.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},C.find.CLASS=A.getElementsByClassName&&function(t,e){return"undefined"!=typeof e.getElementsByClassName&&B?e.getElementsByClassName(t):void 0},N=[],R=[],(A.qsa=mt.test($.querySelectorAll))&&(r(function(t){L.appendChild(t).innerHTML="<a id='"+P+"'></a><select id='"+P+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&R.push("[*^$]="+nt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||R.push("\\["+nt+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+P+"-]").length||R.push("~="),t.querySelectorAll(":checked").length||R.push(":checked"),t.querySelectorAll("a#"+P+"+*").length||R.push(".#.+[+~]")}),r(function(t){var e=$.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&R.push("name"+nt+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||R.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),R.push(",.*:")})),(A.matchesSelector=mt.test(O=L.matches||L.webkitMatchesSelector||L.mozMatchesSelector||L.oMatchesSelector||L.msMatchesSelector))&&r(function(t){A.disconnectedMatch=O.call(t,"div"),O.call(t,"[s!='']:x"),N.push("!=",ot)}),R=R.length&&new RegExp(R.join("|")),N=N.length&&new RegExp(N.join("|")),e=mt.test(L.compareDocumentPosition),I=e||mt.test(L.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},V=e?function(t,e){if(t===e)return M=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n?n:(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!A.sortDetached&&e.compareDocumentPosition(t)===n?t===$||t.ownerDocument===z&&I(z,t)?-1:e===$||e.ownerDocument===z&&I(z,e)?1:D?tt(D,t)-tt(D,e):0:4&n?-1:1)}:function(t,e){if(t===e)return M=!0,0;var n,i=0,r=t.parentNode,o=e.parentNode,a=[t],l=[e];if(!r||!o)return t===$?-1:e===$?1:r?-1:o?1:D?tt(D,t)-tt(D,e):0;if(r===o)return s(t,e);for(n=t;n=n.parentNode;)a.unshift(n);for(n=e;n=n.parentNode;)l.unshift(n);for(;a[i]===l[i];)i++;return i?s(a[i],l[i]):a[i]===z?-1:l[i]===z?1:0},$):$},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==$&&T(t),n=n.replace(ct,"='$1']"),A.matchesSelector&&B&&!q[n+" "]&&(!N||!N.test(n))&&(!R||!R.test(n)))try{var i=O.call(t,n);if(i||A.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(r){}return e(n,$,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==$&&T(t),I(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==$&&T(t);var n=C.attrHandle[e.toLowerCase()],i=n&&K.call(C.attrHandle,e.toLowerCase())?n(t,e,!B):void 0;return void 0!==i?i:A.attributes||!B?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],i=0,r=0;if(M=!A.detectDuplicates,D=!A.sortStable&&t.slice(0),t.sort(V),M){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return D=null,t},x=e.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=x(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i++];)n+=x(e);return n},C=e.selectors={cacheLength:50,createPseudo:i,match:ft,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(bt,At),t[3]=(t[3]||t[4]||t[5]||"").replace(bt,At),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return ft.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&ht.test(n)&&(e=_(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(bt,At).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=W[t+" "];return e||(e=new RegExp("(^|"+nt+")"+t+"("+nt+"|$)"))&&W(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,i){return function(r){var o=e.attr(r,t);return null==o?"!="===n:n?(o+="","="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o.replace(st," ")+" ").indexOf(i)>-1:"|="===n?o===i||o.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,l){var u,c,h,d,f,p,g=o!==s?"nextSibling":"previousSibling",m=e.parentNode,v=a&&e.nodeName.toLowerCase(),y=!l&&!a,w=!1;if(m){if(o){for(;g;){for(d=e;d=d[g];)if(a?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;p=g="only"===t&&!p&&"nextSibling"}return!0}if(p=[s?m.firstChild:m.lastChild],s&&y){for(d=m,h=d[P]||(d[P]={}),c=h[d.uniqueID]||(h[d.uniqueID]={}),u=c[t]||[],f=u[0]===j&&u[1],w=f&&u[2],d=f&&m.childNodes[f];d=++f&&d&&d[g]||(w=f=0)||p.pop();)if(1===d.nodeType&&++w&&d===e){c[t]=[j,f,w];break}}else if(y&&(d=e,h=d[P]||(d[P]={}),c=h[d.uniqueID]||(h[d.uniqueID]={}),u=c[t]||[],f=u[0]===j&&u[1],w=f),w===!1)for(;(d=++f&&d&&d[g]||(w=f=0)||p.pop())&&((a?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++w||(y&&(h=d[P]||(d[P]={}),c=h[d.uniqueID]||(h[d.uniqueID]={}),c[t]=[j,w]),d!==e)););return w-=r,w===i||w%i===0&&w/i>=0}}},PSEUDO:function(t,n){var r,o=C.pseudos[t]||C.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[P]?o(n):o.length>1?(r=[t,t,"",n],C.setFilters.hasOwnProperty(t.toLowerCase())?i(function(t,e){for(var i,r=o(t,n),s=r.length;s--;)i=tt(t,r[s]),t[i]=!(e[i]=r[s])}):function(t){return o(t,0,r)}):o}},pseudos:{not:i(function(t){var e=[],n=[],r=F(t.replace(at,"$1"));return r[P]?i(function(t,e,n,i){for(var o,s=r(t,null,i,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))}):function(t,i,o){return e[0]=t,r(e,null,o,n),e[0]=null,!n.pop()}}),has:i(function(t){return function(n){return e(t,n).length>0}}),contains:i(function(t){return t=t.replace(bt,At),function(e){return(e.textContent||e.innerText||x(e)).indexOf(t)>-1}}),lang:i(function(t){return dt.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(bt,At).toLowerCase(),function(e){var n;do if(n=B?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===L},focus:function(t){return t===$.activeElement&&(!$.hasFocus||$.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){
return!C.pseudos.empty(t)},header:function(t){return gt.test(t.nodeName)},input:function(t){return pt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:u(function(){return[0]}),last:u(function(t,e){return[e-1]}),eq:u(function(t,e,n){return[0>n?n+e:n]}),even:u(function(t,e){for(var n=0;e>n;n+=2)t.push(n);return t}),odd:u(function(t,e){for(var n=1;e>n;n+=2)t.push(n);return t}),lt:u(function(t,e,n){for(var i=0>n?n+e:n;--i>=0;)t.push(i);return t}),gt:u(function(t,e,n){for(var i=0>n?n+e:n;++i<e;)t.push(i);return t})}},C.pseudos.nth=C.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})C.pseudos[b]=a(b);for(b in{submit:!0,reset:!0})C.pseudos[b]=l(b);return h.prototype=C.filters=C.pseudos,C.setFilters=new h,_=e.tokenize=function(t,n){var i,r,o,s,a,l,u,c=U[t+" "];if(c)return n?0:c.slice(0);for(a=t,l=[],u=C.preFilter;a;){i&&!(r=lt.exec(a))||(r&&(a=a.slice(r[0].length)||a),l.push(o=[])),i=!1,(r=ut.exec(a))&&(i=r.shift(),o.push({value:i,type:r[0].replace(at," ")}),a=a.slice(i.length));for(s in C.filter)!(r=ft[s].exec(a))||u[s]&&!(r=u[s](r))||(i=r.shift(),o.push({value:i,type:s,matches:r}),a=a.slice(i.length));if(!i)break}return n?a.length:a?e.error(t):U(t,l).slice(0)},F=e.compile=function(t,e){var n,i=[],r=[],o=q[t+" "];if(!o){for(e||(e=_(t)),n=e.length;n--;)o=y(e[n]),o[P]?i.push(o):r.push(o);o=q(t,w(r,i)),o.selector=t}return o},k=e.select=function(t,e,n,i){var r,o,s,a,l,u="function"==typeof t&&t,h=!i&&_(t=u.selector||t);if(n=n||[],1===h.length){if(o=h[0]=h[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&A.getById&&9===e.nodeType&&B&&C.relative[o[1].type]){if(e=(C.find.ID(s.matches[0].replace(bt,At),e)||[])[0],!e)return n;u&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(r=ft.needsContext.test(t)?0:o.length;r--&&(s=o[r],!C.relative[a=s.type]);)if((l=C.find[a])&&(i=l(s.matches[0].replace(bt,At),yt.test(o[0].type)&&c(e.parentNode)||e))){if(o.splice(r,1),t=i.length&&d(o),!t)return J.apply(n,i),n;break}}return(u||F(t,h))(i,e,!B,n,!e||yt.test(t)&&c(e.parentNode)||e),n},A.sortStable=P.split("").sort(V).join("")===P,A.detectDuplicates=!!M,T(),A.sortDetached=r(function(t){return 1&t.compareDocumentPosition($.createElement("div"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,n){return n?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),A.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,n){return n||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),r(function(t){return null==t.getAttribute("disabled")})||o(et,function(t,e,n){var i;return n?void 0:t[e]===!0?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),e}(t);ot.find=ct,ot.expr=ct.selectors,ot.expr[":"]=ot.expr.pseudos,ot.uniqueSort=ot.unique=ct.uniqueSort,ot.text=ct.getText,ot.isXMLDoc=ct.isXML,ot.contains=ct.contains;var ht=function(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&ot(t).is(n))break;i.push(t)}return i},dt=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},ft=ot.expr.match.needsContext,pt=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,gt=/^.[^:#\[\.,]*$/;ot.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?ot.find.matchesSelector(i,t)?[i]:[]:ot.find.matches(t,ot.grep(e,function(t){return 1===t.nodeType}))},ot.fn.extend({find:function(t){var e,n=this.length,i=[],r=this;if("string"!=typeof t)return this.pushStack(ot(t).filter(function(){for(e=0;n>e;e++)if(ot.contains(r[e],this))return!0}));for(e=0;n>e;e++)ot.find(t,r[e],i);return i=this.pushStack(n>1?ot.unique(i):i),i.selector=this.selector?this.selector+" "+t:t,i},filter:function(t){return this.pushStack(i(this,t||[],!1))},not:function(t){return this.pushStack(i(this,t||[],!0))},is:function(t){return!!i(this,"string"==typeof t&&ft.test(t)?ot(t):t||[],!1).length}});var mt,vt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,yt=ot.fn.init=function(t,e,n){var i,r;if(!t)return this;if(n=n||mt,"string"==typeof t){if(i="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:vt.exec(t),!i||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof ot?e[0]:e,ot.merge(this,ot.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:Y,!0)),pt.test(i[1])&&ot.isPlainObject(e))for(i in e)ot.isFunction(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return r=Y.getElementById(i[2]),r&&r.parentNode&&(this.length=1,this[0]=r),this.context=Y,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):ot.isFunction(t)?void 0!==n.ready?n.ready(t):t(ot):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),ot.makeArray(t,this))};yt.prototype=ot.fn,mt=ot(Y);var wt=/^(?:parents|prev(?:Until|All))/,bt={children:!0,contents:!0,next:!0,prev:!0};ot.fn.extend({has:function(t){var e=ot(t,this),n=e.length;return this.filter(function(){for(var t=0;n>t;t++)if(ot.contains(this,e[t]))return!0})},closest:function(t,e){for(var n,i=0,r=this.length,o=[],s=ft.test(t)||"string"!=typeof t?ot(t,e||this.context):0;r>i;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&ot.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?ot.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?Z.call(ot(t),this[0]):Z.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(ot.uniqueSort(ot.merge(this.get(),ot(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),ot.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return ht(t,"parentNode")},parentsUntil:function(t,e,n){return ht(t,"parentNode",n)},next:function(t){return r(t,"nextSibling")},prev:function(t){return r(t,"previousSibling")},nextAll:function(t){return ht(t,"nextSibling")},prevAll:function(t){return ht(t,"previousSibling")},nextUntil:function(t,e,n){return ht(t,"nextSibling",n)},prevUntil:function(t,e,n){return ht(t,"previousSibling",n)},siblings:function(t){return dt((t.parentNode||{}).firstChild,t)},children:function(t){return dt(t.firstChild)},contents:function(t){return t.contentDocument||ot.merge([],t.childNodes)}},function(t,e){ot.fn[t]=function(n,i){var r=ot.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=ot.filter(i,r)),this.length>1&&(bt[t]||ot.uniqueSort(r),wt.test(t)&&r.reverse()),this.pushStack(r)}});var At=/\S+/g;ot.Callbacks=function(t){t="string"==typeof t?o(t):ot.extend({},t);var e,n,i,r,s=[],a=[],l=-1,u=function(){for(r=t.once,i=e=!0;a.length;l=-1)for(n=a.shift();++l<s.length;)s[l].apply(n[0],n[1])===!1&&t.stopOnFalse&&(l=s.length,n=!1);t.memory||(n=!1),e=!1,r&&(s=n?[]:"")},c={add:function(){return s&&(n&&!e&&(l=s.length-1,a.push(n)),function i(e){ot.each(e,function(e,n){ot.isFunction(n)?t.unique&&c.has(n)||s.push(n):n&&n.length&&"string"!==ot.type(n)&&i(n)})}(arguments),n&&!e&&u()),this},remove:function(){return ot.each(arguments,function(t,e){for(var n;(n=ot.inArray(e,s,n))>-1;)s.splice(n,1),l>=n&&l--}),this},has:function(t){return t?ot.inArray(t,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return r=a=[],s=n="",this},disabled:function(){return!s},lock:function(){return r=a=[],n||(s=n=""),this},locked:function(){return!!r},fireWith:function(t,n){return r||(n=n||[],n=[t,n.slice?n.slice():n],a.push(n),e||u()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},ot.extend({Deferred:function(t){var e=[["resolve","done",ot.Callbacks("once memory"),"resolved"],["reject","fail",ot.Callbacks("once memory"),"rejected"],["notify","progress",ot.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var t=arguments;return ot.Deferred(function(n){ot.each(e,function(e,o){var s=ot.isFunction(t[e])&&t[e];r[o[1]](function(){var t=s&&s.apply(this,arguments);t&&ot.isFunction(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[o[0]+"With"](this===i?n.promise():this,s?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?ot.extend(t,i):i}},r={};return i.pipe=i.then,ot.each(e,function(t,o){var s=o[2],a=o[3];i[o[1]]=s.add,a&&s.add(function(){n=a},e[1^t][2].disable,e[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?i:this,arguments),this},r[o[0]+"With"]=s.fireWith}),i.promise(r),t&&t.call(r,r),r},when:function(t){var e,n,i,r=0,o=X.call(arguments),s=o.length,a=1!==s||t&&ot.isFunction(t.promise)?s:0,l=1===a?t:ot.Deferred(),u=function(t,n,i){return function(r){n[t]=this,i[t]=arguments.length>1?X.call(arguments):r,i===e?l.notifyWith(n,i):--a||l.resolveWith(n,i)}};if(s>1)for(e=new Array(s),n=new Array(s),i=new Array(s);s>r;r++)o[r]&&ot.isFunction(o[r].promise)?o[r].promise().progress(u(r,n,e)).done(u(r,i,o)).fail(l.reject):--a;return a||l.resolveWith(i,o),l.promise()}});var Ct;ot.fn.ready=function(t){return ot.ready.promise().done(t),this},ot.extend({isReady:!1,readyWait:1,holdReady:function(t){t?ot.readyWait++:ot.ready(!0)},ready:function(t){(t===!0?--ot.readyWait:ot.isReady)||(ot.isReady=!0,t!==!0&&--ot.readyWait>0||(Ct.resolveWith(Y,[ot]),ot.fn.triggerHandler&&(ot(Y).triggerHandler("ready"),ot(Y).off("ready"))))}}),ot.ready.promise=function(e){return Ct||(Ct=ot.Deferred(),"complete"===Y.readyState||"loading"!==Y.readyState&&!Y.documentElement.doScroll?t.setTimeout(ot.ready):(Y.addEventListener("DOMContentLoaded",s),t.addEventListener("load",s))),Ct.promise(e)},ot.ready.promise();var xt=function(t,e,n,i,r,o,s){var a=0,l=t.length,u=null==n;if("object"===ot.type(n)){r=!0;for(a in n)xt(t,e,a,n[a],!0,o,s)}else if(void 0!==i&&(r=!0,ot.isFunction(i)||(s=!0),u&&(s?(e.call(t,i),e=null):(u=e,e=function(t,e,n){return u.call(ot(t),n)})),e))for(;l>a;a++)e(t[a],n,s?i:i.call(t[a],a,e(t[a],n)));return r?t:u?e.call(t):l?e(t[0],n):o},Et=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};a.uid=1,a.prototype={register:function(t,e){var n=e||{};return t.nodeType?t[this.expando]=n:Object.defineProperty(t,this.expando,{value:n,writable:!0,configurable:!0}),t[this.expando]},cache:function(t){if(!Et(t))return{};var e=t[this.expando];return e||(e={},Et(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,r=this.cache(t);if("string"==typeof e)r[e]=n;else for(i in e)r[i]=e[i];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][e]},access:function(t,e,n){var i;return void 0===e||e&&"string"==typeof e&&void 0===n?(i=this.get(t,e),void 0!==i?i:this.get(t,ot.camelCase(e))):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i,r,o=t[this.expando];if(void 0!==o){if(void 0===e)this.register(t);else{ot.isArray(e)?i=e.concat(e.map(ot.camelCase)):(r=ot.camelCase(e),e in o?i=[e,r]:(i=r,i=i in o?[i]:i.match(At)||[])),n=i.length;for(;n--;)delete o[i[n]]}(void 0===e||ot.isEmptyObject(o))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!ot.isEmptyObject(e)}};var _t=new a,Ft=new a,kt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,St=/[A-Z]/g;ot.extend({hasData:function(t){return Ft.hasData(t)||_t.hasData(t)},data:function(t,e,n){return Ft.access(t,e,n)},removeData:function(t,e){Ft.remove(t,e)},_data:function(t,e,n){return _t.access(t,e,n)},_removeData:function(t,e){_t.remove(t,e)}}),ot.fn.extend({data:function(t,e){var n,i,r,o=this[0],s=o&&o.attributes;if(void 0===t){if(this.length&&(r=Ft.get(o),1===o.nodeType&&!_t.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&(i=s[n].name,0===i.indexOf("data-")&&(i=ot.camelCase(i.slice(5)),l(o,i,r[i])));_t.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each(function(){Ft.set(this,t)}):xt(this,function(e){var n,i;if(o&&void 0===e){if(n=Ft.get(o,t)||Ft.get(o,t.replace(St,"-$&").toLowerCase()),void 0!==n)return n;if(i=ot.camelCase(t),n=Ft.get(o,i),void 0!==n)return n;if(n=l(o,i,void 0),void 0!==n)return n}else i=ot.camelCase(t),this.each(function(){var n=Ft.get(this,i);Ft.set(this,i,e),t.indexOf("-")>-1&&void 0!==n&&Ft.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){Ft.remove(this,t)})}}),ot.extend({queue:function(t,e,n){var i;return t?(e=(e||"fx")+"queue",i=_t.get(t,e),n&&(!i||ot.isArray(n)?i=_t.access(t,e,ot.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(t,e){e=e||"fx";var n=ot.queue(t,e),i=n.length,r=n.shift(),o=ot._queueHooks(t,e),s=function(){ot.dequeue(t,e)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,s,o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return _t.get(t,n)||_t.access(t,n,{empty:ot.Callbacks("once memory").add(function(){_t.remove(t,[e+"queue",n])})})}}),ot.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?ot.queue(this[0],t):void 0===e?this:this.each(function(){var n=ot.queue(this,t,e);ot._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&ot.dequeue(this,t)})},dequeue:function(t){return this.each(function(){ot.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=ot.Deferred(),o=this,s=this.length,a=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)n=_t.get(o[s],t+"queueHooks"),n&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(e)}});var Dt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Mt=new RegExp("^(?:([+-])=|)("+Dt+")([a-z%]*)$","i"),Tt=["Top","Right","Bottom","Left"],$t=function(t,e){return t=e||t,"none"===ot.css(t,"display")||!ot.contains(t.ownerDocument,t)},Lt=/^(?:checkbox|radio)$/i,Bt=/<([\w:-]+)/,Rt=/^$|\/(?:java|ecma)script/i,Nt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Nt.optgroup=Nt.option,Nt.tbody=Nt.tfoot=Nt.colgroup=Nt.caption=Nt.thead,Nt.th=Nt.td;var Ot=/<|&#?\w+;/;!function(){var t=Y.createDocumentFragment(),e=t.appendChild(Y.createElement("div")),n=Y.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),it.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",it.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var It=/^key/,Pt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,zt=/^([^.]*)(?:\.(.+)|)/;ot.event={global:{},add:function(t,e,n,i,r){var o,s,a,l,u,c,h,d,f,p,g,m=_t.get(t);if(m)for(n.handler&&(o=n,n=o.handler,r=o.selector),n.guid||(n.guid=ot.guid++),(l=m.events)||(l=m.events={}),(s=m.handle)||(s=m.handle=function(e){return"undefined"!=typeof ot&&ot.event.triggered!==e.type?ot.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(At)||[""],u=e.length;u--;)a=zt.exec(e[u])||[],f=g=a[1],p=(a[2]||"").split(".").sort(),f&&(h=ot.event.special[f]||{},f=(r?h.delegateType:h.bindType)||f,h=ot.event.special[f]||{},c=ot.extend({type:f,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&ot.expr.match.needsContext.test(r),namespace:p.join(".")},o),(d=l[f])||(d=l[f]=[],d.delegateCount=0,h.setup&&h.setup.call(t,i,p,s)!==!1||t.addEventListener&&t.addEventListener(f,s)),h.add&&(h.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),r?d.splice(d.delegateCount++,0,c):d.push(c),ot.event.global[f]=!0)},remove:function(t,e,n,i,r){var o,s,a,l,u,c,h,d,f,p,g,m=_t.hasData(t)&&_t.get(t);if(m&&(l=m.events)){for(e=(e||"").match(At)||[""],u=e.length;u--;)if(a=zt.exec(e[u])||[],f=g=a[1],p=(a[2]||"").split(".").sort(),f){for(h=ot.event.special[f]||{},f=(i?h.delegateType:h.bindType)||f,d=l[f]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=d.length;o--;)c=d[o],!r&&g!==c.origType||n&&n.guid!==c.guid||a&&!a.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(d.splice(o,1),c.selector&&d.delegateCount--,h.remove&&h.remove.call(t,c));s&&!d.length&&(h.teardown&&h.teardown.call(t,p,m.handle)!==!1||ot.removeEvent(t,f,m.handle),delete l[f])}else for(f in l)ot.event.remove(t,f+e[u],n,i,!0);ot.isEmptyObject(l)&&_t.remove(t,"handle events")}},dispatch:function(t){t=ot.event.fix(t);var e,n,i,r,o,s=[],a=X.call(arguments),l=(_t.get(this,"events")||{})[t.type]||[],u=ot.event.special[t.type]||{};if(a[0]=t,t.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,t)!==!1){for(s=ot.event.handlers.call(this,t,l),e=0;(r=s[e++])&&!t.isPropagationStopped();)for(t.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!t.isImmediatePropagationStopped();)t.rnamespace&&!t.rnamespace.test(o.namespace)||(t.handleObj=o,t.data=o.data,i=((ot.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,a),void 0!==i&&(t.result=i)===!1&&(t.preventDefault(),t.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,i,r,o,s=[],a=e.delegateCount,l=t.target;if(a&&l.nodeType&&("click"!==t.type||isNaN(t.button)||t.button<1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==t.type)){for(i=[],n=0;a>n;n++)o=e[n],r=o.selector+" ",void 0===i[r]&&(i[r]=o.needsContext?ot(r,this).index(l)>-1:ot.find(r,this,null,[l]).length),i[r]&&i.push(o);i.length&&s.push({elem:l,handlers:i})}return a<e.length&&s.push({elem:this,handlers:e.slice(a)}),s},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,i,r,o=e.button;return null==t.pageX&&null!=e.clientX&&(n=t.target.ownerDocument||Y,i=n.documentElement,r=n.body,t.pageX=e.clientX+(i&&i.scrollLeft||r&&r.scrollLeft||0)-(i&&i.clientLeft||r&&r.clientLeft||0),t.pageY=e.clientY+(i&&i.scrollTop||r&&r.scrollTop||0)-(i&&i.clientTop||r&&r.clientTop||0)),t.which||void 0===o||(t.which=1&o?1:2&o?3:4&o?2:0),t}},fix:function(t){if(t[ot.expando])return t;var e,n,i,r=t.type,o=t,s=this.fixHooks[r];for(s||(this.fixHooks[r]=s=Pt.test(r)?this.mouseHooks:It.test(r)?this.keyHooks:{}),i=s.props?this.props.concat(s.props):this.props,t=new ot.Event(o),e=i.length;e--;)n=i[e],t[n]=o[n];return t.target||(t.target=Y),3===t.target.nodeType&&(t.target=t.target.parentNode),s.filter?s.filter(t,o):t},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==g()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===g()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&ot.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(t){return ot.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},ot.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},ot.Event=function(t,e){return this instanceof ot.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?f:p):this.type=t,e&&ot.extend(this,e),this.timeStamp=t&&t.timeStamp||ot.now(),void(this[ot.expando]=!0)):new ot.Event(t,e)},ot.Event.prototype={constructor:ot.Event,isDefaultPrevented:p,isPropagationStopped:p,isImmediatePropagationStopped:p,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=f,t&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=f,t&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=f,t&&t.stopImmediatePropagation(),this.stopPropagation()}},ot.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){ot.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,r=t.relatedTarget,o=t.handleObj;return r&&(r===i||ot.contains(i,r))||(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),ot.fn.extend({on:function(t,e,n,i){return m(this,t,e,n,i)},one:function(t,e,n,i){return m(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,ot(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return e!==!1&&"function"!=typeof e||(n=e,e=void 0),n===!1&&(n=p),this.each(function(){ot.event.remove(this,t,n,e)})}});var jt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Ht=/<script|<style|<link/i,Wt=/checked\s*(?:[^=]|=\s*.checked.)/i,Ut=/^true\/(.*)/,qt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;ot.extend({htmlPrefilter:function(t){return t.replace(jt,"<$1></$2>")},clone:function(t,e,n){var i,r,o,s,a=t.cloneNode(!0),l=ot.contains(t.ownerDocument,t);if(!(it.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||ot.isXMLDoc(t)))for(s=c(a),o=c(t),i=0,r=o.length;r>i;i++)A(o[i],s[i]);if(e)if(n)for(o=o||c(t),s=s||c(a),i=0,r=o.length;r>i;i++)b(o[i],s[i]);else b(t,a);return s=c(a,"script"),s.length>0&&h(s,!l&&c(t,"script")),a},cleanData:function(t){for(var e,n,i,r=ot.event.special,o=0;void 0!==(n=t[o]);o++)if(Et(n)){if(e=n[_t.expando]){if(e.events)for(i in e.events)r[i]?ot.event.remove(n,i):ot.removeEvent(n,i,e.handle);n[_t.expando]=void 0}n[Ft.expando]&&(n[Ft.expando]=void 0)}}}),ot.fn.extend({domManip:C,detach:function(t){return x(this,t,!0)},remove:function(t){return x(this,t)},text:function(t){return xt(this,function(t){return void 0===t?ot.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return C(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=v(this,t);e.appendChild(t)}})},prepend:function(){return C(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=v(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return C(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return C(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(ot.cleanData(c(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return ot.clone(this,t,e)})},html:function(t){return xt(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Ht.test(t)&&!Nt[(Bt.exec(t)||["",""])[1].toLowerCase()]){t=ot.htmlPrefilter(t);try{for(;i>n;n++)e=this[n]||{},1===e.nodeType&&(ot.cleanData(c(e,!1)),e.innerHTML=t);e=0}catch(r){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return C(this,arguments,function(e){var n=this.parentNode;ot.inArray(this,t)<0&&(ot.cleanData(c(this)),n&&n.replaceChild(e,this))},t)}}),ot.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){ot.fn[t]=function(t){for(var n,i=[],r=ot(t),o=r.length-1,s=0;o>=s;s++)n=s===o?this:this.clone(!0),ot(r[s])[e](n),J.apply(i,n.get());return this.pushStack(i)}});var Vt,Gt={HTML:"block",BODY:"block"},Kt=/^margin/,Yt=new RegExp("^("+Dt+")(?!px)[a-z%]+$","i"),Xt=function(e){var n=e.ownerDocument.defaultView;return n&&n.opener||(n=t),n.getComputedStyle(e)},Qt=function(t,e,n,i){var r,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];r=n.apply(t,i||[]);for(o in e)t.style[o]=s[o];return r},Jt=Y.documentElement;!function(){function e(){a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",a.innerHTML="",Jt.appendChild(s);var e=t.getComputedStyle(a);n="1%"!==e.top,o="2px"===e.marginLeft,i="4px"===e.width,a.style.marginRight="50%",r="4px"===e.marginRight,Jt.removeChild(s)}var n,i,r,o,s=Y.createElement("div"),a=Y.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",it.clearCloneStyle="content-box"===a.style.backgroundClip,s.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",s.appendChild(a),ot.extend(it,{pixelPosition:function(){return e(),n},boxSizingReliable:function(){return null==i&&e(),i},pixelMarginRight:function(){return null==i&&e(),r},reliableMarginLeft:function(){return null==i&&e(),o},reliableMarginRight:function(){var e,n=a.appendChild(Y.createElement("div"));return n.style.cssText=a.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",a.style.width="1px",Jt.appendChild(s),e=!parseFloat(t.getComputedStyle(n).marginRight),Jt.removeChild(s),a.removeChild(n),e}}))}();var Zt=/^(none|table(?!-c[ea]).+)/,te={position:"absolute",visibility:"hidden",display:"block"},ee={letterSpacing:"0",fontWeight:"400"},ne=["Webkit","O","Moz","ms"],ie=Y.createElement("div").style;ot.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=F(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,s,a=ot.camelCase(e),l=t.style;return e=ot.cssProps[a]||(ot.cssProps[a]=S(a)||a),s=ot.cssHooks[e]||ot.cssHooks[a],void 0===n?s&&"get"in s&&void 0!==(r=s.get(t,!1,i))?r:l[e]:(o=typeof n,"string"===o&&(r=Mt.exec(n))&&r[1]&&(n=u(t,e,r),o="number"),void(null!=n&&n===n&&("number"===o&&(n+=r&&r[3]||(ot.cssNumber[a]?"":"px")),it.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),s&&"set"in s&&void 0===(n=s.set(t,n,i))||(l[e]=n))))}},css:function(t,e,n,i){var r,o,s,a=ot.camelCase(e);return e=ot.cssProps[a]||(ot.cssProps[a]=S(a)||a),s=ot.cssHooks[e]||ot.cssHooks[a],s&&"get"in s&&(r=s.get(t,!0,n)),void 0===r&&(r=F(t,e,i)),"normal"===r&&e in ee&&(r=ee[e]),""===n||n?(o=parseFloat(r),n===!0||isFinite(o)?o||0:r):r}}),ot.each(["height","width"],function(t,e){ot.cssHooks[e]={get:function(t,n,i){return n?Zt.test(ot.css(t,"display"))&&0===t.offsetWidth?Qt(t,te,function(){return T(t,e,i)}):T(t,e,i):void 0},set:function(t,n,i){var r,o=i&&Xt(t),s=i&&M(t,e,i,"border-box"===ot.css(t,"boxSizing",!1,o),o);return s&&(r=Mt.exec(n))&&"px"!==(r[3]||"px")&&(t.style[e]=n,n=ot.css(t,e)),D(t,n,s)}}}),ot.cssHooks.marginLeft=k(it.reliableMarginLeft,function(t,e){return e?(parseFloat(F(t,"marginLeft"))||t.getBoundingClientRect().left-Qt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px":void 0}),ot.cssHooks.marginRight=k(it.reliableMarginRight,function(t,e){return e?Qt(t,{display:"inline-block"},F,[t,"marginRight"]):void 0}),ot.each({margin:"",padding:"",border:"Width"},function(t,e){ot.cssHooks[t+e]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];4>i;i++)r[t+Tt[i]+e]=o[i]||o[i-2]||o[0];return r}},Kt.test(t)||(ot.cssHooks[t+e].set=D)}),ot.fn.extend({css:function(t,e){return xt(this,function(t,e,n){var i,r,o={},s=0;if(ot.isArray(e)){for(i=Xt(t),r=e.length;r>s;s++)o[e[s]]=ot.css(t,e[s],!1,i);return o}return void 0!==n?ot.style(t,e,n):ot.css(t,e)},t,e,arguments.length>1)},show:function(){return $(this,!0)},hide:function(){return $(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){$t(this)?ot(this).show():ot(this).hide()})}}),ot.Tween=L,L.prototype={constructor:L,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||ot.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(ot.cssNumber[n]?"":"px")},cur:function(){var t=L.propHooks[this.prop];return t&&t.get?t.get(this):L.propHooks._default.get(this)},run:function(t){var e,n=L.propHooks[this.prop];return this.options.duration?this.pos=e=ot.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):L.propHooks._default.set(this),this}},L.prototype.init.prototype=L.prototype,L.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=ot.css(t.elem,t.prop,""),e&&"auto"!==e?e:0)},set:function(t){ot.fx.step[t.prop]?ot.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[ot.cssProps[t.prop]]&&!ot.cssHooks[t.prop]?t.elem[t.prop]=t.now:ot.style(t.elem,t.prop,t.now+t.unit)}}},L.propHooks.scrollTop=L.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},ot.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},ot.fx=L.prototype.init,ot.fx.step={};var re,oe,se=/^(?:toggle|show|hide)$/,ae=/queueHooks$/;ot.Animation=ot.extend(P,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return u(n.elem,t,Mt.exec(e),n),n}]},tweener:function(t,e){ot.isFunction(t)?(e=t,t=["*"]):t=t.match(At);for(var n,i=0,r=t.length;r>i;i++)n=t[i],P.tweeners[n]=P.tweeners[n]||[],P.tweeners[n].unshift(e)},prefilters:[O],prefilter:function(t,e){e?P.prefilters.unshift(t):P.prefilters.push(t)}}),ot.speed=function(t,e,n){var i=t&&"object"==typeof t?ot.extend({},t):{complete:n||!n&&e||ot.isFunction(t)&&t,duration:t,easing:n&&e||e&&!ot.isFunction(e)&&e};return i.duration=ot.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in ot.fx.speeds?ot.fx.speeds[i.duration]:ot.fx.speeds._default,null!=i.queue&&i.queue!==!0||(i.queue="fx"),i.old=i.complete,i.complete=function(){ot.isFunction(i.old)&&i.old.call(this),i.queue&&ot.dequeue(this,i.queue)},i},ot.fn.extend({fadeTo:function(t,e,n,i){return this.filter($t).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=ot.isEmptyObject(t),o=ot.speed(e,n,i),s=function(){var e=P(this,ot.extend({},t),o);(r||_t.get(this,"finish"))&&e.stop(!0)};return s.finish=s,r||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",o=ot.timers,s=_t.get(this);if(r)s[r]&&s[r].stop&&i(s[r]);else for(r in s)s[r]&&s[r].stop&&ae.test(r)&&i(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(n),e=!1,o.splice(r,1));!e&&n||ot.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=_t.get(this),i=n[t+"queue"],r=n[t+"queueHooks"],o=ot.timers,s=i?i.length:0;for(n.finish=!0,ot.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;s>e;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),ot.each(["toggle","show","hide"],function(t,e){
var n=ot.fn[e];ot.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(R(e,!0),t,i,r)}}),ot.each({slideDown:R("show"),slideUp:R("hide"),slideToggle:R("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){ot.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),ot.timers=[],ot.fx.tick=function(){var t,e=0,n=ot.timers;for(re=ot.now();e<n.length;e++)t=n[e],t()||n[e]!==t||n.splice(e--,1);n.length||ot.fx.stop(),re=void 0},ot.fx.timer=function(t){ot.timers.push(t),t()?ot.fx.start():ot.timers.pop()},ot.fx.interval=13,ot.fx.start=function(){oe||(oe=t.setInterval(ot.fx.tick,ot.fx.interval))},ot.fx.stop=function(){t.clearInterval(oe),oe=null},ot.fx.speeds={slow:600,fast:200,_default:400},ot.fn.delay=function(e,n){return e=ot.fx?ot.fx.speeds[e]||e:e,n=n||"fx",this.queue(n,function(n,i){var r=t.setTimeout(n,e);i.stop=function(){t.clearTimeout(r)}})},function(){var t=Y.createElement("input"),e=Y.createElement("select"),n=e.appendChild(Y.createElement("option"));t.type="checkbox",it.checkOn=""!==t.value,it.optSelected=n.selected,e.disabled=!0,it.optDisabled=!n.disabled,t=Y.createElement("input"),t.value="t",t.type="radio",it.radioValue="t"===t.value}();var le,ue=ot.expr.attrHandle;ot.fn.extend({attr:function(t,e){return xt(this,ot.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){ot.removeAttr(this,t)})}}),ot.extend({attr:function(t,e,n){var i,r,o=t.nodeType;return 3!==o&&8!==o&&2!==o?"undefined"==typeof t.getAttribute?ot.prop(t,e,n):(1===o&&ot.isXMLDoc(t)||(e=e.toLowerCase(),r=ot.attrHooks[e]||(ot.expr.match.bool.test(e)?le:void 0)),void 0!==n?null===n?void ot.removeAttr(t,e):r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))?i:(i=ot.find.attr(t,e),null==i?void 0:i)):void 0},attrHooks:{type:{set:function(t,e){if(!it.radioValue&&"radio"===e&&ot.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i,r=0,o=e&&e.match(At);if(o&&1===t.nodeType)for(;n=o[r++];)i=ot.propFix[n]||n,ot.expr.match.bool.test(n)&&(t[i]=!1),t.removeAttribute(n)}}),le={set:function(t,e,n){return e===!1?ot.removeAttr(t,n):t.setAttribute(n,n),n}},ot.each(ot.expr.match.bool.source.match(/\w+/g),function(t,e){var n=ue[e]||ot.find.attr;ue[e]=function(t,e,i){var r,o;return i||(o=ue[e],ue[e]=r,r=null!=n(t,e,i)?e.toLowerCase():null,ue[e]=o),r}});var ce=/^(?:input|select|textarea|button)$/i,he=/^(?:a|area)$/i;ot.fn.extend({prop:function(t,e){return xt(this,ot.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[ot.propFix[t]||t]})}}),ot.extend({prop:function(t,e,n){var i,r,o=t.nodeType;return 3!==o&&8!==o&&2!==o?(1===o&&ot.isXMLDoc(t)||(e=ot.propFix[e]||e,r=ot.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]):void 0},propHooks:{tabIndex:{get:function(t){var e=ot.find.attr(t,"tabindex");return e?parseInt(e,10):ce.test(t.nodeName)||he.test(t.nodeName)&&t.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),it.optSelected||(ot.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),ot.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ot.propFix[this.toLowerCase()]=this});var de=/[\t\r\n\f]/g;ot.fn.extend({addClass:function(t){var e,n,i,r,o,s,a,l=0;if(ot.isFunction(t))return this.each(function(e){ot(this).addClass(t.call(this,e,z(this)))});if("string"==typeof t&&t)for(e=t.match(At)||[];n=this[l++];)if(r=z(n),i=1===n.nodeType&&(" "+r+" ").replace(de," ")){for(s=0;o=e[s++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");a=ot.trim(i),r!==a&&n.setAttribute("class",a)}return this},removeClass:function(t){var e,n,i,r,o,s,a,l=0;if(ot.isFunction(t))return this.each(function(e){ot(this).removeClass(t.call(this,e,z(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(At)||[];n=this[l++];)if(r=z(n),i=1===n.nodeType&&(" "+r+" ").replace(de," ")){for(s=0;o=e[s++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");a=ot.trim(i),r!==a&&n.setAttribute("class",a)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):ot.isFunction(t)?this.each(function(n){ot(this).toggleClass(t.call(this,n,z(this),e),e)}):this.each(function(){var e,i,r,o;if("string"===n)for(i=0,r=ot(this),o=t.match(At)||[];e=o[i++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else void 0!==t&&"boolean"!==n||(e=z(this),e&&_t.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||t===!1?"":_t.get(this,"__className__")||""))})},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&(" "+z(n)+" ").replace(de," ").indexOf(e)>-1)return!0;return!1}});var fe=/\r/g,pe=/[\x20\t\r\n\f]+/g;ot.fn.extend({val:function(t){var e,n,i,r=this[0];return arguments.length?(i=ot.isFunction(t),this.each(function(n){var r;1===this.nodeType&&(r=i?t.call(this,n,ot(this).val()):t,null==r?r="":"number"==typeof r?r+="":ot.isArray(r)&&(r=ot.map(r,function(t){return null==t?"":t+""})),e=ot.valHooks[this.type]||ot.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))})):r?(e=ot.valHooks[r.type]||ot.valHooks[r.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(fe,""):null==n?"":n)):void 0}}),ot.extend({valHooks:{option:{get:function(t){var e=ot.find.attr(t,"value");return null!=e?e:ot.trim(ot.text(t)).replace(pe," ")}},select:{get:function(t){for(var e,n,i=t.options,r=t.selectedIndex,o="select-one"===t.type||0>r,s=o?null:[],a=o?r+1:i.length,l=0>r?a:o?r:0;a>l;l++)if(n=i[l],(n.selected||l===r)&&(it.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!ot.nodeName(n.parentNode,"optgroup"))){if(e=ot(n).val(),o)return e;s.push(e)}return s},set:function(t,e){for(var n,i,r=t.options,o=ot.makeArray(e),s=r.length;s--;)i=r[s],(i.selected=ot.inArray(ot.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),ot.each(["radio","checkbox"],function(){ot.valHooks[this]={set:function(t,e){return ot.isArray(e)?t.checked=ot.inArray(ot(t).val(),e)>-1:void 0}},it.checkOn||(ot.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var ge=/^(?:focusinfocus|focusoutblur)$/;ot.extend(ot.event,{trigger:function(e,n,i,r){var o,s,a,l,u,c,h,d=[i||Y],f=nt.call(e,"type")?e.type:e,p=nt.call(e,"namespace")?e.namespace.split("."):[];if(s=a=i=i||Y,3!==i.nodeType&&8!==i.nodeType&&!ge.test(f+ot.event.triggered)&&(f.indexOf(".")>-1&&(p=f.split("."),f=p.shift(),p.sort()),u=f.indexOf(":")<0&&"on"+f,e=e[ot.expando]?e:new ot.Event(f,"object"==typeof e&&e),e.isTrigger=r?2:3,e.namespace=p.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),n=null==n?[e]:ot.makeArray(n,[e]),h=ot.event.special[f]||{},r||!h.trigger||h.trigger.apply(i,n)!==!1)){if(!r&&!h.noBubble&&!ot.isWindow(i)){for(l=h.delegateType||f,ge.test(l+f)||(s=s.parentNode);s;s=s.parentNode)d.push(s),a=s;a===(i.ownerDocument||Y)&&d.push(a.defaultView||a.parentWindow||t)}for(o=0;(s=d[o++])&&!e.isPropagationStopped();)e.type=o>1?l:h.bindType||f,c=(_t.get(s,"events")||{})[e.type]&&_t.get(s,"handle"),c&&c.apply(s,n),c=u&&s[u],c&&c.apply&&Et(s)&&(e.result=c.apply(s,n),e.result===!1&&e.preventDefault());return e.type=f,r||e.isDefaultPrevented()||h._default&&h._default.apply(d.pop(),n)!==!1||!Et(i)||u&&ot.isFunction(i[f])&&!ot.isWindow(i)&&(a=i[u],a&&(i[u]=null),ot.event.triggered=f,i[f](),ot.event.triggered=void 0,a&&(i[u]=a)),e.result}},simulate:function(t,e,n){var i=ot.extend(new ot.Event,n,{type:t,isSimulated:!0});ot.event.trigger(i,null,e),i.isDefaultPrevented()&&n.preventDefault()}}),ot.fn.extend({trigger:function(t,e){return this.each(function(){ot.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];return n?ot.event.trigger(t,e,n,!0):void 0}}),ot.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){ot.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),ot.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),it.focusin="onfocusin"in t,it.focusin||ot.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){ot.event.simulate(e,t.target,ot.event.fix(t))};ot.event.special[e]={setup:function(){var i=this.ownerDocument||this,r=_t.access(i,e);r||i.addEventListener(t,n,!0),_t.access(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=_t.access(i,e)-1;r?_t.access(i,e,r):(i.removeEventListener(t,n,!0),_t.remove(i,e))}}});var me=t.location,ve=ot.now(),ye=/\?/;ot.parseJSON=function(t){return JSON.parse(t+"")},ot.parseXML=function(e){var n;if(!e||"string"!=typeof e)return null;try{n=(new t.DOMParser).parseFromString(e,"text/xml")}catch(i){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||ot.error("Invalid XML: "+e),n};var we=/#.*$/,be=/([?&])_=[^&]*/,Ae=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ce=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,xe=/^(?:GET|HEAD)$/,Ee=/^\/\//,_e={},Fe={},ke="*/".concat("*"),Se=Y.createElement("a");Se.href=me.href,ot.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:me.href,type:"GET",isLocal:Ce.test(me.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ke,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ot.parseJSON,"text xml":ot.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?W(W(t,ot.ajaxSettings),e):W(ot.ajaxSettings,t)},ajaxPrefilter:j(_e),ajaxTransport:j(Fe),ajax:function(e,n){function i(e,n,i,a){var u,h,y,w,A,x=n;2!==b&&(b=2,l&&t.clearTimeout(l),r=void 0,s=a||"",C.readyState=e>0?4:0,u=e>=200&&300>e||304===e,i&&(w=U(d,C,i)),w=q(d,w,C,u),u?(d.ifModified&&(A=C.getResponseHeader("Last-Modified"),A&&(ot.lastModified[o]=A),A=C.getResponseHeader("etag"),A&&(ot.etag[o]=A)),204===e||"HEAD"===d.type?x="nocontent":304===e?x="notmodified":(x=w.state,h=w.data,y=w.error,u=!y)):(y=x,!e&&x||(x="error",0>e&&(e=0))),C.status=e,C.statusText=(n||x)+"",u?g.resolveWith(f,[h,x,C]):g.rejectWith(f,[C,x,y]),C.statusCode(v),v=void 0,c&&p.trigger(u?"ajaxSuccess":"ajaxError",[C,d,u?h:y]),m.fireWith(f,[C,x]),c&&(p.trigger("ajaxComplete",[C,d]),--ot.active||ot.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=void 0),n=n||{};var r,o,s,a,l,u,c,h,d=ot.ajaxSetup({},n),f=d.context||d,p=d.context&&(f.nodeType||f.jquery)?ot(f):ot.event,g=ot.Deferred(),m=ot.Callbacks("once memory"),v=d.statusCode||{},y={},w={},b=0,A="canceled",C={readyState:0,getResponseHeader:function(t){var e;if(2===b){if(!a)for(a={};e=Ae.exec(s);)a[e[1].toLowerCase()]=e[2];e=a[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===b?s:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return b||(t=w[n]=w[n]||t,y[t]=e),this},overrideMimeType:function(t){return b||(d.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>b)for(e in t)v[e]=[v[e],t[e]];else C.always(t[C.status]);return this},abort:function(t){var e=t||A;return r&&r.abort(e),i(0,e),this}};if(g.promise(C).complete=m.add,C.success=C.done,C.error=C.fail,d.url=((e||d.url||me.href)+"").replace(we,"").replace(Ee,me.protocol+"//"),d.type=n.method||n.type||d.method||d.type,d.dataTypes=ot.trim(d.dataType||"*").toLowerCase().match(At)||[""],null==d.crossDomain){u=Y.createElement("a");try{u.href=d.url,u.href=u.href,d.crossDomain=Se.protocol+"//"+Se.host!=u.protocol+"//"+u.host}catch(x){d.crossDomain=!0}}if(d.data&&d.processData&&"string"!=typeof d.data&&(d.data=ot.param(d.data,d.traditional)),H(_e,d,n,C),2===b)return C;c=ot.event&&d.global,c&&0===ot.active++&&ot.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!xe.test(d.type),o=d.url,d.hasContent||(d.data&&(o=d.url+=(ye.test(o)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=be.test(o)?o.replace(be,"$1_="+ve++):o+(ye.test(o)?"&":"?")+"_="+ve++)),d.ifModified&&(ot.lastModified[o]&&C.setRequestHeader("If-Modified-Since",ot.lastModified[o]),ot.etag[o]&&C.setRequestHeader("If-None-Match",ot.etag[o])),(d.data&&d.hasContent&&d.contentType!==!1||n.contentType)&&C.setRequestHeader("Content-Type",d.contentType),C.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+ke+"; q=0.01":""):d.accepts["*"]);for(h in d.headers)C.setRequestHeader(h,d.headers[h]);if(d.beforeSend&&(d.beforeSend.call(f,C,d)===!1||2===b))return C.abort();A="abort";for(h in{success:1,error:1,complete:1})C[h](d[h]);if(r=H(Fe,d,n,C)){if(C.readyState=1,c&&p.trigger("ajaxSend",[C,d]),2===b)return C;d.async&&d.timeout>0&&(l=t.setTimeout(function(){C.abort("timeout")},d.timeout));try{b=1,r.send(y,i)}catch(x){if(!(2>b))throw x;i(-1,x)}}else i(-1,"No Transport");return C},getJSON:function(t,e,n){return ot.get(t,e,n,"json")},getScript:function(t,e){return ot.get(t,void 0,e,"script")}}),ot.each(["get","post"],function(t,e){ot[e]=function(t,n,i,r){return ot.isFunction(n)&&(r=r||i,i=n,n=void 0),ot.ajax(ot.extend({url:t,type:e,dataType:r,data:n,success:i},ot.isPlainObject(t)&&t))}}),ot._evalUrl=function(t){return ot.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},ot.fn.extend({wrapAll:function(t){var e;return ot.isFunction(t)?this.each(function(e){ot(this).wrapAll(t.call(this,e))}):(this[0]&&(e=ot(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(t){return ot.isFunction(t)?this.each(function(e){ot(this).wrapInner(t.call(this,e))}):this.each(function(){var e=ot(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=ot.isFunction(t);return this.each(function(n){ot(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){ot.nodeName(this,"body")||ot(this).replaceWith(this.childNodes)}).end()}}),ot.expr.filters.hidden=function(t){return!ot.expr.filters.visible(t)},ot.expr.filters.visible=function(t){return t.offsetWidth>0||t.offsetHeight>0||t.getClientRects().length>0};var De=/%20/g,Me=/\[\]$/,Te=/\r?\n/g,$e=/^(?:submit|button|image|reset|file)$/i,Le=/^(?:input|select|textarea|keygen)/i;ot.param=function(t,e){var n,i=[],r=function(t,e){e=ot.isFunction(e)?e():null==e?"":e,i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=ot.ajaxSettings&&ot.ajaxSettings.traditional),ot.isArray(t)||t.jquery&&!ot.isPlainObject(t))ot.each(t,function(){r(this.name,this.value)});else for(n in t)V(n,t[n],e,r);return i.join("&").replace(De,"+")},ot.fn.extend({serialize:function(){return ot.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=ot.prop(this,"elements");return t?ot.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!ot(this).is(":disabled")&&Le.test(this.nodeName)&&!$e.test(t)&&(this.checked||!Lt.test(t))}).map(function(t,e){var n=ot(this).val();return null==n?null:ot.isArray(n)?ot.map(n,function(t){return{name:e.name,value:t.replace(Te,"\r\n")}}):{name:e.name,value:n.replace(Te,"\r\n")}}).get()}}),ot.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(e){}};var Be={0:200,1223:204},Re=ot.ajaxSettings.xhr();it.cors=!!Re&&"withCredentials"in Re,it.ajax=Re=!!Re,ot.ajaxTransport(function(e){var n,i;return it.cors||Re&&!e.crossDomain?{send:function(r,o){var s,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)a[s]=e.xhrFields[s];e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");for(s in r)a.setRequestHeader(s,r[s]);n=function(t){return function(){n&&(n=i=a.onload=a.onerror=a.onabort=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(Be[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=n(),i=a.onerror=n("error"),void 0!==a.onabort?a.onabort=i:a.onreadystatechange=function(){4===a.readyState&&t.setTimeout(function(){n&&i()})},n=n("abort");try{a.send(e.hasContent&&e.data||null)}catch(l){if(n)throw l}},abort:function(){n&&n()}}:void 0}),ot.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return ot.globalEval(t),t}}}),ot.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),ot.ajaxTransport("script",function(t){if(t.crossDomain){var e,n;return{send:function(i,r){e=ot("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&r("error"===t.type?404:200,t.type)}),Y.head.appendChild(e[0])},abort:function(){n&&n()}}}});var Ne=[],Oe=/(=)\?(?=&|$)|\?\?/;ot.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ne.pop()||ot.expando+"_"+ve++;return this[t]=!0,t}}),ot.ajaxPrefilter("json jsonp",function(e,n,i){var r,o,s,a=e.jsonp!==!1&&(Oe.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Oe.test(e.data)&&"data");return a||"jsonp"===e.dataTypes[0]?(r=e.jsonpCallback=ot.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Oe,"$1"+r):e.jsonp!==!1&&(e.url+=(ye.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return s||ot.error(r+" was not called"),s[0]},e.dataTypes[0]="json",o=t[r],t[r]=function(){s=arguments},i.always(function(){void 0===o?ot(t).removeProp(r):t[r]=o,e[r]&&(e.jsonpCallback=n.jsonpCallback,Ne.push(r)),s&&ot.isFunction(o)&&o(s[0]),s=o=void 0}),"script"):void 0}),ot.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||Y;var i=pt.exec(t),r=!n&&[];return i?[e.createElement(i[1])]:(i=d([t],e,r),r&&r.length&&ot(r).remove(),ot.merge([],i.childNodes))};var Ie=ot.fn.load;ot.fn.load=function(t,e,n){if("string"!=typeof t&&Ie)return Ie.apply(this,arguments);var i,r,o,s=this,a=t.indexOf(" ");return a>-1&&(i=ot.trim(t.slice(a)),t=t.slice(0,a)),ot.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),s.length>0&&ot.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){o=arguments,s.html(i?ot("<div>").append(ot.parseHTML(t)).find(i):t)}).always(n&&function(t,e){s.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},ot.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){ot.fn[e]=function(t){return this.on(e,t)}}),ot.expr.filters.animated=function(t){return ot.grep(ot.timers,function(e){return t===e.elem}).length},ot.offset={setOffset:function(t,e,n){var i,r,o,s,a,l,u,c=ot.css(t,"position"),h=ot(t),d={};"static"===c&&(t.style.position="relative"),a=h.offset(),o=ot.css(t,"top"),l=ot.css(t,"left"),u=("absolute"===c||"fixed"===c)&&(o+l).indexOf("auto")>-1,u?(i=h.position(),s=i.top,r=i.left):(s=parseFloat(o)||0,r=parseFloat(l)||0),ot.isFunction(e)&&(e=e.call(t,n,ot.extend({},a))),null!=e.top&&(d.top=e.top-a.top+s),null!=e.left&&(d.left=e.left-a.left+r),"using"in e?e.using.call(t,d):h.css(d)}},ot.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){ot.offset.setOffset(this,t,e)});var e,n,i=this[0],r={top:0,left:0},o=i&&i.ownerDocument;return o?(e=o.documentElement,ot.contains(e,i)?(r=i.getBoundingClientRect(),n=G(o),{top:r.top+n.pageYOffset-e.clientTop,left:r.left+n.pageXOffset-e.clientLeft}):r):void 0},position:function(){if(this[0]){var t,e,n=this[0],i={top:0,left:0};return"fixed"===ot.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),ot.nodeName(t[0],"html")||(i=t.offset()),i.top+=ot.css(t[0],"borderTopWidth",!0),i.left+=ot.css(t[0],"borderLeftWidth",!0)),{top:e.top-i.top-ot.css(n,"marginTop",!0),left:e.left-i.left-ot.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===ot.css(t,"position");)t=t.offsetParent;return t||Jt})}}),ot.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;ot.fn[t]=function(i){return xt(this,function(t,i,r){var o=G(t);return void 0===r?o?o[e]:t[i]:void(o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):t[i]=r)},t,i,arguments.length)}}),ot.each(["top","left"],function(t,e){ot.cssHooks[e]=k(it.pixelPosition,function(t,n){return n?(n=F(t,e),Yt.test(n)?ot(t).position()[e]+"px":n):void 0})}),ot.each({Height:"height",Width:"width"},function(t,e){ot.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){ot.fn[i]=function(i,r){var o=arguments.length&&(n||"boolean"!=typeof i),s=n||(i===!0||r===!0?"margin":"border");return xt(this,function(e,n,i){var r;return ot.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+t],r["scroll"+t],e.body["offset"+t],r["offset"+t],r["client"+t])):void 0===i?ot.css(e,n,s):ot.style(e,n,i,s)},e,o?i:void 0,o,null)}})}),ot.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)},size:function(){return this.length}}),ot.fn.andSelf=ot.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ot});var Pe=t.jQuery,ze=t.$;return ot.noConflict=function(e){return t.$===ot&&(t.$=ze),e&&t.jQuery===ot&&(t.jQuery=Pe),ot},e||(t.jQuery=t.$=ot),ot}),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(t){"use strict";var e=t.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1||e[0]>2)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 3")}(jQuery),+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return{end:e[n]};return!1}t.fn.emulateTransitionEnd=function(e){var n=!1,i=this;t(this).one("bsTransitionEnd",function(){n=!0});var r=function(){n||t(i).trigger(t.support.transition.end)};return setTimeout(r,e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){return t(e.target).is(this)?e.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),r=n.data("bs.alert");r||n.data("bs.alert",r=new i(this)),"string"==typeof e&&r[e].call(n)})}var n='[data-dismiss="alert"]',i=function(e){t(e).on("click",n,this.close)};i.VERSION="3.3.6",i.TRANSITION_DURATION=150,i.prototype.close=function(e){function n(){s.detach().trigger("closed.bs.alert").remove()}var r=t(this),o=r.attr("data-target");o||(o=r.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,""));var s=t(o);e&&e.preventDefault(),s.length||(s=r.closest(".alert")),s.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(s.removeClass("in"),t.support.transition&&s.hasClass("fade")?s.one("bsTransitionEnd",n).emulateTransitionEnd(i.TRANSITION_DURATION):n())};var r=t.fn.alert;t.fn.alert=e,t.fn.alert.Constructor=i,t.fn.alert.noConflict=function(){return t.fn.alert=r,this},t(document).on("click.bs.alert.data-api",n,i.prototype.close)}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.button"),o="object"==typeof e&&e;r||i.data("bs.button",r=new n(this,o)),"toggle"==e?r.toggle():e&&r.setState(e)})}var n=function(e,i){this.$element=t(e),this.options=t.extend({},n.DEFAULTS,i),this.isLoading=!1};n.VERSION="3.3.6",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(e){var n="disabled",i=this.$element,r=i.is("input")?"val":"html",o=i.data();e+="Text",null==o.resetText&&i.data("resetText",i[r]()),setTimeout(t.proxy(function(){i[r](null==o[e]?this.options[e]:o[e]),"loadingText"==e?(this.isLoading=!0,i.addClass(n).attr(n,n)):this.isLoading&&(this.isLoading=!1,i.removeClass(n).removeAttr(n))},this),0)},n.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var n=this.$element.find("input");"radio"==n.prop("type")?(n.prop("checked")&&(t=!1),e.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==n.prop("type")&&(n.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),t&&n.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var i=t.fn.button;t.fn.button=e,t.fn.button.Constructor=n,t.fn.button.noConflict=function(){return t.fn.button=i,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var i=t(n.target);i.hasClass("btn")||(i=i.closest(".btn")),e.call(i,"toggle"),t(n.target).is('input[type="radio"]')||t(n.target).is('input[type="checkbox"]')||n.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){t(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.carousel"),o=t.extend({},n.DEFAULTS,i.data(),"object"==typeof e&&e),s="string"==typeof e?e:o.slide;r||i.data("bs.carousel",r=new n(this,o)),"number"==typeof e?r.to(e):s?r[s]():o.interval&&r.pause().cycle()})}var n=function(e,n){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};n.VERSION="3.3.6",n.TRANSITION_DURATION=600,n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},n.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},n.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},n.prototype.getItemForDirection=function(t,e){var n=this.getItemIndex(e),i="prev"==t&&0===n||"next"==t&&n==this.$items.length-1;if(i&&!this.options.wrap)return e;var r="prev"==t?-1:1,o=(n+r)%this.$items.length;return this.$items.eq(o)},n.prototype.to=function(t){var e=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));return t>this.$items.length-1||0>t?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):n==t?this.pause().cycle():this.slide(t>n?"next":"prev",this.$items.eq(t))},n.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){return this.sliding?void 0:this.slide("next")},n.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},n.prototype.slide=function(e,i){var r=this.$element.find(".item.active"),o=i||this.getItemForDirection(e,r),s=this.interval,a="next"==e?"left":"right",l=this;if(o.hasClass("active"))return this.sliding=!1;var u=o[0],c=t.Event("slide.bs.carousel",{relatedTarget:u,direction:a});if(this.$element.trigger(c),!c.isDefaultPrevented()){if(this.sliding=!0,s&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var h=t(this.$indicators.children()[this.getItemIndex(o)]);h&&h.addClass("active")}var d=t.Event("slid.bs.carousel",{relatedTarget:u,direction:a});return t.support.transition&&this.$element.hasClass("slide")?(o.addClass(e),o[0].offsetWidth,r.addClass(a),o.addClass(a),r.one("bsTransitionEnd",function(){o.removeClass([e,a].join(" ")).addClass("active"),r.removeClass(["active",a].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(d)},0)}).emulateTransitionEnd(n.TRANSITION_DURATION)):(r.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger(d)),s&&this.cycle(),this}};var i=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=n,t.fn.carousel.noConflict=function(){return t.fn.carousel=i,this};var r=function(n){var i,r=t(this),o=t(r.attr("data-target")||(i=r.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""));if(o.hasClass("carousel")){var s=t.extend({},o.data(),r.data()),a=r.attr("data-slide-to");a&&(s.interval=!1),e.call(o,s),a&&o.data("bs.carousel").to(a),n.preventDefault()}};t(document).on("click.bs.carousel.data-api","[data-slide]",r).on("click.bs.carousel.data-api","[data-slide-to]",r),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var n=t(this);e.call(n,n.data())})})}(jQuery),+function(t){"use strict";function e(e){var n,i=e.attr("data-target")||(n=e.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"");return t(i)}function n(e){return this.each(function(){var n=t(this),r=n.data("bs.collapse"),o=t.extend({},i.DEFAULTS,n.data(),"object"==typeof e&&e);!r&&o.toggle&&/show|hide/.test(e)&&(o.toggle=!1),r||n.data("bs.collapse",r=new i(this,o)),"string"==typeof e&&r[e]()})}var i=function(e,n){this.$element=t(e),this.options=t.extend({},i.DEFAULTS,n),this.$trigger=t('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};i.VERSION="3.3.6",i.TRANSITION_DURATION=350,i.DEFAULTS={toggle:!0},i.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},i.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,r=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(r&&r.length&&(e=r.data("bs.collapse"),e&&e.transitioning))){var o=t.Event("show.bs.collapse");if(this.$element.trigger(o),!o.isDefaultPrevented()){r&&r.length&&(n.call(r,"hide"),e||r.data("bs.collapse",null));var s=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[s](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var a=function(){
this.$element.removeClass("collapsing").addClass("collapse in")[s](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return a.call(this);var l=t.camelCase(["scroll",s].join("-"));this.$element.one("bsTransitionEnd",t.proxy(a,this)).emulateTransitionEnd(i.TRANSITION_DURATION)[s](this.$element[0][l])}}}},i.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var r=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return t.support.transition?void this.$element[n](0).one("bsTransitionEnd",t.proxy(r,this)).emulateTransitionEnd(i.TRANSITION_DURATION):r.call(this)}}},i.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},i.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(n,i){var r=t(i);this.addAriaAndCollapsedClass(e(r),r)},this)).end()},i.prototype.addAriaAndCollapsedClass=function(t,e){var n=t.hasClass("in");t.attr("aria-expanded",n),e.toggleClass("collapsed",!n).attr("aria-expanded",n)};var r=t.fn.collapse;t.fn.collapse=n,t.fn.collapse.Constructor=i,t.fn.collapse.noConflict=function(){return t.fn.collapse=r,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(i){var r=t(this);r.attr("data-target")||i.preventDefault();var o=e(r),s=o.data("bs.collapse"),a=s?"toggle":r.data();n.call(o,a)})}(jQuery),+function(t){"use strict";function e(e){var n=e.attr("data-target");n||(n=e.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var i=n&&t(n);return i&&i.length?i:e.parent()}function n(n){n&&3===n.which||(t(r).remove(),t(o).each(function(){var i=t(this),r=e(i),o={relatedTarget:this};r.hasClass("open")&&(n&&"click"==n.type&&/input|textarea/i.test(n.target.tagName)&&t.contains(r[0],n.target)||(r.trigger(n=t.Event("hide.bs.dropdown",o)),n.isDefaultPrevented()||(i.attr("aria-expanded","false"),r.removeClass("open").trigger(t.Event("hidden.bs.dropdown",o)))))}))}function i(e){return this.each(function(){var n=t(this),i=n.data("bs.dropdown");i||n.data("bs.dropdown",i=new s(this)),"string"==typeof e&&i[e].call(n)})}var r=".dropdown-backdrop",o='[data-toggle="dropdown"]',s=function(e){t(e).on("click.bs.dropdown",this.toggle)};s.VERSION="3.3.6",s.prototype.toggle=function(i){var r=t(this);if(!r.is(".disabled, :disabled")){var o=e(r),s=o.hasClass("open");if(n(),!s){"ontouchstart"in document.documentElement&&!o.closest(".navbar-nav").length&&t(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(t(this)).on("click",n);var a={relatedTarget:this};if(o.trigger(i=t.Event("show.bs.dropdown",a)),i.isDefaultPrevented())return;r.trigger("focus").attr("aria-expanded","true"),o.toggleClass("open").trigger(t.Event("shown.bs.dropdown",a))}return!1}},s.prototype.keydown=function(n){if(/(38|40|27|32)/.test(n.which)&&!/input|textarea/i.test(n.target.tagName)){var i=t(this);if(n.preventDefault(),n.stopPropagation(),!i.is(".disabled, :disabled")){var r=e(i),s=r.hasClass("open");if(!s&&27!=n.which||s&&27==n.which)return 27==n.which&&r.find(o).trigger("focus"),i.trigger("click");var a=" li:not(.disabled):visible a",l=r.find(".dropdown-menu"+a);if(l.length){var u=l.index(n.target);38==n.which&&u>0&&u--,40==n.which&&u<l.length-1&&u++,~u||(u=0),l.eq(u).trigger("focus")}}}};var a=t.fn.dropdown;t.fn.dropdown=i,t.fn.dropdown.Constructor=s,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=a,this},t(document).on("click.bs.dropdown.data-api",n).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",o,s.prototype.toggle).on("keydown.bs.dropdown.data-api",o,s.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",s.prototype.keydown)}(jQuery),+function(t){"use strict";function e(e,i){return this.each(function(){var r=t(this),o=r.data("bs.modal"),s=t.extend({},n.DEFAULTS,r.data(),"object"==typeof e&&e);o||r.data("bs.modal",o=new n(this,s)),"string"==typeof e?o[e](i):s.show&&o.show(i)})}var n=function(e,n){this.options=n,this.$body=t(document.body),this.$element=t(e),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.3.6",n.TRANSITION_DURATION=300,n.BACKDROP_TRANSITION_DURATION=150,n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},n.prototype.show=function(e){var i=this,r=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(r),this.isShown||r.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){i.$element.one("mouseup.dismiss.bs.modal",function(e){t(e.target).is(i.$element)&&(i.ignoreBackdropClick=!0)})}),this.backdrop(function(){var r=t.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),i.adjustDialog(),r&&i.$element[0].offsetWidth,i.$element.addClass("in"),i.enforceFocus();var o=t.Event("shown.bs.modal",{relatedTarget:e});r?i.$dialog.one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(o)}).emulateTransitionEnd(n.TRANSITION_DURATION):i.$element.trigger("focus").trigger(o)}))},n.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(n.TRANSITION_DURATION):this.hideModal())},n.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},n.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},n.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(e){var i=this,r=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var o=t.support.transition&&r;if(this.$backdrop=t(document.createElement("div")).addClass("modal-backdrop "+r).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;o?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var s=function(){i.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",s).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):s()}else e&&e()},n.prototype.handleUpdate=function(){this.adjustDialog()},n.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},n.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},n.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},n.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},n.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var i=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=n,t.fn.modal.noConflict=function(){return t.fn.modal=i,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var i=t(this),r=i.attr("href"),o=t(i.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),s=o.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(r)&&r},o.data(),i.data());i.is("a")&&n.preventDefault(),o.one("show.bs.modal",function(t){t.isDefaultPrevented()||o.one("hidden.bs.modal",function(){i.is(":visible")&&i.trigger("focus")})}),e.call(o,s,this)})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.tooltip"),o="object"==typeof e&&e;(r||!/destroy|hide/.test(e))&&(r||i.data("bs.tooltip",r=new n(this,o)),"string"==typeof e&&r[e]())})}var n=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};n.VERSION="3.3.6",n.TRANSITION_DURATION=150,n.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},n.prototype.init=function(e,n,i){if(this.enabled=!0,this.type=e,this.$element=t(n),this.options=this.getOptions(i),this.$viewport=this.options.viewport&&t(t.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var r=this.options.trigger.split(" "),o=r.length;o--;){var s=r[o];if("click"==s)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=s){var a="hover"==s?"mouseenter":"focusin",l="hover"==s?"mouseleave":"focusout";this.$element.on(a+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},n.prototype.getDelegateOptions=function(){var e={},n=this.getDefaults();return this._options&&t.each(this._options,function(t,i){n[t]!=i&&(e[t]=i)}),e},n.prototype.enter=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),e instanceof t.Event&&(n.inState["focusin"==e.type?"focus":"hover"]=!0),n.tip().hasClass("in")||"in"==n.hoverState?void(n.hoverState="in"):(clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show())},n.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},n.prototype.leave=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),e instanceof t.Event&&(n.inState["focusout"==e.type?"focus":"hover"]=!1),n.isInStateTrue()?void 0:(clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?void(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)):n.hide())},n.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var i=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!i)return;var r=this,o=this.tip(),s=this.getUID(this.type);this.setContent(),o.attr("id",s),this.$element.attr("aria-describedby",s),this.options.animation&&o.addClass("fade");var a="function"==typeof this.options.placement?this.options.placement.call(this,o[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,u=l.test(a);u&&(a=a.replace(l,"")||"top"),o.detach().css({top:0,left:0,display:"block"}).addClass(a).data("bs."+this.type,this),this.options.container?o.appendTo(this.options.container):o.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var c=this.getPosition(),h=o[0].offsetWidth,d=o[0].offsetHeight;if(u){var f=a,p=this.getPosition(this.$viewport);a="bottom"==a&&c.bottom+d>p.bottom?"top":"top"==a&&c.top-d<p.top?"bottom":"right"==a&&c.right+h>p.width?"left":"left"==a&&c.left-h<p.left?"right":a,o.removeClass(f).addClass(a)}var g=this.getCalculatedOffset(a,c,h,d);this.applyPlacement(g,a);var m=function(){var t=r.hoverState;r.$element.trigger("shown.bs."+r.type),r.hoverState=null,"out"==t&&r.leave(r)};t.support.transition&&this.$tip.hasClass("fade")?o.one("bsTransitionEnd",m).emulateTransitionEnd(n.TRANSITION_DURATION):m()}},n.prototype.applyPlacement=function(e,n){var i=this.tip(),r=i[0].offsetWidth,o=i[0].offsetHeight,s=parseInt(i.css("margin-top"),10),a=parseInt(i.css("margin-left"),10);isNaN(s)&&(s=0),isNaN(a)&&(a=0),e.top+=s,e.left+=a,t.offset.setOffset(i[0],t.extend({using:function(t){i.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),i.addClass("in");var l=i[0].offsetWidth,u=i[0].offsetHeight;"top"==n&&u!=o&&(e.top=e.top+o-u);var c=this.getViewportAdjustedDelta(n,e,l,u);c.left?e.left+=c.left:e.top+=c.top;var h=/top|bottom/.test(n),d=h?2*c.left-r+l:2*c.top-o+u,f=h?"offsetWidth":"offsetHeight";i.offset(e),this.replaceArrow(d,i[0][f],h)},n.prototype.replaceArrow=function(t,e,n){this.arrow().css(n?"left":"top",50*(1-t/e)+"%").css(n?"top":"left","")},n.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},n.prototype.hide=function(e){function i(){"in"!=r.hoverState&&o.detach(),r.$element.removeAttr("aria-describedby").trigger("hidden.bs."+r.type),e&&e()}var r=this,o=t(this.$tip),s=t.Event("hide.bs."+this.type);return this.$element.trigger(s),s.isDefaultPrevented()?void 0:(o.removeClass("in"),t.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",i).emulateTransitionEnd(n.TRANSITION_DURATION):i(),this.hoverState=null,this)},n.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},n.prototype.hasContent=function(){return this.getTitle()},n.prototype.getPosition=function(e){e=e||this.$element;var n=e[0],i="BODY"==n.tagName,r=n.getBoundingClientRect();null==r.width&&(r=t.extend({},r,{width:r.right-r.left,height:r.bottom-r.top}));var o=i?{top:0,left:0}:e.offset(),s={scroll:i?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},a=i?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},r,s,a,o)},n.prototype.getCalculatedOffset=function(t,e,n,i){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-i,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-i/2,left:e.left-n}:{top:e.top+e.height/2-i/2,left:e.left+e.width}},n.prototype.getViewportAdjustedDelta=function(t,e,n,i){var r={top:0,left:0};if(!this.$viewport)return r;var o=this.options.viewport&&this.options.viewport.padding||0,s=this.getPosition(this.$viewport);if(/right|left/.test(t)){var a=e.top-o-s.scroll,l=e.top+o-s.scroll+i;a<s.top?r.top=s.top-a:l>s.top+s.height&&(r.top=s.top+s.height-l)}else{var u=e.left-o,c=e.left+o+n;u<s.left?r.left=s.left-u:c>s.right&&(r.left=s.left+s.width-c)}return r},n.prototype.getTitle=function(){var t,e=this.$element,n=this.options;return t=e.attr("data-original-title")||("function"==typeof n.title?n.title.call(e[0]):n.title)},n.prototype.getUID=function(t){do t+=~~(1e6*Math.random());while(document.getElementById(t));return t},n.prototype.tip=function(){if(!this.$tip&&(this.$tip=t(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.toggleEnabled=function(){this.enabled=!this.enabled},n.prototype.toggle=function(e){var n=this;e&&(n=t(e.currentTarget).data("bs."+this.type),n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n))),e?(n.inState.click=!n.inState.click,n.isInStateTrue()?n.enter(n):n.leave(n)):n.tip().hasClass("in")?n.leave(n):n.enter(n)},n.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null})};var i=t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=n,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=i,this}}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.popover"),o="object"==typeof e&&e;(r||!/destroy|hide/.test(e))&&(r||i.data("bs.popover",r=new n(this,o)),"string"==typeof e&&r[e]())})}var n=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");n.VERSION="3.3.6",n.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},n.prototype.hasContent=function(){return this.getTitle()||this.getContent()},n.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var i=t.fn.popover;t.fn.popover=e,t.fn.popover.Constructor=n,t.fn.popover.noConflict=function(){return t.fn.popover=i,this}}(jQuery),+function(t){"use strict";function e(n,i){this.$body=t(document.body),this.$scrollElement=t(t(n).is(document.body)?window:n),this.options=t.extend({},e.DEFAULTS,i),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",t.proxy(this.process,this)),this.refresh(),this.process()}function n(n){return this.each(function(){var i=t(this),r=i.data("bs.scrollspy"),o="object"==typeof n&&n;r||i.data("bs.scrollspy",r=new e(this,o)),"string"==typeof n&&r[n]()})}e.VERSION="3.3.6",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e=this,n="offset",i=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),t.isWindow(this.$scrollElement[0])||(n="position",i=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var e=t(this),r=e.data("target")||e.attr("href"),o=/^#./.test(r)&&t(r);return o&&o.length&&o.is(":visible")&&[[o[n]().top+i,r]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){e.offsets.push(this[0]),e.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),i=this.options.offset+n-this.$scrollElement.height(),r=this.offsets,o=this.targets,s=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),e>=i)return s!=(t=o[o.length-1])&&this.activate(t);if(s&&e<r[0])return this.activeTarget=null,this.clear();for(t=r.length;t--;)s!=o[t]&&e>=r[t]&&(void 0===r[t+1]||e<r[t+1])&&this.activate(o[t])},e.prototype.activate=function(e){this.activeTarget=e,this.clear();var n=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',i=t(n).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate.bs.scrollspy")},e.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var i=t.fn.scrollspy;t.fn.scrollspy=n,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=i,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);n.call(e,e.data())})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.tab");r||i.data("bs.tab",r=new n(this)),"string"==typeof e&&r[e]()})}var n=function(e){this.element=t(e)};n.VERSION="3.3.6",n.TRANSITION_DURATION=150,n.prototype.show=function(){var e=this.element,n=e.closest("ul:not(.dropdown-menu)"),i=e.data("target");if(i||(i=e.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var r=n.find(".active:last a"),o=t.Event("hide.bs.tab",{relatedTarget:e[0]}),s=t.Event("show.bs.tab",{relatedTarget:r[0]});if(r.trigger(o),e.trigger(s),!s.isDefaultPrevented()&&!o.isDefaultPrevented()){var a=t(i);this.activate(e.closest("li"),n),this.activate(a,a.parent(),function(){r.trigger({type:"hidden.bs.tab",relatedTarget:e[0]}),e.trigger({type:"shown.bs.tab",relatedTarget:r[0]})})}}},n.prototype.activate=function(e,i,r){function o(){s.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),a?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu").length&&e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),r&&r()}var s=i.find("> .active"),a=r&&t.support.transition&&(s.length&&s.hasClass("fade")||!!i.find("> .fade").length);s.length&&a?s.one("bsTransitionEnd",o).emulateTransitionEnd(n.TRANSITION_DURATION):o(),s.removeClass("in")};var i=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=n,t.fn.tab.noConflict=function(){return t.fn.tab=i,this};var r=function(n){n.preventDefault(),e.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',r).on("click.bs.tab.data-api",'[data-toggle="pill"]',r)}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.affix"),o="object"==typeof e&&e;r||i.data("bs.affix",r=new n(this,o)),"string"==typeof e&&r[e]()})}var n=function(e,i){this.options=t.extend({},n.DEFAULTS,i),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(e),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.3.6",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getState=function(t,e,n,i){var r=this.$target.scrollTop(),o=this.$element.offset(),s=this.$target.height();if(null!=n&&"top"==this.affixed)return n>r?"top":!1;if("bottom"==this.affixed)return null!=n?r+this.unpin<=o.top?!1:"bottom":t-i>=r+s?!1:"bottom";var a=null==this.affixed,l=a?r:o.top,u=a?s:e;return null!=n&&n>=r?"top":null!=i&&l+u>=t-i?"bottom":!1},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},n.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=this.$element.height(),i=this.options.offset,r=i.top,o=i.bottom,s=Math.max(t(document).height(),t(document.body).height());"object"!=typeof i&&(o=r=i),"function"==typeof r&&(r=i.top(this.$element)),"function"==typeof o&&(o=i.bottom(this.$element));var a=this.getState(s,e,r,o);if(this.affixed!=a){null!=this.unpin&&this.$element.css("top","");var l="affix"+(a?"-"+a:""),u=t.Event(l+".bs.affix");if(this.$element.trigger(u),u.isDefaultPrevented())return;this.affixed=a,this.unpin="bottom"==a?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==a&&this.$element.offset({top:s-e-o})}};var i=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=n,t.fn.affix.noConflict=function(){return t.fn.affix=i,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var n=t(this),i=n.data();i.offset=i.offset||{},null!=i.offsetBottom&&(i.offset.bottom=i.offsetBottom),null!=i.offsetTop&&(i.offset.top=i.offsetTop),e.call(n,i)})})}(jQuery),!function(t,e){if("function"==typeof define&&define.amd)define(["jquery"],e);else if("undefined"!=typeof exports)e(require("jquery"));else{var n={exports:{}};e(t.jquery),t.metisMenu=n.exports}}(this,function(t){"use strict";function e(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=(e(t),"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t}),r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();!function(t){function e(){return{bindType:m.end,delegateType:m.end,handle:function(e){return t(e.target).is(this)?e.handleObj.handler.apply(this,arguments):void 0}}}function o(){if(window.QUnit)return!1;var t=document.createElement("mm");for(var e in v)if(void 0!==t.style[e])return{end:v[e]};return!1}function s(e){var n=this,i=!1;t(this).one(y.TRANSITION_END,function(){i=!0}),setTimeout(function(){i||y.triggerTransitionEnd(n)},e)}function a(){m=o(),t.fn.emulateTransitionEnd=s,y.supportsTransitionEnd()&&(t.event.special[y.TRANSITION_END]=e())}var l="metisMenu",u="metisMenu",c="."+u,h=".data-api",d=t.fn[l],f=350,p={toggle:!0,doubleTapToGo:!1,preventDefault:!0,activeClass:"active",collapseClass:"collapse",collapseInClass:"in",collapsingClass:"collapsing"},g={SHOW:"show"+c,SHOWN:"shown"+c,HIDE:"hide"+c,HIDDEN:"hidden"+c,CLICK_DATA_API:"click"+c+h},m=!1,v={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},y={TRANSITION_END:"mmTransitionEnd",triggerTransitionEnd:function(e){t(e).trigger(m.end)},supportsTransitionEnd:function(){return Boolean(m)}};a();var w=function(){function e(t,i){n(this,e),this._element=t,this._config=this._getConfig(i),this._transitioning=null,this.init()}return r(e,[{key:"init",value:function(){var e=this;t(this._element).find("li."+this._config.activeClass).has("ul").children("ul").attr("aria-expanded",!0).addClass(this._config.collapseClass+" "+this._config.collapseInClass),t(this._element).find("li").not("."+this._config.activeClass).has("ul").children("ul").attr("aria-expanded",!1).addClass(this._config.collapseClass),this._config.doubleTapToGo&&t(this._element).find("li."+this._config.activeClass).has("ul").children("a").addClass("doubleTapToGo"),t(this._element).find("li").has("ul").children("a").on(g.CLICK_DATA_API,function(n){var i=t(this),r=i.parent("li"),o=r.children("ul");return e._config.preventDefault&&n.preventDefault(),"true"!==i.attr("aria-disabled")?(r.hasClass(e._config.activeClass)&&!e._config.doubleTapToGo?(i.attr("aria-expanded",!1),e._hide(o)):(e._show(o),i.attr("aria-expanded",!0)),e._config.onTransitionStart&&e._config.onTransitionStart(n),e._config.doubleTapToGo&&e._doubleTapToGo(i)&&"#"!==i.attr("href")&&""!==i.attr("href")?(n.stopPropagation(),void(document.location=i.attr("href"))):void 0):void 0})}},{key:"_show",value:function(e){if(!this._transitioning&&!t(e).hasClass(this._config.collapsingClass)){var n=this,i=t(e),r=t.Event(g.SHOW);if(i.trigger(r),!r.isDefaultPrevented()){i.parent("li").addClass(this._config.activeClass),this._config.toggle&&this._hide(i.parent("li").siblings().children("ul."+this._config.collapseInClass).attr("aria-expanded",!1)),i.removeClass(this._config.collapseClass).addClass(this._config.collapsingClass).height(0),this.setTransitioning(!0);var o=function(){i.removeClass(n._config.collapsingClass).addClass(n._config.collapseClass+" "+n._config.collapseInClass).height("").attr("aria-expanded",!0),n.setTransitioning(!1),i.trigger(g.SHOWN)};if(!y.supportsTransitionEnd())return void o();i.height(i[0].scrollHeight).one(y.TRANSITION_END,o),s(f)}}}},{key:"_hide",value:function(e){if(!this._transitioning&&t(e).hasClass(this._config.collapseInClass)){var n=this,i=t(e),r=t.Event(g.HIDE);if(i.trigger(r),!r.isDefaultPrevented()){i.parent("li").removeClass(this._config.activeClass),i.height(i.height())[0].offsetHeight,i.addClass(this._config.collapsingClass).removeClass(this._config.collapseClass).removeClass(this._config.collapseInClass),this.setTransitioning(!0);var o=function(){n._transitioning&&n._config.onTransitionEnd&&n._config.onTransitionEnd(),n.setTransitioning(!1),i.trigger(g.HIDDEN),i.removeClass(n._config.collapsingClass).addClass(n._config.collapseClass).attr("aria-expanded",!1)};if(!y.supportsTransitionEnd())return void o();i.height(0).one(y.TRANSITION_END,o),
s(f)}}}},{key:"_doubleTapToGo",value:function(e){return e.hasClass("doubleTapToGo")?(e.removeClass("doubleTapToGo"),!0):e.parent().children("ul").length?(t(this._element).find(".doubleTapToGo").removeClass("doubleTapToGo"),e.addClass("doubleTapToGo"),!1):void 0}},{key:"setTransitioning",value:function(t){this._transitioning=t}},{key:"_getConfig",value:function(e){return e=t.extend({},p,e)}}],[{key:"_jQueryInterface",value:function(n){return this.each(function(){var r=t(this),o=r.data(u),s=t.extend({},p,r.data(),"object"===("undefined"==typeof n?"undefined":i(n))&&n);if(o||(o=new e(this,s),r.data(u,o)),"string"==typeof n){if(void 0===o[n])throw new Error('No method named "'+n+'"');o[n]()}})}}]),e}();return t.fn[l]=w._jQueryInterface,t.fn[l].Constructor=w,t.fn[l].noConflict=function(){return t.fn[l]=d,w._jQueryInterface},w}(jQuery)}),function(){var t,e,n,i,r,o,s,a,l,u,c,h,d,f,p,g,m,v,y,w,b,A,C,x,E,_,F,k,S,D,M,T,$,L,B,R,N,O,I,P,z,j,H,W,U,q,V,G,K,Y=[].slice,X={}.hasOwnProperty,Q=function(t,e){function n(){this.constructor=t}for(var i in e)X.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},J=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};for(b={catchupTime:100,initialRate:.03,minTime:250,ghostTime:100,maxProgressPerFrame:20,easeFactor:1.25,startOnPageLoad:!0,restartOnPushState:!0,restartOnRequestAfter:500,target:"body",elements:{checkInterval:100,selectors:["body"]},eventLag:{minSamples:10,sampleCount:3,lagThreshold:3},ajax:{trackMethods:["GET"],trackWebSockets:!0,ignoreURLs:[]}},S=function(){var t;return null!=(t="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance.now():void 0)?t:+new Date},M=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,w=window.cancelAnimationFrame||window.mozCancelAnimationFrame,null==M&&(M=function(t){return setTimeout(t,50)},w=function(t){return clearTimeout(t)}),$=function(t){var e,n;return e=S(),(n=function(){var i;return i=S()-e,i>=33?(e=S(),t(i,function(){return M(n)})):setTimeout(n,33-i)})()},T=function(){var t,e,n;return n=arguments[0],e=arguments[1],t=3<=arguments.length?Y.call(arguments,2):[],"function"==typeof n[e]?n[e].apply(n,t):n[e]},A=function(){var t,e,n,i,r,o,s;for(e=arguments[0],i=2<=arguments.length?Y.call(arguments,1):[],o=0,s=i.length;s>o;o++)if(n=i[o])for(t in n)X.call(n,t)&&(r=n[t],null!=e[t]&&"object"==typeof e[t]&&null!=r&&"object"==typeof r?A(e[t],r):e[t]=r);return e},m=function(t){var e,n,i,r,o;for(n=e=0,r=0,o=t.length;o>r;r++)i=t[r],n+=Math.abs(i),e++;return n/e},x=function(t,e){var n,i,r;if(null==t&&(t="options"),null==e&&(e=!0),r=document.querySelector("[data-pace-"+t+"]")){if(n=r.getAttribute("data-pace-"+t),!e)return n;try{return JSON.parse(n)}catch(o){return i=o,"undefined"!=typeof console&&null!==console?console.error("Error parsing inline pace options",i):void 0}}},s=function(){function t(){}return t.prototype.on=function(t,e,n,i){var r;return null==i&&(i=!1),null==this.bindings&&(this.bindings={}),null==(r=this.bindings)[t]&&(r[t]=[]),this.bindings[t].push({handler:e,ctx:n,once:i})},t.prototype.once=function(t,e,n){return this.on(t,e,n,!0)},t.prototype.off=function(t,e){var n,i,r;if(null!=(null!=(i=this.bindings)?i[t]:void 0)){if(null==e)return delete this.bindings[t];for(n=0,r=[];n<this.bindings[t].length;)r.push(this.bindings[t][n].handler===e?this.bindings[t].splice(n,1):n++);return r}},t.prototype.trigger=function(){var t,e,n,i,r,o,s,a,l;if(n=arguments[0],t=2<=arguments.length?Y.call(arguments,1):[],null!=(s=this.bindings)?s[n]:void 0){for(r=0,l=[];r<this.bindings[n].length;)a=this.bindings[n][r],i=a.handler,e=a.ctx,o=a.once,i.apply(null!=e?e:this,t),l.push(o?this.bindings[n].splice(r,1):r++);return l}},t}(),u=window.Pace||{},window.Pace=u,A(u,s.prototype),D=u.options=A({},b,window.paceOptions,x()),V=["ajax","document","eventLag","elements"],H=0,U=V.length;U>H;H++)N=V[H],D[N]===!0&&(D[N]=b[N]);l=function(t){function e(){return G=e.__super__.constructor.apply(this,arguments)}return Q(e,t),e}(Error),e=function(){function t(){this.progress=0}return t.prototype.getElement=function(){var t;if(null==this.el){if(t=document.querySelector(D.target),!t)throw new l;this.el=document.createElement("div"),this.el.className="pace pace-active",document.body.className=document.body.className.replace(/pace-done/g,""),document.body.className+=" pace-running",this.el.innerHTML='<div class="pace-progress">\n  <div class="pace-progress-inner"></div>\n</div>\n<div class="pace-activity"></div>',null!=t.firstChild?t.insertBefore(this.el,t.firstChild):t.appendChild(this.el)}return this.el},t.prototype.finish=function(){var t;return t=this.getElement(),t.className=t.className.replace("pace-active",""),t.className+=" pace-inactive",document.body.className=document.body.className.replace("pace-running",""),document.body.className+=" pace-done"},t.prototype.update=function(t){return this.progress=t,this.render()},t.prototype.destroy=function(){try{this.getElement().parentNode.removeChild(this.getElement())}catch(t){l=t}return this.el=void 0},t.prototype.render=function(){var t,e,n,i,r,o,s;if(null==document.querySelector(D.target))return!1;for(t=this.getElement(),i="translate3d("+this.progress+"%, 0, 0)",s=["webkitTransform","msTransform","transform"],r=0,o=s.length;o>r;r++)e=s[r],t.children[0].style[e]=i;return(!this.lastRenderedProgress||this.lastRenderedProgress|0!==this.progress|0)&&(t.children[0].setAttribute("data-progress-text",""+(0|this.progress)+"%"),this.progress>=100?n="99":(n=this.progress<10?"0":"",n+=0|this.progress),t.children[0].setAttribute("data-progress",""+n)),this.lastRenderedProgress=this.progress},t.prototype.done=function(){return this.progress>=100},t}(),a=function(){function t(){this.bindings={}}return t.prototype.trigger=function(t,e){var n,i,r,o,s;if(null!=this.bindings[t]){for(o=this.bindings[t],s=[],i=0,r=o.length;r>i;i++)n=o[i],s.push(n.call(this,e));return s}},t.prototype.on=function(t,e){var n;return null==(n=this.bindings)[t]&&(n[t]=[]),this.bindings[t].push(e)},t}(),j=window.XMLHttpRequest,z=window.XDomainRequest,P=window.WebSocket,C=function(t,e){var n,i,r;r=[];for(i in e.prototype)try{r.push(null==t[i]&&"function"!=typeof e[i]?"function"==typeof Object.defineProperty?Object.defineProperty(t,i,{get:function(){return e.prototype[i]},configurable:!0,enumerable:!0}):t[i]=e.prototype[i]:void 0)}catch(o){n=o}return r},F=[],u.ignore=function(){var t,e,n;return e=arguments[0],t=2<=arguments.length?Y.call(arguments,1):[],F.unshift("ignore"),n=e.apply(null,t),F.shift(),n},u.track=function(){var t,e,n;return e=arguments[0],t=2<=arguments.length?Y.call(arguments,1):[],F.unshift("track"),n=e.apply(null,t),F.shift(),n},R=function(t){var e;if(null==t&&(t="GET"),"track"===F[0])return"force";if(!F.length&&D.ajax){if("socket"===t&&D.ajax.trackWebSockets)return!0;if(e=t.toUpperCase(),J.call(D.ajax.trackMethods,e)>=0)return!0}return!1},c=function(t){function e(){var t,n=this;e.__super__.constructor.apply(this,arguments),t=function(t){var e;return e=t.open,t.open=function(i,r){return R(i)&&n.trigger("request",{type:i,url:r,request:t}),e.apply(t,arguments)}},window.XMLHttpRequest=function(e){var n;return n=new j(e),t(n),n};try{C(window.XMLHttpRequest,j)}catch(i){}if(null!=z){window.XDomainRequest=function(){var e;return e=new z,t(e),e};try{C(window.XDomainRequest,z)}catch(i){}}if(null!=P&&D.ajax.trackWebSockets){window.WebSocket=function(t,e){var i;return i=null!=e?new P(t,e):new P(t),R("socket")&&n.trigger("request",{type:"socket",url:t,protocols:e,request:i}),i};try{C(window.WebSocket,P)}catch(i){}}}return Q(e,t),e}(a),W=null,E=function(){return null==W&&(W=new c),W},B=function(t){var e,n,i,r;for(r=D.ajax.ignoreURLs,n=0,i=r.length;i>n;n++)if(e=r[n],"string"==typeof e){if(-1!==t.indexOf(e))return!0}else if(e.test(t))return!0;return!1},E().on("request",function(e){var n,i,r,o,s;return o=e.type,r=e.request,s=e.url,B(s)?void 0:u.running||D.restartOnRequestAfter===!1&&"force"!==R(o)?void 0:(i=arguments,n=D.restartOnRequestAfter||0,"boolean"==typeof n&&(n=0),setTimeout(function(){var e,n,s,a,l,c;if(e="socket"===o?r.readyState<2:0<(a=r.readyState)&&4>a){for(u.restart(),l=u.sources,c=[],n=0,s=l.length;s>n;n++){if(N=l[n],N instanceof t){N.watch.apply(N,i);break}c.push(void 0)}return c}},n))}),t=function(){function t(){var t=this;this.elements=[],E().on("request",function(){return t.watch.apply(t,arguments)})}return t.prototype.watch=function(t){var e,n,i,r;return i=t.type,e=t.request,r=t.url,B(r)?void 0:(n="socket"===i?new f(e):new p(e),this.elements.push(n))},t}(),p=function(){function t(t){var e,n,i,r,o,s,a=this;if(this.progress=0,null!=window.ProgressEvent)for(n=null,t.addEventListener("progress",function(t){return a.progress=t.lengthComputable?100*t.loaded/t.total:a.progress+(100-a.progress)/2},!1),s=["load","abort","timeout","error"],i=0,r=s.length;r>i;i++)e=s[i],t.addEventListener(e,function(){return a.progress=100},!1);else o=t.onreadystatechange,t.onreadystatechange=function(){var e;return 0===(e=t.readyState)||4===e?a.progress=100:3===t.readyState&&(a.progress=50),"function"==typeof o?o.apply(null,arguments):void 0}}return t}(),f=function(){function t(t){var e,n,i,r,o=this;for(this.progress=0,r=["error","open"],n=0,i=r.length;i>n;n++)e=r[n],t.addEventListener(e,function(){return o.progress=100},!1)}return t}(),i=function(){function t(t){var e,n,i,o;for(null==t&&(t={}),this.elements=[],null==t.selectors&&(t.selectors=[]),o=t.selectors,n=0,i=o.length;i>n;n++)e=o[n],this.elements.push(new r(e))}return t}(),r=function(){function t(t){this.selector=t,this.progress=0,this.check()}return t.prototype.check=function(){var t=this;return document.querySelector(this.selector)?this.done():setTimeout(function(){return t.check()},D.elements.checkInterval)},t.prototype.done=function(){return this.progress=100},t}(),n=function(){function t(){var t,e,n=this;this.progress=null!=(e=this.states[document.readyState])?e:100,t=document.onreadystatechange,document.onreadystatechange=function(){return null!=n.states[document.readyState]&&(n.progress=n.states[document.readyState]),"function"==typeof t?t.apply(null,arguments):void 0}}return t.prototype.states={loading:0,interactive:50,complete:100},t}(),o=function(){function t(){var t,e,n,i,r,o=this;this.progress=0,t=0,r=[],i=0,n=S(),e=setInterval(function(){var s;return s=S()-n-50,n=S(),r.push(s),r.length>D.eventLag.sampleCount&&r.shift(),t=m(r),++i>=D.eventLag.minSamples&&t<D.eventLag.lagThreshold?(o.progress=100,clearInterval(e)):o.progress=100*(3/(t+3))},50)}return t}(),d=function(){function t(t){this.source=t,this.last=this.sinceLastUpdate=0,this.rate=D.initialRate,this.catchup=0,this.progress=this.lastProgress=0,null!=this.source&&(this.progress=T(this.source,"progress"))}return t.prototype.tick=function(t,e){var n;return null==e&&(e=T(this.source,"progress")),e>=100&&(this.done=!0),e===this.last?this.sinceLastUpdate+=t:(this.sinceLastUpdate&&(this.rate=(e-this.last)/this.sinceLastUpdate),this.catchup=(e-this.progress)/D.catchupTime,this.sinceLastUpdate=0,this.last=e),e>this.progress&&(this.progress+=this.catchup*t),n=1-Math.pow(this.progress/100,D.easeFactor),this.progress+=n*this.rate*t,this.progress=Math.min(this.lastProgress+D.maxProgressPerFrame,this.progress),this.progress=Math.max(0,this.progress),this.progress=Math.min(100,this.progress),this.lastProgress=this.progress,this.progress},t}(),O=null,L=null,v=null,I=null,g=null,y=null,u.running=!1,_=function(){return D.restartOnPushState?u.restart():void 0},null!=window.history.pushState&&(q=window.history.pushState,window.history.pushState=function(){return _(),q.apply(window.history,arguments)}),null!=window.history.replaceState&&(K=window.history.replaceState,window.history.replaceState=function(){return _(),K.apply(window.history,arguments)}),h={ajax:t,elements:i,document:n,eventLag:o},(k=function(){var t,n,i,r,o,s,a,l;for(u.sources=O=[],s=["ajax","elements","document","eventLag"],n=0,r=s.length;r>n;n++)t=s[n],D[t]!==!1&&O.push(new h[t](D[t]));for(l=null!=(a=D.extraSources)?a:[],i=0,o=l.length;o>i;i++)N=l[i],O.push(new N(D));return u.bar=v=new e,L=[],I=new d})(),u.stop=function(){return u.trigger("stop"),u.running=!1,v.destroy(),y=!0,null!=g&&("function"==typeof w&&w(g),g=null),k()},u.restart=function(){return u.trigger("restart"),u.stop(),u.start()},u.go=function(){var t;return u.running=!0,v.render(),t=S(),y=!1,g=$(function(e,n){var i,r,o,s,a,l,c,h,f,p,g,m,w,b,A,C;for(h=100-v.progress,r=g=0,o=!0,l=m=0,b=O.length;b>m;l=++m)for(N=O[l],p=null!=L[l]?L[l]:L[l]=[],a=null!=(C=N.elements)?C:[N],c=w=0,A=a.length;A>w;c=++w)s=a[c],f=null!=p[c]?p[c]:p[c]=new d(s),o&=f.done,f.done||(r++,g+=f.tick(e));return i=g/r,v.update(I.tick(e,i)),v.done()||o||y?(v.update(100),u.trigger("done"),setTimeout(function(){return v.finish(),u.running=!1,u.trigger("hide")},Math.max(D.ghostTime,Math.max(D.minTime-(S()-t),0)))):n()})},u.start=function(t){A(D,t),u.running=!0;try{v.render()}catch(e){l=e}return document.querySelector(".pace")?(u.trigger("start"),u.go()):setTimeout(u.start,50)},"function"==typeof define&&define.amd?define(["pace"],function(){return u}):"object"==typeof exports?module.exports=u:D.startOnPageLoad&&u.start()}.call(this),function(){function t(t){var e=n;t&&(n[t]||(n[t]={}),e=n[t]),e.define&&e.define.packaged||(i.original=e.define,e.define=i,e.define.packaged=!0),e.require&&e.require.packaged||(o.original=e.require,e.require=o,e.require.packaged=!0)}var e="ace",n=function(){return this}();if(n||"undefined"==typeof window||(n=window),e||"undefined"==typeof requirejs){var i=function(t,e,n){return"string"!=typeof t?void(i.original?i.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace())):(2==arguments.length&&(n=e),void(i.modules[t]||(i.payloads[t]=n,i.modules[t]=null)))};i.modules={},i.payloads={};var r=function(t,e,n){if("string"==typeof e){var i=a(t,e);if(void 0!=i)return n&&n(),i}else if("[object Array]"===Object.prototype.toString.call(e)){for(var r=[],s=0,l=e.length;l>s;++s){var u=a(t,e[s]);if(void 0==u&&o.original)return;r.push(u)}return n&&n.apply(null,r)||!0}},o=function(t,e){var n=r("",t,e);return void 0==n&&o.original?o.original.apply(this,arguments):n},s=function(t,e){if(-1!==e.indexOf("!")){var n=e.split("!");return s(t,n[0])+"!"+s(t,n[1])}if("."==e.charAt(0)){var i=t.split("/").slice(0,-1).join("/");for(e=i+"/"+e;-1!==e.indexOf(".")&&r!=e;){var r=e;e=e.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}}return e},a=function(t,e){e=s(t,e);var n=i.modules[e];if(!n){if(n=i.payloads[e],"function"==typeof n){var o={},a={id:e,uri:"",exports:o,packaged:!0},l=function(t,n){return r(e,t,n)},u=n(l,o,a);o=u||a.exports,i.modules[e]=o,delete i.payloads[e]}n=i.modules[e]=o||n}return n};t(e)}}(),ace.define("ace/lib/regexp",["require","exports","module"],function(t,e,n){"use strict";function i(t){return(t.global?"g":"")+(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.extended?"x":"")+(t.sticky?"y":"")}function r(t,e,n){if(Array.prototype.indexOf)return t.indexOf(e,n);for(var i=n||0;i<t.length;i++)if(t[i]===e)return i;return-1}var o={exec:RegExp.prototype.exec,test:RegExp.prototype.test,match:String.prototype.match,replace:String.prototype.replace,split:String.prototype.split},s=void 0===o.exec.call(/()??/,"")[1],a=function(){var t=/^/g;return o.test.call(t,""),!t.lastIndex}();a&&s||(RegExp.prototype.exec=function(t){var e,n,l=o.exec.apply(this,arguments);if("string"==typeof t&&l){if(!s&&l.length>1&&r(l,"")>-1&&(n=RegExp(this.source,o.replace.call(i(this),"g","")),o.replace.call(t.slice(l.index),n,function(){for(var t=1;t<arguments.length-2;t++)void 0===arguments[t]&&(l[t]=void 0)})),this._xregexp&&this._xregexp.captureNames)for(var u=1;u<l.length;u++)e=this._xregexp.captureNames[u-1],e&&(l[e]=l[u]);!a&&this.global&&!l[0].length&&this.lastIndex>l.index&&this.lastIndex--}return l},a||(RegExp.prototype.test=function(t){var e=o.exec.call(this,t);return e&&this.global&&!e[0].length&&this.lastIndex>e.index&&this.lastIndex--,!!e}))}),ace.define("ace/lib/es5-shim",["require","exports","module"],function(t,e,n){function i(){}function r(t){try{return Object.defineProperty(t,"sentinel",{}),"sentinel"in t}catch(e){}}function o(t){return t=+t,t!==t?t=0:0!==t&&t!==1/0&&t!==-(1/0)&&(t=(t>0||-1)*Math.floor(Math.abs(t))),t}Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;if("function"!=typeof e)throw new TypeError("Function.prototype.bind called on incompatible "+e);var n=p.call(arguments,1),r=function(){if(this instanceof r){var i=e.apply(this,n.concat(p.call(arguments)));return Object(i)===i?i:this}return e.apply(t,n.concat(p.call(arguments)))};return e.prototype&&(i.prototype=e.prototype,r.prototype=new i,i.prototype=null),r});var s,a,l,u,c,h=Function.prototype.call,d=Array.prototype,f=Object.prototype,p=d.slice,g=h.bind(f.toString),m=h.bind(f.hasOwnProperty);if((c=m(f,"__defineGetter__"))&&(s=h.bind(f.__defineGetter__),a=h.bind(f.__defineSetter__),l=h.bind(f.__lookupGetter__),u=h.bind(f.__lookupSetter__)),2!=[1,2].splice(0).length)if(function(){function t(t){var e=new Array(t+2);return e[0]=e[1]=0,e}var e,n=[];return n.splice.apply(n,t(20)),n.splice.apply(n,t(26)),e=n.length,n.splice(5,0,"XXX"),e+1==n.length,e+1==n.length?!0:void 0}()){var v=Array.prototype.splice;Array.prototype.splice=function(t,e){return arguments.length?v.apply(this,[void 0===t?0:t,void 0===e?this.length-t:e].concat(p.call(arguments,2))):[]}}else Array.prototype.splice=function(t,e){var n=this.length;t>0?t>n&&(t=n):void 0==t?t=0:0>t&&(t=Math.max(n+t,0)),n>t+e||(e=n-t);var i=this.slice(t,t+e),r=p.call(arguments,2),o=r.length;if(t===n)o&&this.push.apply(this,r);else{var s=Math.min(e,n-t),a=t+s,l=a+o-s,u=n-a,c=n-s;if(a>l)for(var h=0;u>h;++h)this[l+h]=this[a+h];else if(l>a)for(h=u;h--;)this[l+h]=this[a+h];if(o&&t===c)this.length=c,this.push.apply(this,r);else for(this.length=c+o,h=0;o>h;++h)this[t+h]=r[h]}return i};Array.isArray||(Array.isArray=function(t){return"[object Array]"==g(t)});var y=Object("a"),w="a"!=y[0]||!(0 in y);if(Array.prototype.forEach||(Array.prototype.forEach=function(t){var e=N(this),n=w&&"[object String]"==g(this)?this.split(""):e,i=arguments[1],r=-1,o=n.length>>>0;if("[object Function]"!=g(t))throw new TypeError;for(;++r<o;)r in n&&t.call(i,n[r],r,e)}),Array.prototype.map||(Array.prototype.map=function(t){var e=N(this),n=w&&"[object String]"==g(this)?this.split(""):e,i=n.length>>>0,r=Array(i),o=arguments[1];if("[object Function]"!=g(t))throw new TypeError(t+" is not a function");for(var s=0;i>s;s++)s in n&&(r[s]=t.call(o,n[s],s,e));return r}),Array.prototype.filter||(Array.prototype.filter=function(t){var e,n=N(this),i=w&&"[object String]"==g(this)?this.split(""):n,r=i.length>>>0,o=[],s=arguments[1];if("[object Function]"!=g(t))throw new TypeError(t+" is not a function");for(var a=0;r>a;a++)a in i&&(e=i[a],t.call(s,e,a,n)&&o.push(e));return o}),Array.prototype.every||(Array.prototype.every=function(t){var e=N(this),n=w&&"[object String]"==g(this)?this.split(""):e,i=n.length>>>0,r=arguments[1];if("[object Function]"!=g(t))throw new TypeError(t+" is not a function");for(var o=0;i>o;o++)if(o in n&&!t.call(r,n[o],o,e))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(t){var e=N(this),n=w&&"[object String]"==g(this)?this.split(""):e,i=n.length>>>0,r=arguments[1];if("[object Function]"!=g(t))throw new TypeError(t+" is not a function");for(var o=0;i>o;o++)if(o in n&&t.call(r,n[o],o,e))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(t){var e=N(this),n=w&&"[object String]"==g(this)?this.split(""):e,i=n.length>>>0;if("[object Function]"!=g(t))throw new TypeError(t+" is not a function");if(!i&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var r,o=0;if(arguments.length>=2)r=arguments[1];else for(;;){if(o in n){r=n[o++];break}if(++o>=i)throw new TypeError("reduce of empty array with no initial value")}for(;i>o;o++)o in n&&(r=t.call(void 0,r,n[o],o,e));return r}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(t){var e=N(this),n=w&&"[object String]"==g(this)?this.split(""):e,i=n.length>>>0;if("[object Function]"!=g(t))throw new TypeError(t+" is not a function");if(!i&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var r,o=i-1;if(arguments.length>=2)r=arguments[1];else for(;;){if(o in n){r=n[o--];break}if(--o<0)throw new TypeError("reduceRight of empty array with no initial value")}do o in this&&(r=t.call(void 0,r,n[o],o,e));while(o--);return r}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(t){var e=w&&"[object String]"==g(this)?this.split(""):N(this),n=e.length>>>0;if(!n)return-1;var i=0;for(arguments.length>1&&(i=o(arguments[1])),i=i>=0?i:Math.max(0,n+i);n>i;i++)if(i in e&&e[i]===t)return i;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(t){var e=w&&"[object String]"==g(this)?this.split(""):N(this),n=e.length>>>0;if(!n)return-1;var i=n-1;for(arguments.length>1&&(i=Math.min(i,o(arguments[1]))),i=i>=0?i:n-Math.abs(i);i>=0;i--)if(i in e&&t===e[i])return i;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(t){return t.__proto__||(t.constructor?t.constructor.prototype:f)}),!Object.getOwnPropertyDescriptor){var b="Object.getOwnPropertyDescriptor called on a non-object: ";Object.getOwnPropertyDescriptor=function(t,e){if("object"!=typeof t&&"function"!=typeof t||null===t)throw new TypeError(b+t);if(m(t,e)){var n,i,r;if(n={enumerable:!0,configurable:!0},c){var o=t.__proto__;t.__proto__=f;var i=l(t,e),r=u(t,e);if(t.__proto__=o,i||r)return i&&(n.get=i),r&&(n.set=r),n}return n.value=t[e],n}}}if(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(t){return Object.keys(t)}),!Object.create){var A;A=null===Object.prototype.__proto__?function(){return{__proto__:null}}:function(){var t={};for(var e in t)t[e]=null;return t.constructor=t.hasOwnProperty=t.propertyIsEnumerable=t.isPrototypeOf=t.toLocaleString=t.toString=t.valueOf=t.__proto__=null,t},Object.create=function(t,e){var n;if(null===t)n=A();else{if("object"!=typeof t)throw new TypeError("typeof prototype["+typeof t+"] != 'object'");var i=function(){};i.prototype=t,n=new i,n.__proto__=t}return void 0!==e&&Object.defineProperties(n,e),n}}if(Object.defineProperty){var C=r({}),x="undefined"==typeof document||r(document.createElement("div"));if(!C||!x)var E=Object.defineProperty}if(!Object.defineProperty||E){var _="Property description must be an object: ",F="Object.defineProperty called on non-object: ",k="getters & setters can not be defined on this javascript engine";Object.defineProperty=function(t,e,n){if("object"!=typeof t&&"function"!=typeof t||null===t)throw new TypeError(F+t);if("object"!=typeof n&&"function"!=typeof n||null===n)throw new TypeError(_+n);if(E)try{return E.call(Object,t,e,n)}catch(i){}if(m(n,"value"))if(c&&(l(t,e)||u(t,e))){var r=t.__proto__;t.__proto__=f,delete t[e],t[e]=n.value,t.__proto__=r}else t[e]=n.value;else{if(!c)throw new TypeError(k);m(n,"get")&&s(t,e,n.get),m(n,"set")&&a(t,e,n.set)}return t}}Object.defineProperties||(Object.defineProperties=function(t,e){for(var n in e)m(e,n)&&Object.defineProperty(t,n,e[n]);return t}),Object.seal||(Object.seal=function(t){return t}),Object.freeze||(Object.freeze=function(t){return t});try{Object.freeze(function(){})}catch(S){Object.freeze=function(t){return function(e){return"function"==typeof e?e:t(e)}}(Object.freeze)}if(Object.preventExtensions||(Object.preventExtensions=function(t){return t}),Object.isSealed||(Object.isSealed=function(t){return!1}),Object.isFrozen||(Object.isFrozen=function(t){return!1}),Object.isExtensible||(Object.isExtensible=function(t){if(Object(t)===t)throw new TypeError;for(var e="";m(t,e);)e+="?";t[e]=!0;var n=m(t,e);return delete t[e],n}),!Object.keys){var D=!0,M=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],T=M.length;for(var $ in{toString:null})D=!1;Object.keys=function O(t){if("object"!=typeof t&&"function"!=typeof t||null===t)throw new TypeError("Object.keys called on a non-object");var O=[];for(var e in t)m(t,e)&&O.push(e);if(D)for(var n=0,i=T;i>n;n++){var r=M[n];m(t,r)&&O.push(r)}return O}}Date.now||(Date.now=function(){return(new Date).getTime()});var L="	\n\x0B\f\r \u2028\u2029\ufeff";if(!String.prototype.trim||L.trim()){L="["+L+"]";var B=new RegExp("^"+L+L+"*"),R=new RegExp(L+L+"*$");String.prototype.trim=function(){return String(this).replace(B,"").replace(R,"")}}var N=function(t){if(null==t)throw new TypeError("can't convert "+t+" to object");return Object(t)}}),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/regexp","ace/lib/es5-shim"],function(t,e,n){"use strict";t("./regexp"),t("./es5-shim")}),ace.define("ace/lib/dom",["require","exports","module"],function(t,e,n){"use strict";var i="http://www.w3.org/1999/xhtml";return e.getDocumentHead=function(t){return t||(t=document),t.head||t.getElementsByTagName("head")[0]||t.documentElement},e.createElement=function(t,e){return document.createElementNS?document.createElementNS(e||i,t):document.createElement(t)},e.hasCssClass=function(t,e){var n=(t.className||"").split(/\s+/g);return-1!==n.indexOf(e)},e.addCssClass=function(t,n){e.hasCssClass(t,n)||(t.className+=" "+n)},e.removeCssClass=function(t,e){for(var n=t.className.split(/\s+/g);;){var i=n.indexOf(e);if(-1==i)break;n.splice(i,1)}t.className=n.join(" ")},e.toggleCssClass=function(t,e){for(var n=t.className.split(/\s+/g),i=!0;;){var r=n.indexOf(e);if(-1==r)break;i=!1,n.splice(r,1)}return i&&n.push(e),t.className=n.join(" "),i},e.setCssClass=function(t,n,i){i?e.addCssClass(t,n):e.removeCssClass(t,n)},e.hasCssString=function(t,e){var n,i=0;if(e=e||document,e.createStyleSheet&&(n=e.styleSheets)){for(;i<n.length;)if(n[i++].owningElement.id===t)return!0}else if(n=e.getElementsByTagName("style"))for(;i<n.length;)if(n[i++].id===t)return!0;return!1},e.importCssString=function(t,n,i){if(i=i||document,n&&e.hasCssString(n,i))return null;var r;n&&(t+="\n/*# sourceURL=ace/css/"+n+" */"),i.createStyleSheet?(r=i.createStyleSheet(),r.cssText=t,n&&(r.owningElement.id=n)):(r=e.createElement("style"),r.appendChild(i.createTextNode(t)),n&&(r.id=n),e.getDocumentHead(i).appendChild(r))},e.importCssStylsheet=function(t,n){if(n.createStyleSheet)n.createStyleSheet(t);else{var i=e.createElement("link");i.rel="stylesheet",i.href=t,e.getDocumentHead(n).appendChild(i)}},e.getInnerWidth=function(t){return parseInt(e.computedStyle(t,"paddingLeft"),10)+parseInt(e.computedStyle(t,"paddingRight"),10)+t.clientWidth},e.getInnerHeight=function(t){return parseInt(e.computedStyle(t,"paddingTop"),10)+parseInt(e.computedStyle(t,"paddingBottom"),10)+t.clientHeight},e.scrollbarWidth=function(t){var n=e.createElement("ace_inner");n.style.width="100%",n.style.minWidth="0px",n.style.height="200px",n.style.display="block";var i=e.createElement("ace_outer"),r=i.style;r.position="absolute",r.left="-10000px",r.overflow="hidden",r.width="200px",r.minWidth="0px",r.height="150px",r.display="block",i.appendChild(n);var o=t.documentElement;o.appendChild(i);var s=n.offsetWidth;r.overflow="scroll";var a=n.offsetWidth;return s==a&&(a=i.clientWidth),o.removeChild(i),s-a},"undefined"==typeof document?void(e.importCssString=function(){}):(void 0!==window.pageYOffset?(e.getPageScrollTop=function(){return window.pageYOffset},e.getPageScrollLeft=function(){return window.pageXOffset}):(e.getPageScrollTop=function(){return document.body.scrollTop},e.getPageScrollLeft=function(){return document.body.scrollLeft}),window.getComputedStyle?e.computedStyle=function(t,e){return e?(window.getComputedStyle(t,"")||{})[e]||"":window.getComputedStyle(t,"")||{}}:e.computedStyle=function(t,e){return e?t.currentStyle[e]:t.currentStyle},e.setInnerHtml=function(t,e){var n=t.cloneNode(!1);return n.innerHTML=e,t.parentNode.replaceChild(n,t),n},"textContent"in document.documentElement?(e.setInnerText=function(t,e){t.textContent=e},e.getInnerText=function(t){return t.textContent}):(e.setInnerText=function(t,e){t.innerText=e},e.getInnerText=function(t){return t.innerText}),void(e.getParentWindow=function(t){return t.defaultView||t.parentWindow}))}),ace.define("ace/lib/oop",["require","exports","module"],function(t,e,n){"use strict";e.inherits=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})},e.mixin=function(t,e){for(var n in e)t[n]=e[n];return t},e.implement=function(t,n){e.mixin(t,n)}}),ace.define("ace/lib/keys",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop"],function(t,e,n){"use strict";t("./fixoldbrowsers");var i=t("./oop"),r=function(){var t,e,n={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,"super":8,meta:8,command:8,cmd:8},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}};for(e in n.FUNCTION_KEYS)t=n.FUNCTION_KEYS[e].toLowerCase(),n[t]=parseInt(e,10);for(e in n.PRINTABLE_KEYS)t=n.PRINTABLE_KEYS[e].toLowerCase(),n[t]=parseInt(e,10);return i.mixin(n,n.MODIFIER_KEYS),i.mixin(n,n.PRINTABLE_KEYS),i.mixin(n,n.FUNCTION_KEYS),n.enter=n["return"],n.escape=n.esc,n.del=n["delete"],n[173]="-",function(){for(var t=["cmd","ctrl","alt","shift"],e=Math.pow(2,t.length);e--;)n.KEY_MODS[e]=t.filter(function(t){return e&n.KEY_MODS[t]}).join("-")+"-"}(),n.KEY_MODS[0]="",n.KEY_MODS[-1]="input-",n}();i.mixin(e,r),e.keyCodeToString=function(t){var e=r[t];return"string"!=typeof e&&(e=String.fromCharCode(t)),e.toLowerCase()}}),ace.define("ace/lib/useragent",["require","exports","module"],function(t,e,n){"use strict";if(e.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},e.getOS=function(){return e.isMac?e.OS.MAC:e.isLinux?e.OS.LINUX:e.OS.WINDOWS},"object"==typeof navigator){var i=(navigator.platform.match(/mac|win|linux/i)||["other"])[0].toLowerCase(),r=navigator.userAgent;e.isWin="win"==i,e.isMac="mac"==i,e.isLinux="linux"==i,e.isIE="Microsoft Internet Explorer"==navigator.appName||navigator.appName.indexOf("MSAppHost")>=0?parseFloat((r.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((r.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),e.isOldIE=e.isIE&&e.isIE<9,e.isGecko=e.isMozilla=(window.Controllers||window.controllers)&&"Gecko"===window.navigator.product,e.isOldGecko=e.isGecko&&parseInt((r.match(/rv\:(\d+)/)||[])[1],10)<4,e.isOpera=window.opera&&"[object Opera]"==Object.prototype.toString.call(window.opera),e.isWebKit=parseFloat(r.split("WebKit/")[1])||void 0,e.isChrome=parseFloat(r.split(" Chrome/")[1])||void 0,e.isAIR=r.indexOf("AdobeAIR")>=0,e.isIPad=r.indexOf("iPad")>=0,e.isTouchPad=r.indexOf("TouchPad")>=0,e.isChromeOS=r.indexOf(" CrOS ")>=0}}),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(t,e,n){"use strict";function i(t,e,n){var i=u(e);if(!s.isMac&&a){
if(a.OSKey&&(i|=8),a.altGr){if(3==(3&i))return;a.altGr=0}if(18===n||17===n){var r="location"in e?e.location:e.keyLocation;if(17===n&&1===r)1==a[n]&&(l=e.timeStamp);else if(18===n&&3===i&&2===r){var c=e.timeStamp-l;50>c&&(a.altGr=!0)}}}if(n in o.MODIFIER_KEYS&&(n=-1),8&i&&n>=91&&93>=n&&(n=-1),!i&&13===n){var r="location"in e?e.location:e.keyLocation;if(3===r&&(t(e,i,-n),e.defaultPrevented))return}if(s.isChromeOS&&8&i){if(t(e,i,n),e.defaultPrevented)return;i&=-9}return i||n in o.FUNCTION_KEYS||n in o.PRINTABLE_KEYS?t(e,i,n):!1}function r(){a=Object.create(null),a.count=0,a.lastT=0}var o=t("./keys"),s=t("./useragent"),a=null,l=0;e.addListener=function(t,e,n){if(t.addEventListener)return t.addEventListener(e,n,!1);if(t.attachEvent){var i=function(){n.call(t,window.event)};n._wrapper=i,t.attachEvent("on"+e,i)}},e.removeListener=function(t,e,n){return t.removeEventListener?t.removeEventListener(e,n,!1):void(t.detachEvent&&t.detachEvent("on"+e,n._wrapper||n))},e.stopEvent=function(t){return e.stopPropagation(t),e.preventDefault(t),!1},e.stopPropagation=function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},e.preventDefault=function(t){t.preventDefault?t.preventDefault():t.returnValue=!1},e.getButton=function(t){return"dblclick"==t.type?0:"contextmenu"==t.type||s.isMac&&t.ctrlKey&&!t.altKey&&!t.shiftKey?2:t.preventDefault?t.button:{1:0,2:2,4:1}[t.button]},e.capture=function(t,n,i){function r(t){n&&n(t),i&&i(t),e.removeListener(document,"mousemove",n,!0),e.removeListener(document,"mouseup",r,!0),e.removeListener(document,"dragstart",r,!0)}return e.addListener(document,"mousemove",n,!0),e.addListener(document,"mouseup",r,!0),e.addListener(document,"dragstart",r,!0),r},e.addTouchMoveListener=function(t,n){if("ontouchmove"in t){var i,r;e.addListener(t,"touchstart",function(t){var e=t.changedTouches[0];i=e.clientX,r=e.clientY}),e.addListener(t,"touchmove",function(t){var e=1,o=t.changedTouches[0];t.wheelX=-(o.clientX-i)/e,t.wheelY=-(o.clientY-r)/e,i=o.clientX,r=o.clientY,n(t)})}},e.addMouseWheelListener=function(t,n){"onmousewheel"in t?e.addListener(t,"mousewheel",function(t){var e=8;void 0!==t.wheelDeltaX?(t.wheelX=-t.wheelDeltaX/e,t.wheelY=-t.wheelDeltaY/e):(t.wheelX=0,t.wheelY=-t.wheelDelta/e),n(t)}):"onwheel"in t?e.addListener(t,"wheel",function(t){var e=.35;switch(t.deltaMode){case t.DOM_DELTA_PIXEL:t.wheelX=t.deltaX*e||0,t.wheelY=t.deltaY*e||0;break;case t.DOM_DELTA_LINE:case t.DOM_DELTA_PAGE:t.wheelX=5*(t.deltaX||0),t.wheelY=5*(t.deltaY||0)}n(t)}):e.addListener(t,"DOMMouseScroll",function(t){t.axis&&t.axis==t.HORIZONTAL_AXIS?(t.wheelX=5*(t.detail||0),t.wheelY=0):(t.wheelX=0,t.wheelY=5*(t.detail||0)),n(t)})},e.addMultiMouseDownListener=function(t,n,i,r){function o(t){if(0!==e.getButton(t)?h=0:t.detail>1?(h++,h>4&&(h=1)):h=1,s.isIE){var o=Math.abs(t.clientX-l)>5||Math.abs(t.clientY-u)>5;c&&!o||(h=1),c&&clearTimeout(c),c=setTimeout(function(){c=null},n[h-1]||600),1==h&&(l=t.clientX,u=t.clientY)}if(t._clicks=h,i[r]("mousedown",t),h>4)h=0;else if(h>1)return i[r](d[h],t)}function a(t){h=2,c&&clearTimeout(c),c=setTimeout(function(){c=null},n[h-1]||600),i[r]("mousedown",t),i[r](d[h],t)}var l,u,c,h=0,d={2:"dblclick",3:"tripleclick",4:"quadclick"};Array.isArray(t)||(t=[t]),t.forEach(function(t){e.addListener(t,"mousedown",o),s.isOldIE&&e.addListener(t,"dblclick",a)})};var u=!s.isMac||!s.isOpera||"KeyboardEvent"in window?function(t){return 0|(t.ctrlKey?1:0)|(t.altKey?2:0)|(t.shiftKey?4:0)|(t.metaKey?8:0)}:function(t){return 0|(t.metaKey?1:0)|(t.altKey?2:0)|(t.shiftKey?4:0)|(t.ctrlKey?8:0)};if(e.getModifierString=function(t){return o.KEY_MODS[u(t)]},e.addCommandKeyListener=function(t,n){var o=e.addListener;if(s.isOldGecko||s.isOpera&&!("KeyboardEvent"in window)){var l=null;o(t,"keydown",function(t){l=t.keyCode}),o(t,"keypress",function(t){return i(n,t,l)})}else{var u=null;o(t,"keydown",function(t){var e=t.keyCode;a[e]=(a[e]||0)+1,91==e||92==e?a.OSKey=!0:a.OSKey&&t.timeStamp-a.lastT>200&&1==a.count&&r(),1==a[e]&&a.count++,a.lastT=t.timeStamp;var o=i(n,t,e);return u=t.defaultPrevented,o}),o(t,"keypress",function(t){u&&(t.ctrlKey||t.altKey||t.shiftKey||t.metaKey)&&(e.stopEvent(t),u=null)}),o(t,"keyup",function(t){var e=t.keyCode;a[e]?a.count=Math.max(a.count-1,0):r(),91!=e&&92!=e||(a.OSKey=!1),a[e]=null}),a||(r(),o(window,"focus",r))}},"object"==typeof window&&window.postMessage&&!s.isOldIE){var c=1;e.nextTick=function(t,n){n=n||window;var i="zero-timeout-message-"+c;e.addListener(n,"message",function r(o){o.data==i&&(e.stopPropagation(o),e.removeListener(n,"message",r),t())}),n.postMessage(i,"*")}}e.nextFrame="object"==typeof window&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),e.nextFrame?e.nextFrame=e.nextFrame.bind(window):e.nextFrame=function(t){setTimeout(t,17)}}),ace.define("ace/lib/lang",["require","exports","module"],function(t,e,n){"use strict";e.last=function(t){return t[t.length-1]},e.stringReverse=function(t){return t.split("").reverse().join("")},e.stringRepeat=function(t,e){for(var n="";e>0;)1&e&&(n+=t),(e>>=1)&&(t+=t);return n};var i=/^\s\s*/,r=/\s\s*$/;e.stringTrimLeft=function(t){return t.replace(i,"")},e.stringTrimRight=function(t){return t.replace(r,"")},e.copyObject=function(t){var e={};for(var n in t)e[n]=t[n];return e},e.copyArray=function(t){for(var e=[],n=0,i=t.length;i>n;n++)t[n]&&"object"==typeof t[n]?e[n]=this.copyObject(t[n]):e[n]=t[n];return e},e.deepCopy=function o(t){if("object"!=typeof t||!t)return t;var e;if(Array.isArray(t)){e=[];for(var n=0;n<t.length;n++)e[n]=o(t[n]);return e}var i=t.constructor;if(i===RegExp)return t;e=i();for(var n in t)e[n]=o(t[n]);return e},e.arrayToMap=function(t){for(var e={},n=0;n<t.length;n++)e[t[n]]=1;return e},e.createMap=function(t){var e=Object.create(null);for(var n in t)e[n]=t[n];return e},e.arrayRemove=function(t,e){for(var n=0;n<=t.length;n++)e===t[n]&&t.splice(n,1)},e.escapeRegExp=function(t){return t.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},e.escapeHTML=function(t){return t.replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},e.getMatchOffsets=function(t,e){var n=[];return t.replace(e,function(t){n.push({offset:arguments[arguments.length-2],length:t.length})}),n},e.deferredCall=function(t){var e=null,n=function(){e=null,t()},i=function(t){return i.cancel(),e=setTimeout(n,t||0),i};return i.schedule=i,i.call=function(){return this.cancel(),t(),i},i.cancel=function(){return clearTimeout(e),e=null,i},i.isPending=function(){return e},i},e.delayedCall=function(t,e){var n=null,i=function(){n=null,t()},r=function(t){null==n&&(n=setTimeout(i,t||e))};return r.delay=function(t){n&&clearTimeout(n),n=setTimeout(i,t||e)},r.schedule=r,r.call=function(){this.cancel(),t()},r.cancel=function(){n&&clearTimeout(n),n=null},r.isPending=function(){return n},r}}),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang"],function(t,e,n){"use strict";var i=t("../lib/event"),r=t("../lib/useragent"),o=t("../lib/dom"),s=t("../lib/lang"),a=r.isChrome<18,l=r.isIE,u=function(t,e){function n(t){if(!g){if(g=!0,S)e=0,n=t?0:h.value.length-1;else var e=t?2:1,n=2;try{h.setSelectionRange(e,n)}catch(i){}g=!1}}function u(){g||(h.value=d,r.isWebKit&&A.schedule())}function c(){clearTimeout(j),j=setTimeout(function(){m&&(h.style.cssText=m,m=""),null==e.renderer.$keepTextAreaAtCursor&&(e.renderer.$keepTextAreaAtCursor=!0,e.renderer.$moveTextAreaToCursor())},r.isOldIE?200:0)}var h=o.createElement("textarea");h.className="ace_text-input",r.isTouchPad&&h.setAttribute("x-palm-disable-auto-cap",!0),h.setAttribute("wrap","off"),h.setAttribute("autocorrect","off"),h.setAttribute("autocapitalize","off"),h.setAttribute("spellcheck",!1),h.style.opacity="0",r.isOldIE&&(h.style.top="-1000px"),t.insertBefore(h,t.firstChild);var d="",f=!1,p=!1,g=!1,m="",v=!0;try{var y=document.activeElement===h}catch(w){}i.addListener(h,"blur",function(t){e.onBlur(t),y=!1}),i.addListener(h,"focus",function(t){y=!0,e.onFocus(t),n()}),this.focus=function(){if(m)return h.focus();var t=h.style.top;h.style.position="fixed",h.style.top="0px",h.focus(),setTimeout(function(){h.style.position="","0px"==h.style.top&&(h.style.top=t)},0)},this.blur=function(){h.blur()},this.isFocused=function(){return y};var b=s.delayedCall(function(){y&&n(v)}),A=s.delayedCall(function(){g||(h.value=d,y&&n())});r.isWebKit||e.addEventListener("changeSelection",function(){e.selection.isEmpty()!=v&&(v=!v,b.schedule())}),u(),y&&e.onFocus();var C=function(t){return 0===t.selectionStart&&t.selectionEnd===t.value.length};if(!h.setSelectionRange&&h.createTextRange&&(h.setSelectionRange=function(t,e){var n=this.createTextRange();n.collapse(!0),n.moveStart("character",t),n.moveEnd("character",e),n.select()},C=function(t){try{var e=t.ownerDocument.selection.createRange()}catch(n){}return e&&e.parentElement()==t?e.text==t.value:!1}),r.isOldIE){var x=!1,E=function(t){if(!x){var e=h.value;if(!g&&e&&e!=d){if(t&&e==d[0])return _.schedule();M(e),x=!0,u(),x=!1}}},_=s.delayedCall(E);i.addListener(h,"propertychange",E);var F={13:1,27:1};i.addListener(h,"keyup",function(t){return!g||h.value&&!F[t.keyCode]||setTimeout(P,0),(h.value.charCodeAt(0)||0)<129?_.call():void(g?I():O())}),i.addListener(h,"keydown",function(t){_.schedule(50)})}var k=function(t){f?f=!1:C(h)?(e.selectAll(),n()):S&&n(e.selection.isEmpty())},S=null;this.setInputHandler=function(t){S=t},this.getInputHandler=function(){return S};var D=!1,M=function(t){S&&(t=S(t),S=null),p?(n(),t&&e.onPaste(t),p=!1):t==d.charAt(0)?D?e.execCommand("del",{source:"ace"}):e.execCommand("backspace",{source:"ace"}):(t.substring(0,2)==d?t=t.substr(2):t.charAt(0)==d.charAt(0)?t=t.substr(1):t.charAt(t.length-1)==d.charAt(0)&&(t=t.slice(0,-1)),t.charAt(t.length-1)==d.charAt(0)&&(t=t.slice(0,-1)),t&&e.onTextInput(t)),D&&(D=!1)},T=function(t){if(!g){var e=h.value;M(e),u()}},$=function(t,e){var n=t.clipboardData||window.clipboardData;if(n&&!a){var i=l?"Text":"text/plain";return e?n.setData(i,e)!==!1:n.getData(i)}},L=function(t,r){var o=e.getCopyText();return o?void($(t,o)?(r?e.onCut():e.onCopy(),i.preventDefault(t)):(f=!0,h.value=o,h.select(),setTimeout(function(){f=!1,u(),n(),r?e.onCut():e.onCopy()}))):i.preventDefault(t)},B=function(t){L(t,!0)},R=function(t){L(t,!1)},N=function(t){var o=$(t);"string"==typeof o?(o&&e.onPaste(o,t),r.isIE&&setTimeout(n),i.preventDefault(t)):(h.value="",p=!0)};i.addCommandKeyListener(h,e.onCommandKey.bind(e)),i.addListener(h,"select",k),i.addListener(h,"input",T),i.addListener(h,"cut",B),i.addListener(h,"copy",R),i.addListener(h,"paste",N),"oncut"in h&&"oncopy"in h&&"onpaste"in h||i.addListener(t,"keydown",function(t){if((!r.isMac||t.metaKey)&&t.ctrlKey)switch(t.keyCode){case 67:R(t);break;case 86:N(t);break;case 88:B(t)}});var O=function(t){g||!e.onCompositionStart||e.$readOnly||(g={},e.onCompositionStart(),setTimeout(I,0),e.on("mousedown",P),e.selection.isEmpty()||(e.insert(""),e.session.markUndoGroup(),e.selection.clearSelection()),e.session.markUndoGroup())},I=function(){if(g&&e.onCompositionUpdate&&!e.$readOnly){var t=h.value.replace(/\x01/g,"");if(g.lastValue!==t&&(e.onCompositionUpdate(t),g.lastValue&&e.undo(),g.lastValue=t,g.lastValue)){var n=e.selection.getRange();e.insert(g.lastValue),e.session.markUndoGroup(),g.range=e.selection.getRange(),e.selection.setRange(n),e.selection.clearSelection()}}},P=function(t){if(e.onCompositionEnd&&!e.$readOnly){var n=g;g=!1;var i=setTimeout(function(){i=null;var t=h.value.replace(/\x01/g,"");g||(t==n.lastValue?u():!n.lastValue&&t&&(u(),M(t)))});S=function(t){return i&&clearTimeout(i),t=t.replace(/\x01/g,""),t==n.lastValue?"":(n.lastValue&&i&&e.undo(),t)},e.onCompositionEnd(),e.removeListener("mousedown",P),"compositionend"==t.type&&n.range&&e.selection.setRange(n.range)}},z=s.delayedCall(I,50);i.addListener(h,"compositionstart",O),r.isGecko?i.addListener(h,"text",function(){z.schedule()}):(i.addListener(h,"keyup",function(){z.schedule()}),i.addListener(h,"keydown",function(){z.schedule()})),i.addListener(h,"compositionend",P),this.getElement=function(){return h},this.setReadOnly=function(t){h.readOnly=t},this.onContextMenu=function(t){D=!0,n(e.selection.isEmpty()),e._emit("nativecontextmenu",{target:e,domEvent:t}),this.moveToMouse(t,!0)},this.moveToMouse=function(t,n){if(n||!r.isOldIE){m||(m=h.style.cssText),h.style.cssText=(n?"z-index:100000;":"")+"height:"+h.style.height+";"+(r.isIE?"opacity:0.1;":"");var s=e.container.getBoundingClientRect(),a=o.computedStyle(e.container),l=s.top+(parseInt(a.borderTopWidth)||0),u=s.left+(parseInt(s.borderLeftWidth)||0),d=s.bottom-l-h.clientHeight-2,f=function(t){h.style.left=t.clientX-u-2+"px",h.style.top=Math.min(t.clientY-l-2,d)+"px"};f(t),"mousedown"==t.type&&(e.renderer.$keepTextAreaAtCursor&&(e.renderer.$keepTextAreaAtCursor=null),clearTimeout(j),r.isWin&&!r.isOldIE&&i.capture(e.container,f,c))}},this.onContextMenuClose=c;var j,H=function(t){e.textInput.onContextMenu(t),c()};i.addListener(h,"mouseup",H),i.addListener(h,"mousedown",function(t){t.preventDefault(),c()}),i.addListener(e.renderer.scroller,"contextmenu",H),i.addListener(h,"contextmenu",H)};e.TextInput=u}),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(t,e,n){"use strict";function i(t){t.$clickSelection=null;var e=t.editor;e.setDefaultHandler("mousedown",this.onMouseDown.bind(t)),e.setDefaultHandler("dblclick",this.onDoubleClick.bind(t)),e.setDefaultHandler("tripleclick",this.onTripleClick.bind(t)),e.setDefaultHandler("quadclick",this.onQuadClick.bind(t)),e.setDefaultHandler("mousewheel",this.onMouseWheel.bind(t)),e.setDefaultHandler("touchmove",this.onTouchMove.bind(t));var n=["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"];n.forEach(function(e){t[e]=this[e]},this),t.selectByLines=this.extendSelectionBy.bind(t,"getLineRange"),t.selectByWords=this.extendSelectionBy.bind(t,"getWordRange")}function r(t,e,n,i){return Math.sqrt(Math.pow(n-t,2)+Math.pow(i-e,2))}function o(t,e){if(t.start.row==t.end.row)var n=2*e.column-t.start.column-t.end.column;else if(t.start.row!=t.end.row-1||t.start.column||t.end.column)var n=2*e.row-t.start.row-t.end.row;else var n=e.column-4;return 0>n?{cursor:t.start,anchor:t.end}:{cursor:t.end,anchor:t.start}}var s=(t("../lib/dom"),t("../lib/event"),t("../lib/useragent"),0);(function(){this.onMouseDown=function(t){var e=t.inSelection(),n=t.getDocumentPosition();this.mousedownEvent=t;var i=this.editor,r=t.getButton();if(0!==r){var o=i.getSelectionRange(),s=o.isEmpty();return i.$blockScrolling++,(s||1==r)&&i.selection.moveToPosition(n),i.$blockScrolling--,void(2==r&&i.textInput.onContextMenu(t.domEvent))}return this.mousedownEvent.time=Date.now(),!e||i.isFocused()||(i.focus(),!this.$focusTimout||this.$clickSelection||i.inMultiSelectMode)?(this.captureMouse(t),this.startSelect(n,t.domEvent._clicks>1),t.preventDefault()):(this.setState("focusWait"),void this.captureMouse(t))},this.startSelect=function(t,e){t=t||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var n=this.editor;n.$blockScrolling++,this.mousedownEvent.getShiftKey()?n.selection.selectToPosition(t):e||n.selection.moveToPosition(t),e||this.select(),n.renderer.scroller.setCapture&&n.renderer.scroller.setCapture(),n.setStyle("ace_selecting"),this.setState("select"),n.$blockScrolling--},this.select=function(){var t,e=this.editor,n=e.renderer.screenToTextCoordinates(this.x,this.y);if(e.$blockScrolling++,this.$clickSelection){var i=this.$clickSelection.comparePoint(n);if(-1==i)t=this.$clickSelection.end;else if(1==i)t=this.$clickSelection.start;else{var r=o(this.$clickSelection,n);n=r.cursor,t=r.anchor}e.selection.setSelectionAnchor(t.row,t.column)}e.selection.selectToPosition(n),e.$blockScrolling--,e.renderer.scrollCursorIntoView()},this.extendSelectionBy=function(t){var e,n=this.editor,i=n.renderer.screenToTextCoordinates(this.x,this.y),r=n.selection[t](i.row,i.column);if(n.$blockScrolling++,this.$clickSelection){var s=this.$clickSelection.comparePoint(r.start),a=this.$clickSelection.comparePoint(r.end);if(-1==s&&0>=a)e=this.$clickSelection.end,r.end.row==i.row&&r.end.column==i.column||(i=r.start);else if(1==a&&s>=0)e=this.$clickSelection.start,r.start.row==i.row&&r.start.column==i.column||(i=r.end);else if(-1==s&&1==a)i=r.end,e=r.start;else{var l=o(this.$clickSelection,i);i=l.cursor,e=l.anchor}n.selection.setSelectionAnchor(e.row,e.column)}n.selection.selectToPosition(i),n.$blockScrolling--,n.renderer.scrollCursorIntoView()},this.selectEnd=this.selectAllEnd=this.selectByWordsEnd=this.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting"),this.editor.renderer.scroller.releaseCapture&&this.editor.renderer.scroller.releaseCapture()},this.focusWait=function(){var t=r(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),e=Date.now();(t>s||e-this.mousedownEvent.time>this.$focusTimout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},this.onDoubleClick=function(t){var e=t.getDocumentPosition(),n=this.editor,i=n.session,r=i.getBracketRange(e);r?(r.isEmpty()&&(r.start.column--,r.end.column++),this.setState("select")):(r=n.selection.getWordRange(e.row,e.column),this.setState("selectByWords")),this.$clickSelection=r,this.select()},this.onTripleClick=function(t){var e=t.getDocumentPosition(),n=this.editor;this.setState("selectByLines");var i=n.getSelectionRange();i.isMultiLine()&&i.contains(e.row,e.column)?(this.$clickSelection=n.selection.getLineRange(i.start.row),this.$clickSelection.end=n.selection.getLineRange(i.end.row).end):this.$clickSelection=n.selection.getLineRange(e.row),this.select()},this.onQuadClick=function(t){var e=this.editor;e.selectAll(),this.$clickSelection=e.getSelectionRange(),this.setState("selectAll")},this.onMouseWheel=function(t){if(!t.getAccelKey()){t.getShiftKey()&&t.wheelY&&!t.wheelX&&(t.wheelX=t.wheelY,t.wheelY=0);var e=t.domEvent.timeStamp,n=e-(this.$lastScrollTime||0),i=this.editor,r=i.renderer.isScrollableBy(t.wheelX*t.speed,t.wheelY*t.speed);return r||200>n?(this.$lastScrollTime=e,i.renderer.scrollBy(t.wheelX*t.speed,t.wheelY*t.speed),t.stop()):void 0}},this.onTouchMove=function(t){var e=t.domEvent.timeStamp,n=e-(this.$lastScrollTime||0),i=this.editor,r=i.renderer.isScrollableBy(t.wheelX*t.speed,t.wheelY*t.speed);return r||200>n?(this.$lastScrollTime=e,i.renderer.scrollBy(t.wheelX*t.speed,t.wheelY*t.speed),t.stop()):void 0}}).call(i.prototype),e.DefaultHandlers=i}),ace.define("ace/tooltip",["require","exports","module","ace/lib/oop","ace/lib/dom"],function(t,e,n){"use strict";function i(t){this.isOpen=!1,this.$element=null,this.$parentNode=t}var r=(t("./lib/oop"),t("./lib/dom"));(function(){this.$init=function(){return this.$element=r.createElement("div"),this.$element.className="ace_tooltip",this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},this.getElement=function(){return this.$element||this.$init()},this.setText=function(t){r.setInnerText(this.getElement(),t)},this.setHtml=function(t){this.getElement().innerHTML=t},this.setPosition=function(t,e){this.getElement().style.left=t+"px",this.getElement().style.top=e+"px"},this.setClassName=function(t){r.addCssClass(this.getElement(),t)},this.show=function(t,e,n){null!=t&&this.setText(t),null!=e&&null!=n&&this.setPosition(e,n),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},this.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.isOpen=!1)},this.getHeight=function(){return this.getElement().offsetHeight},this.getWidth=function(){return this.getElement().offsetWidth}}).call(i.prototype),e.Tooltip=i}),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event","ace/tooltip"],function(t,e,n){"use strict";function i(t){function e(){var e=h.getDocumentPosition().row,r=l.$annotations[e];if(!r)return n();var o=s.session.getLength();if(e==o){var a=s.renderer.pixelToScreenCoordinates(0,h.y).row,c=h.$pos;if(a>s.session.documentToScreenRow(c.row,c.column))return n()}if(d!=r)if(d=r.text.join("<br/>"),u.setHtml(d),u.show(),s.on("mousewheel",n),t.$tooltipFollowsMouse)i(h);else{var f=h.domEvent.target,p=f.getBoundingClientRect(),g=u.getElement().style;g.left=p.right+"px",g.top=p.bottom+"px"}}function n(){c&&(c=clearTimeout(c)),d&&(u.hide(),d=null,s.removeEventListener("mousewheel",n))}function i(t){u.setPosition(t.x,t.y)}var s=t.editor,l=s.renderer.$gutterLayer,u=new r(s.container);t.editor.setDefaultHandler("guttermousedown",function(e){if(s.isFocused()&&0==e.getButton()){var n=l.getRegion(e);if("foldWidgets"!=n){var i=e.getDocumentPosition().row,r=s.session.selection;if(e.getShiftKey())r.selectTo(i,0);else{if(2==e.domEvent.detail)return s.selectAll(),e.preventDefault();t.$clickSelection=s.selection.getLineRange(i)}return t.setState("selectByLines"),t.captureMouse(e),e.preventDefault()}}});var c,h,d;t.editor.setDefaultHandler("guttermousemove",function(r){var s=r.domEvent.target||r.domEvent.srcElement;return o.hasCssClass(s,"ace_fold-widget")?n():(d&&t.$tooltipFollowsMouse&&i(r),h=r,void(c||(c=setTimeout(function(){c=null,h&&!t.isMousePressed?e():n()},50))))}),a.addListener(s.renderer.$gutter,"mouseout",function(t){h=null,d&&!c&&(c=setTimeout(function(){c=null,n()},50))}),s.on("changeSession",n)}function r(t){l.call(this,t)}var o=t("../lib/dom"),s=t("../lib/oop"),a=t("../lib/event"),l=t("../tooltip").Tooltip;s.inherits(r,l),function(){this.setPosition=function(t,e){var n=window.innerWidth||document.documentElement.clientWidth,i=window.innerHeight||document.documentElement.clientHeight,r=this.getWidth(),o=this.getHeight();t+=15,e+=15,t+r>n&&(t-=t+r-n),e+o>i&&(e-=20+o),l.prototype.setPosition.call(this,t,e)}}.call(r.prototype),e.GutterHandler=i}),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(t,e,n){"use strict";var i=t("../lib/event"),r=t("../lib/useragent"),o=e.MouseEvent=function(t,e){this.domEvent=t,this.editor=e,this.x=this.clientX=t.clientX,this.y=this.clientY=t.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1};(function(){this.stopPropagation=function(){i.stopPropagation(this.domEvent),this.propagationStopped=!0},this.preventDefault=function(){i.preventDefault(this.domEvent),this.defaultPrevented=!0},this.stop=function(){this.stopPropagation(),this.preventDefault()},this.getDocumentPosition=function(){return this.$pos?this.$pos:(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY),this.$pos)},this.inSelection=function(){if(null!==this.$inSelection)return this.$inSelection;var t=this.editor,e=t.getSelectionRange();if(e.isEmpty())this.$inSelection=!1;else{var n=this.getDocumentPosition();this.$inSelection=e.contains(n.row,n.column)}return this.$inSelection},this.getButton=function(){return i.getButton(this.domEvent)},this.getShiftKey=function(){return this.domEvent.shiftKey},this.getAccelKey=r.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey}}).call(o.prototype)}),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(t,e,n){"use strict";function i(t){function e(t,e){var n=Date.now(),i=!e||t.row!=e.row,o=!e||t.column!=e.column;if(!S||i||o)m.$blockScrolling+=1,m.moveCursorToPosition(t),m.$blockScrolling-=1,S=n,D={x:b,y:A};else{var s=r(D.x,D.y,b,A);s>c?S=null:n-S>=u&&(m.renderer.scrollCursorIntoView(),S=null)}}function n(t,e){var n=Date.now(),i=m.renderer.layerConfig.lineHeight,r=m.renderer.layerConfig.characterWidth,o=m.renderer.scroller.getBoundingClientRect(),s={x:{left:b-o.left,right:o.right-b},y:{top:A-o.top,bottom:o.bottom-A}},a=Math.min(s.x.left,s.x.right),u=Math.min(s.y.top,s.y.bottom),c={row:t.row,column:t.column};2>=a/r&&(c.column+=s.x.left<s.x.right?-3:2),1>=u/i&&(c.row+=s.y.top<s.y.bottom?-1:1);var h=t.row!=c.row,d=t.column!=c.column,f=!e||t.row!=e.row;h||d&&!f?k?n-k>=l&&m.renderer.scrollCursorIntoView(c):k=n:k=null}function i(){var t=E;E=m.renderer.screenToTextCoordinates(b,A),e(E,t),n(E,t)}function h(){x=m.selection.toOrientedRange(),w=m.session.addMarker(x,"ace_selection",m.getSelectionStyle()),m.clearSelection(),m.isFocused()&&m.renderer.$cursorLayer.setBlinking(!1),clearInterval(C),i(),C=setInterval(i,20),T=0,s.addListener(document,"mousemove",f)}function d(){clearInterval(C),m.session.removeMarker(w),w=null,m.$blockScrolling+=1,m.selection.fromOrientedRange(x),m.$blockScrolling-=1,m.isFocused()&&!F&&m.renderer.$cursorLayer.setBlinking(!m.getReadOnly()),x=null,E=null,T=0,k=null,S=null,s.removeListener(document,"mousemove",f)}function f(){null==$&&($=setTimeout(function(){null!=$&&w&&d()},20))}function p(t){var e=t.types;return!e||Array.prototype.some.call(e,function(t){return"text/plain"==t||"Text"==t})}function g(t){var e=["copy","copymove","all","uninitialized"],n=["move","copymove","linkmove","all","uninitialized"],i=a.isMac?t.altKey:t.ctrlKey,r="uninitialized";try{r=t.dataTransfer.effectAllowed.toLowerCase()}catch(t){}var o="none";return i&&e.indexOf(r)>=0?o="copy":n.indexOf(r)>=0?o="move":e.indexOf(r)>=0&&(o="copy"),o}var m=t.editor,v=o.createElement("img");v.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",a.isOpera&&(v.style.cssText="width:1px;height:1px;position:fixed;top:0;left:0;z-index:2147483647;opacity:0;");var y=["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"];y.forEach(function(e){t[e]=this[e]},this),m.addEventListener("mousedown",this.onMouseDown.bind(t));var w,b,A,C,x,E,_,F,k,S,D,M=m.container,T=0;this.onDragStart=function(t){if(this.cancelDrag||!M.draggable){var e=this;return setTimeout(function(){e.startSelect(),e.captureMouse(t)},0),t.preventDefault()}x=m.getSelectionRange();var n=t.dataTransfer;n.effectAllowed=m.getReadOnly()?"copy":"copyMove",a.isOpera&&(m.container.appendChild(v),v.scrollTop=0),n.setDragImage&&n.setDragImage(v,0,0),a.isOpera&&m.container.removeChild(v),n.clearData(),n.setData("Text",m.session.getTextRange()),F=!0,this.setState("drag")},this.onDragEnd=function(t){if(M.draggable=!1,F=!1,this.setState(null),!m.getReadOnly()){var e=t.dataTransfer.dropEffect;_||"move"!=e||m.session.remove(m.getSelectionRange()),m.renderer.$cursorLayer.setBlinking(!0)}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(t){return!m.getReadOnly()&&p(t.dataTransfer)?(b=t.clientX,A=t.clientY,w||h(),T++,t.dataTransfer.dropEffect=_=g(t),s.preventDefault(t)):void 0},this.onDragOver=function(t){return!m.getReadOnly()&&p(t.dataTransfer)?(b=t.clientX,A=t.clientY,w||(h(),T++),null!==$&&($=null),t.dataTransfer.dropEffect=_=g(t),s.preventDefault(t)):void 0},this.onDragLeave=function(t){return T--,0>=T&&w?(d(),_=null,s.preventDefault(t)):void 0},this.onDrop=function(t){if(E){var e=t.dataTransfer;if(F)switch(_){case"move":x=x.contains(E.row,E.column)?{start:E,end:E}:m.moveText(x,E);break;case"copy":x=m.moveText(x,E,!0)}else{var n=e.getData("Text");x={start:E,end:m.session.insert(E,n)},m.focus(),_=null}return d(),s.preventDefault(t)}},s.addListener(M,"dragstart",this.onDragStart.bind(t)),s.addListener(M,"dragend",this.onDragEnd.bind(t)),s.addListener(M,"dragenter",this.onDragEnter.bind(t)),s.addListener(M,"dragover",this.onDragOver.bind(t)),s.addListener(M,"dragleave",this.onDragLeave.bind(t)),s.addListener(M,"drop",this.onDrop.bind(t));var $=null}function r(t,e,n,i){return Math.sqrt(Math.pow(n-t,2)+Math.pow(i-e,2))}var o=t("../lib/dom"),s=t("../lib/event"),a=t("../lib/useragent"),l=200,u=200,c=5;(function(){this.dragWait=function(){var t=Date.now()-this.mousedownEvent.time;t>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){var t=this.editor.container;t.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(t){this.editor.renderer.$cursorLayer.setBlinking(!this.editor.getReadOnly()),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var t=this.editor,e=t.container;e.draggable=!0,t.renderer.$cursorLayer.setBlinking(!1),t.setStyle("ace_dragging");var n=a.isWin?"default":"move";t.renderer.setCursorStyle(n),this.setState("dragReady")},this.onMouseDrag=function(t){var e=this.editor.container;if(a.isIE&&"dragReady"==this.state){var n=r(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);n>3&&e.dragDrop()}if("dragWait"===this.state){var n=r(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);n>0&&(e.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))}},this.onMouseDown=function(t){if(this.$dragEnabled){this.mousedownEvent=t;var e=this.editor,n=t.inSelection(),i=t.getButton(),r=t.domEvent.detail||1;if(1===r&&0===i&&n){if(t.editor.inMultiSelectMode&&(t.getAccelKey()||t.getShiftKey()))return;this.mousedownEvent.time=Date.now();var o=t.domEvent.target||t.domEvent.srcElement;if("unselectable"in o&&(o.unselectable="on"),e.getDragDelay()){if(a.isWebKit){this.cancelDrag=!0;var s=e.container;s.draggable=!0}this.setState("dragWait")}else this.startDrag();this.captureMouse(t,this.onMouseDrag.bind(this)),t.defaultPrevented=!0}}}}).call(i.prototype),e.DragdropHandler=i}),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(t,e,n){"use strict";var i=t("./dom");e.get=function(t,e){var n=new XMLHttpRequest;n.open("GET",t,!0),n.onreadystatechange=function(){4===n.readyState&&e(n.responseText)},n.send(null)},e.loadScript=function(t,e){var n=i.getDocumentHead(),r=document.createElement("script");r.src=t,n.appendChild(r),r.onload=r.onreadystatechange=function(t,n){!n&&r.readyState&&"loaded"!=r.readyState&&"complete"!=r.readyState||(r=r.onload=r.onreadystatechange=null,n||e())}},e.qualifyURL=function(t){var e=document.createElement("a");return e.href=t,e.href}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(t,e,n){"use strict";var i={},r=function(){this.propagationStopped=!0},o=function(){this.defaultPrevented=!0};i._emit=i._dispatchEvent=function(t,e){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var n=this._eventRegistry[t]||[],i=this._defaultHandlers[t];if(n.length||i){"object"==typeof e&&e||(e={}),e.type||(e.type=t),e.stopPropagation||(e.stopPropagation=r),e.preventDefault||(e.preventDefault=o),n=n.slice();for(var s=0;s<n.length&&(n[s](e,this),!e.propagationStopped);s++);return i&&!e.defaultPrevented?i(e,this):void 0}},i._signal=function(t,e){var n=(this._eventRegistry||{})[t];if(n){n=n.slice();for(var i=0;i<n.length;i++)n[i](e,this)}},i.once=function(t,e){var n=this;e&&this.addEventListener(t,function i(){n.removeEventListener(t,i),e.apply(null,arguments)})},i.setDefaultHandler=function(t,e){var n=this._defaultHandlers;if(n||(n=this._defaultHandlers={_disabled_:{}}),n[t]){var i=n[t],r=n._disabled_[t];r||(n._disabled_[t]=r=[]),r.push(i);var o=r.indexOf(e);-1!=o&&r.splice(o,1)}n[t]=e},i.removeDefaultHandler=function(t,e){var n=this._defaultHandlers;if(n){var i=n._disabled_[t];if(n[t]==e){n[t];i&&this.setDefaultHandler(t,i.pop())}else if(i){var r=i.indexOf(e);-1!=r&&i.splice(r,1)}}},i.on=i.addEventListener=function(t,e,n){this._eventRegistry=this._eventRegistry||{};var i=this._eventRegistry[t];return i||(i=this._eventRegistry[t]=[]),-1==i.indexOf(e)&&i[n?"unshift":"push"](e),e},i.off=i.removeListener=i.removeEventListener=function(t,e){this._eventRegistry=this._eventRegistry||{};var n=this._eventRegistry[t];if(n){var i=n.indexOf(e);-1!==i&&n.splice(i,1)}},i.removeAllListeners=function(t){this._eventRegistry&&(this._eventRegistry[t]=[])},e.EventEmitter=i}),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(t,e,n){
"no use strict";function i(t){"undefined"!=typeof console&&console.warn&&console.warn.apply(console,arguments)}function r(t,e){var n=new Error(t);n.data=e,"object"==typeof console&&console.error&&console.error(n),setTimeout(function(){throw n})}var o=t("./oop"),s=t("./event_emitter").EventEmitter,a={setOptions:function(t){Object.keys(t).forEach(function(e){this.setOption(e,t[e])},this)},getOptions:function(t){var e={};return t?Array.isArray(t)||(e=t,t=Object.keys(e)):t=Object.keys(this.$options),t.forEach(function(t){e[t]=this.getOption(t)},this),e},setOption:function(t,e){if(this["$"+t]!==e){var n=this.$options[t];if(!n)return i('misspelled option "'+t+'"');if(n.forwardTo)return this[n.forwardTo]&&this[n.forwardTo].setOption(t,e);n.handlesSet||(this["$"+t]=e),n&&n.set&&n.set.call(this,e)}},getOption:function(t){var e=this.$options[t];return e?e.forwardTo?this[e.forwardTo]&&this[e.forwardTo].getOption(t):e&&e.get?e.get.call(this):this["$"+t]:i('misspelled option "'+t+'"')}},l=function(){this.$defaultOptions={}};(function(){o.implement(this,s),this.defineOptions=function(t,e,n){return t.$options||(this.$defaultOptions[e]=t.$options={}),Object.keys(n).forEach(function(e){var i=n[e];"string"==typeof i&&(i={forwardTo:i}),i.name||(i.name=e),t.$options[i.name]=i,"initialValue"in i&&(t["$"+i.name]=i.initialValue)}),o.implement(t,a),this},this.resetOptions=function(t){Object.keys(t.$options).forEach(function(e){var n=t.$options[e];"value"in n&&t.setOption(e,n.value)})},this.setDefaultValue=function(t,e,n){var i=this.$defaultOptions[t]||(this.$defaultOptions[t]={});i[e]&&(i.forwardTo?this.setDefaultValue(i.forwardTo,e,n):i[e].value=n)},this.setDefaultValues=function(t,e){Object.keys(e).forEach(function(n){this.setDefaultValue(t,n,e[n])},this)},this.warn=i,this.reportError=r}).call(l.prototype),e.AppConfig=l}),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/lib/net","ace/lib/app_config"],function(t,e,n){"no use strict";function i(i){if(l&&l.document){u.packaged=i||t.packaged||n.packaged||l.define&&define.packaged;for(var o={},s="",a=document.currentScript||document._currentScript,c=a&&a.ownerDocument||document,h=c.getElementsByTagName("script"),d=0;d<h.length;d++){var f=h[d],p=f.src||f.getAttribute("src");if(p){for(var g=f.attributes,m=0,v=g.length;v>m;m++){var y=g[m];0===y.name.indexOf("data-ace-")&&(o[r(y.name.replace(/^data-ace-/,""))]=y.value)}var w=p.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);w&&(s=w[1])}}s&&(o.base=o.base||s,o.packaged=!0),o.basePath=o.base,o.workerPath=o.workerPath||o.base,o.modePath=o.modePath||o.base,o.themePath=o.themePath||o.base,delete o.base;for(var b in o)"undefined"!=typeof o[b]&&e.set(b,o[b])}}function r(t){return t.replace(/-(.)/g,function(t,e){return e.toUpperCase()})}var o=t("./lib/lang"),s=(t("./lib/oop"),t("./lib/net")),a=t("./lib/app_config").AppConfig;n.exports=e=new a;var l=function(){return this||"undefined"!=typeof window&&window}(),u={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{}};e.get=function(t){if(!u.hasOwnProperty(t))throw new Error("Unknown config key: "+t);return u[t]},e.set=function(t,e){if(!u.hasOwnProperty(t))throw new Error("Unknown config key: "+t);u[t]=e},e.all=function(){return o.copyObject(u)},e.moduleUrl=function(t,e){if(u.$moduleUrls[t])return u.$moduleUrls[t];var n=t.split("/");e=e||n[n.length-2]||"";var i="snippets"==e?"/":"-",r=n[n.length-1];if("worker"==e&&"-"==i){var o=new RegExp("^"+e+"[\\-_]|[\\-_]"+e+"$","g");r=r.replace(o,"")}(!r||r==e)&&n.length>1&&(r=n[n.length-2]);var s=u[e+"Path"];return null==s?s=u.basePath:"/"==i&&(e=i=""),s&&"/"!=s.slice(-1)&&(s+="/"),s+e+i+r+this.get("suffix")},e.setModuleUrl=function(t,e){return u.$moduleUrls[t]=e},e.$loading={},e.loadModule=function(n,i){var r,o;Array.isArray(n)&&(o=n[0],n=n[1]);try{r=t(n)}catch(a){}if(r&&!e.$loading[n])return i&&i(r);if(e.$loading[n]||(e.$loading[n]=[]),e.$loading[n].push(i),!(e.$loading[n].length>1)){var l=function(){t([n],function(t){e._emit("load.module",{name:n,module:t});var i=e.$loading[n];e.$loading[n]=null,i.forEach(function(e){e&&e(t)})})};return e.get("packaged")?void s.loadScript(e.moduleUrl(n,o),l):l()}},i(!0),e.init=i}),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/config"],function(t,e,n){"use strict";var i=t("../lib/event"),r=t("../lib/useragent"),o=t("./default_handlers").DefaultHandlers,s=t("./default_gutter_handler").GutterHandler,a=t("./mouse_event").MouseEvent,l=t("./dragdrop_handler").DragdropHandler,u=t("../config"),c=function(t){var e=this;this.editor=t,new o(this),new s(this),new l(this);var n=function(e){var n=!document.hasFocus||!document.hasFocus()||!t.isFocused()&&document.activeElement==(t.textInput&&t.textInput.getElement());n&&window.focus(),t.focus()},a=t.renderer.getMouseEventTarget();i.addListener(a,"click",this.onMouseEvent.bind(this,"click")),i.addListener(a,"mousemove",this.onMouseMove.bind(this,"mousemove")),i.addMultiMouseDownListener([a,t.renderer.scrollBarV&&t.renderer.scrollBarV.inner,t.renderer.scrollBarH&&t.renderer.scrollBarH.inner,t.textInput&&t.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent"),i.addMouseWheelListener(t.container,this.onMouseWheel.bind(this,"mousewheel")),i.addTouchMoveListener(t.container,this.onTouchMove.bind(this,"touchmove"));var u=t.renderer.$gutter;i.addListener(u,"mousedown",this.onMouseEvent.bind(this,"guttermousedown")),i.addListener(u,"click",this.onMouseEvent.bind(this,"gutterclick")),i.addListener(u,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick")),i.addListener(u,"mousemove",this.onMouseEvent.bind(this,"guttermousemove")),i.addListener(a,"mousedown",n),i.addListener(u,"mousedown",n),r.isIE&&t.renderer.scrollBarV&&(i.addListener(t.renderer.scrollBarV.element,"mousedown",n),i.addListener(t.renderer.scrollBarH.element,"mousedown",n)),t.on("mousemove",function(n){if(!e.state&&!e.$dragDelay&&e.$dragEnabled){var i=t.renderer.screenToTextCoordinates(n.x,n.y),r=t.session.selection.getRange(),o=t.renderer;!r.isEmpty()&&r.insideStart(i.row,i.column)?o.setCursorStyle("default"):o.setCursorStyle("")}})};(function(){this.onMouseEvent=function(t,e){this.editor._emit(t,new a(e,this.editor))},this.onMouseMove=function(t,e){var n=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;n&&n.length&&this.editor._emit(t,new a(e,this.editor))},this.onMouseWheel=function(t,e){var n=new a(e,this.editor);n.speed=2*this.$scrollSpeed,n.wheelX=e.wheelX,n.wheelY=e.wheelY,this.editor._emit(t,n)},this.onTouchMove=function(t,e){var n=new a(e,this.editor);n.speed=1,n.wheelX=e.wheelX,n.wheelY=e.wheelY,this.editor._emit(t,n)},this.setState=function(t){this.state=t},this.captureMouse=function(t,e){this.x=t.x,this.y=t.y,this.isMousePressed=!0;var n=this.editor.renderer;n.$keepTextAreaAtCursor&&(n.$keepTextAreaAtCursor=null);var o=this,s=function(t){if(t){if(r.isWebKit&&!t.which&&o.releaseMouse)return o.releaseMouse();o.x=t.clientX,o.y=t.clientY,e&&e(t),o.mouseEvent=new a(t,o.editor),o.$mouseMoved=!0}},l=function(t){clearInterval(c),u(),o[o.state+"End"]&&o[o.state+"End"](t),o.state="",null==n.$keepTextAreaAtCursor&&(n.$keepTextAreaAtCursor=!0,n.$moveTextAreaToCursor()),o.isMousePressed=!1,o.$onCaptureMouseMove=o.releaseMouse=null,t&&o.onMouseEvent("mouseup",t)},u=function(){o[o.state]&&o[o.state](),o.$mouseMoved=!1};if(r.isOldIE&&"dblclick"==t.domEvent.type)return setTimeout(function(){l(t)});o.$onCaptureMouseMove=s,o.releaseMouse=i.capture(this.editor.container,s,l);var c=setInterval(u,20)},this.releaseMouse=null,this.cancelContextMenu=function(){var t=function(e){e&&e.domEvent&&"contextmenu"!=e.domEvent.type||(this.editor.off("nativecontextmenu",t),e&&e.domEvent&&i.stopEvent(e.domEvent))}.bind(this);setTimeout(t,10),this.editor.on("nativecontextmenu",t)}}).call(c.prototype),u.defineOptions(c.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:r.isMac?150:0},dragEnabled:{initialValue:!0},focusTimout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),e.MouseHandler=c}),ace.define("ace/mouse/fold_handler",["require","exports","module"],function(t,e,n){"use strict";function i(t){t.on("click",function(e){var n=e.getDocumentPosition(),i=t.session,r=i.getFoldAt(n.row,n.column,1);r&&(e.getAccelKey()?i.removeFold(r):i.expandFold(r),e.stop())}),t.on("gutterclick",function(e){var n=t.renderer.$gutterLayer.getRegion(e);if("foldWidgets"==n){var i=e.getDocumentPosition().row,r=t.session;r.foldWidgets&&r.foldWidgets[i]&&t.session.onFoldWidgetClick(i,e),t.isFocused()||t.focus(),e.stop()}}),t.on("gutterdblclick",function(e){var n=t.renderer.$gutterLayer.getRegion(e);if("foldWidgets"==n){var i=e.getDocumentPosition().row,r=t.session,o=r.getParentFoldRangeData(i,!0),s=o.range||o.firstRange;if(s){i=s.start.row;var a=r.getFoldAt(i,r.getLine(i).length,1);a?r.removeFold(a):(r.addFold("...",s),t.renderer.scrollCursorIntoView({row:s.start.row,column:0}))}e.stop()}})}e.FoldHandler=i}),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(t,e,n){"use strict";var i=t("../lib/keys"),r=t("../lib/event"),o=function(t){this.$editor=t,this.$data={editor:t},this.$handlers=[],this.setDefaultHandler(t.commands)};(function(){this.setDefaultHandler=function(t){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=t,this.addKeyboardHandler(t,0)},this.setKeyboardHandler=function(t){var e=this.$handlers;if(e[e.length-1]!=t){for(;e[e.length-1]&&e[e.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(e[e.length-1]);this.addKeyboardHandler(t,1)}},this.addKeyboardHandler=function(t,e){if(t){"function"!=typeof t||t.handleKeyboard||(t.handleKeyboard=t);var n=this.$handlers.indexOf(t);-1!=n&&this.$handlers.splice(n,1),void 0==e?this.$handlers.push(t):this.$handlers.splice(e,0,t),-1==n&&t.attach&&t.attach(this.$editor)}},this.removeKeyboardHandler=function(t){var e=this.$handlers.indexOf(t);return-1==e?!1:(this.$handlers.splice(e,1),t.detach&&t.detach(this.$editor),!0)},this.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},this.getStatusText=function(){var t=this.$data,e=t.editor;return this.$handlers.map(function(n){return n.getStatusText&&n.getStatusText(e,t)||""}).filter(Boolean).join(" ")},this.$callKeyboardHandlers=function(t,e,n,i){for(var o,s=!1,a=this.$editor.commands,l=this.$handlers.length;l--&&(o=this.$handlers[l].handleKeyboard(this.$data,t,e,n,i),!(o&&o.command&&(s="null"==o.command?!0:a.exec(o.command,this.$editor,o.args,i),s&&i&&-1!=t&&1!=o.passEvent&&1!=o.command.passEvent&&r.stopEvent(i),s))););return s||-1!=t||(o={command:"insertstring"},s=a.exec("insertstring",this.$editor,e)),s&&this.$editor._signal("keyboardActivity",o),s},this.onCommandKey=function(t,e,n){var r=i.keyCodeToString(n);this.$callKeyboardHandlers(e,r,n,t)},this.onTextInput=function(t){this.$callKeyboardHandlers(-1,t)}}).call(o.prototype),e.KeyBinding=o}),ace.define("ace/range",["require","exports","module"],function(t,e,n){"use strict";var i=function(t,e){return t.row-e.row||t.column-e.column},r=function(t,e,n,i){this.start={row:t,column:e},this.end={row:n,column:i}};(function(){this.isEqual=function(t){return this.start.row===t.start.row&&this.end.row===t.end.row&&this.start.column===t.start.column&&this.end.column===t.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(t,e){return 0==this.compare(t,e)},this.compareRange=function(t){var e,n=t.end,i=t.start;return e=this.compare(n.row,n.column),1==e?(e=this.compare(i.row,i.column),1==e?2:0==e?1:0):-1==e?-2:(e=this.compare(i.row,i.column),-1==e?-1:1==e?42:0)},this.comparePoint=function(t){return this.compare(t.row,t.column)},this.containsRange=function(t){return 0==this.comparePoint(t.start)&&0==this.comparePoint(t.end)},this.intersects=function(t){var e=this.compareRange(t);return-1==e||0==e||1==e},this.isEnd=function(t,e){return this.end.row==t&&this.end.column==e},this.isStart=function(t,e){return this.start.row==t&&this.start.column==e},this.setStart=function(t,e){"object"==typeof t?(this.start.column=t.column,this.start.row=t.row):(this.start.row=t,this.start.column=e)},this.setEnd=function(t,e){"object"==typeof t?(this.end.column=t.column,this.end.row=t.row):(this.end.row=t,this.end.column=e)},this.inside=function(t,e){return 0==this.compare(t,e)?!this.isEnd(t,e)&&!this.isStart(t,e):!1},this.insideStart=function(t,e){return 0==this.compare(t,e)?!this.isEnd(t,e):!1},this.insideEnd=function(t,e){return 0==this.compare(t,e)?!this.isStart(t,e):!1},this.compare=function(t,e){return this.isMultiLine()||t!==this.start.row?t<this.start.row?-1:t>this.end.row?1:this.start.row===t?e>=this.start.column?0:-1:this.end.row===t?e<=this.end.column?0:1:0:e<this.start.column?-1:e>this.end.column?1:0},this.compareStart=function(t,e){return this.start.row==t&&this.start.column==e?-1:this.compare(t,e)},this.compareEnd=function(t,e){return this.end.row==t&&this.end.column==e?1:this.compare(t,e)},this.compareInside=function(t,e){return this.end.row==t&&this.end.column==e?1:this.start.row==t&&this.start.column==e?-1:this.compare(t,e)},this.clipRows=function(t,e){if(this.end.row>e)var n={row:e+1,column:0};else if(this.end.row<t)var n={row:t,column:0};if(this.start.row>e)var i={row:e+1,column:0};else if(this.start.row<t)var i={row:t,column:0};return r.fromPoints(i||this.start,n||this.end)},this.extend=function(t,e){var n=this.compare(t,e);if(0==n)return this;if(-1==n)var i={row:t,column:e};else var o={row:t,column:e};return r.fromPoints(i||this.start,o||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return r.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new r(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new r(this.start.row,0,this.end.row,0)},this.toScreenRange=function(t){var e=t.documentToScreenPosition(this.start),n=t.documentToScreenPosition(this.end);return new r(e.row,e.column,n.row,n.column)},this.moveBy=function(t,e){this.start.row+=t,this.start.column+=e,this.end.row+=t,this.end.column+=e}}).call(r.prototype),r.fromPoints=function(t,e){return new r(t.row,t.column,e.row,e.column)},r.comparePoints=i,r.comparePoints=function(t,e){return t.row-e.row||t.column-e.column},e.Range=r}),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(t,e,n){"use strict";var i=t("./lib/oop"),r=t("./lib/lang"),o=t("./lib/event_emitter").EventEmitter,s=t("./range").Range,a=function(t){this.session=t,this.doc=t.getDocument(),this.clearSelection(),this.lead=this.selectionLead=this.doc.createAnchor(0,0),this.anchor=this.selectionAnchor=this.doc.createAnchor(0,0);var e=this;this.lead.on("change",function(t){e._emit("changeCursor"),e.$isEmpty||e._emit("changeSelection"),e.$keepDesiredColumnOnChange||t.old.column==t.value.column||(e.$desiredColumn=null)}),this.selectionAnchor.on("change",function(){e.$isEmpty||e._emit("changeSelection")})};(function(){i.implement(this,o),this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},this.isMultiLine=function(){return this.isEmpty()?!1:this.getRange().isMultiLine()},this.getCursor=function(){return this.lead.getPosition()},this.setSelectionAnchor=function(t,e){this.anchor.setPosition(t,e),this.$isEmpty&&(this.$isEmpty=!1,this._emit("changeSelection"))},this.getSelectionAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},this.getSelectionLead=function(){return this.lead.getPosition()},this.shiftSelection=function(t){if(this.$isEmpty)return void this.moveCursorTo(this.lead.row,this.lead.column+t);var e=this.getSelectionAnchor(),n=this.getSelectionLead(),i=this.isBackwards();i&&0===e.column||this.setSelectionAnchor(e.row,e.column+t),(i||0!==n.column)&&this.$moveSelection(function(){this.moveCursorTo(n.row,n.column+t)})},this.isBackwards=function(){var t=this.anchor,e=this.lead;return t.row>e.row||t.row==e.row&&t.column>e.column},this.getRange=function(){var t=this.anchor,e=this.lead;return this.isEmpty()?s.fromPoints(e,e):this.isBackwards()?s.fromPoints(e,t):s.fromPoints(t,e)},this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},this.selectAll=function(){var t=this.doc.getLength()-1;this.setSelectionAnchor(0,0),this.moveCursorTo(t,this.doc.getLine(t).length)},this.setRange=this.setSelectionRange=function(t,e){e?(this.setSelectionAnchor(t.end.row,t.end.column),this.selectTo(t.start.row,t.start.column)):(this.setSelectionAnchor(t.start.row,t.start.column),this.selectTo(t.end.row,t.end.column)),this.getRange().isEmpty()&&(this.$isEmpty=!0),this.$desiredColumn=null},this.$moveSelection=function(t){var e=this.lead;this.$isEmpty&&this.setSelectionAnchor(e.row,e.column),t.call(this)},this.selectTo=function(t,e){this.$moveSelection(function(){this.moveCursorTo(t,e)})},this.selectToPosition=function(t){this.$moveSelection(function(){this.moveCursorToPosition(t)})},this.moveTo=function(t,e){this.clearSelection(),this.moveCursorTo(t,e)},this.moveToPosition=function(t){this.clearSelection(),this.moveCursorToPosition(t)},this.selectUp=function(){this.$moveSelection(this.moveCursorUp)},this.selectDown=function(){this.$moveSelection(this.moveCursorDown)},this.selectRight=function(){this.$moveSelection(this.moveCursorRight)},this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},this.getWordRange=function(t,e){if("undefined"==typeof e){var n=t||this.lead;t=n.row,e=n.column}return this.session.getWordRange(t,e)},this.selectWord=function(){this.setSelectionRange(this.getWordRange())},this.selectAWord=function(){var t=this.getCursor(),e=this.session.getAWordRange(t.row,t.column);this.setSelectionRange(e)},this.getLineRange=function(t,e){var n,i="number"==typeof t?t:this.lead.row,r=this.session.getFoldLine(i);return r?(i=r.start.row,n=r.end.row):n=i,e===!0?new s(i,0,n,this.session.getLine(n).length):new s(i,0,n+1,0)},this.selectLine=function(){this.setSelectionRange(this.getLineRange())},this.moveCursorUp=function(){this.moveCursorBy(-1,0)},this.moveCursorDown=function(){this.moveCursorBy(1,0)},this.moveCursorLeft=function(){var t,e=this.lead.getPosition();if(t=this.session.getFoldAt(e.row,e.column,-1))this.moveCursorTo(t.start.row,t.start.column);else if(0===e.column)e.row>0&&this.moveCursorTo(e.row-1,this.doc.getLine(e.row-1).length);else{var n=this.session.getTabSize();this.session.isTabStop(e)&&this.doc.getLine(e.row).slice(e.column-n,e.column).split(" ").length-1==n?this.moveCursorBy(0,-n):this.moveCursorBy(0,-1)}},this.moveCursorRight=function(){var t,e=this.lead.getPosition();if(t=this.session.getFoldAt(e.row,e.column,1))this.moveCursorTo(t.end.row,t.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var n=this.session.getTabSize(),e=this.lead;this.session.isTabStop(e)&&this.doc.getLine(e.row).slice(e.column,e.column+n).split(" ").length-1==n?this.moveCursorBy(0,n):this.moveCursorBy(0,1)}},this.moveCursorLineStart=function(){var t=this.lead.row,e=this.lead.column,n=this.session.documentToScreenRow(t,e),i=this.session.screenToDocumentPosition(n,0),r=this.session.getDisplayLine(t,null,i.row,i.column),o=r.match(/^\s*/);o[0].length==e||this.session.$useEmacsStyleLineStart||(i.column+=o[0].length),this.moveCursorToPosition(i)},this.moveCursorLineEnd=function(){var t=this.lead,e=this.session.getDocumentLastRowColumnPosition(t.row,t.column);if(this.lead.column==e.column){var n=this.session.getLine(e.row);if(e.column==n.length){var i=n.search(/\s+$/);i>0&&(e.column=i)}}this.moveCursorTo(e.row,e.column)},this.moveCursorFileEnd=function(){var t=this.doc.getLength()-1,e=this.doc.getLine(t).length;this.moveCursorTo(t,e)},this.moveCursorFileStart=function(){this.moveCursorTo(0,0)},this.moveCursorLongWordRight=function(){var t,e=this.lead.row,n=this.lead.column,i=this.doc.getLine(e),r=i.substring(n);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var o=this.session.getFoldAt(e,n,1);return o?void this.moveCursorTo(o.end.row,o.end.column):((t=this.session.nonTokenRe.exec(r))&&(n+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,r=i.substring(n)),n>=i.length?(this.moveCursorTo(e,i.length),this.moveCursorRight(),void(e<this.doc.getLength()-1&&this.moveCursorWordRight())):((t=this.session.tokenRe.exec(r))&&(n+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),void this.moveCursorTo(e,n)))},this.moveCursorLongWordLeft=function(){var t,e=this.lead.row,n=this.lead.column;if(t=this.session.getFoldAt(e,n,-1))return void this.moveCursorTo(t.start.row,t.start.column);var i=this.session.getFoldStringAt(e,n,-1);null==i&&(i=this.doc.getLine(e).substring(0,n));var o,s=r.stringReverse(i);return this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,(o=this.session.nonTokenRe.exec(s))&&(n-=this.session.nonTokenRe.lastIndex,s=s.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),0>=n?(this.moveCursorTo(e,0),this.moveCursorLeft(),void(e>0&&this.moveCursorWordLeft())):((o=this.session.tokenRe.exec(s))&&(n-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),void this.moveCursorTo(e,n))},this.$shortWordEndIndex=function(t){var e,n,i=0,r=/\s/,o=this.session.tokenRe;if(o.lastIndex=0,e=this.session.tokenRe.exec(t))i=this.session.tokenRe.lastIndex;else{for(;(n=t[i])&&r.test(n);)i++;if(1>i)for(o.lastIndex=0;(n=t[i])&&!o.test(n);)if(o.lastIndex=0,i++,r.test(n)){if(i>2){i--;break}for(;(n=t[i])&&r.test(n);)i++;if(i>2)break}}return o.lastIndex=0,i},this.moveCursorShortWordRight=function(){var t=this.lead.row,e=this.lead.column,n=this.doc.getLine(t),i=n.substring(e),r=this.session.getFoldAt(t,e,1);if(r)return this.moveCursorTo(r.end.row,r.end.column);if(e==n.length){var o=this.doc.getLength();do t++,i=this.doc.getLine(t);while(o>t&&/^\s*$/.test(i));/^\s+/.test(i)||(i=""),e=0}var s=this.$shortWordEndIndex(i);this.moveCursorTo(t,e+s)},this.moveCursorShortWordLeft=function(){var t,e=this.lead.row,n=this.lead.column;if(t=this.session.getFoldAt(e,n,-1))return this.moveCursorTo(t.start.row,t.start.column);var i=this.session.getLine(e).substring(0,n);if(0===n){do e--,i=this.doc.getLine(e);while(e>0&&/^\s*$/.test(i));n=i.length,/\s+$/.test(i)||(i="")}var o=r.stringReverse(i),s=this.$shortWordEndIndex(o);return this.moveCursorTo(e,n-s)},this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},this.moveCursorBy=function(t,e){var n=this.session.documentToScreenPosition(this.lead.row,this.lead.column);0===e&&(this.$desiredColumn?n.column=this.$desiredColumn:this.$desiredColumn=n.column);var i=this.session.screenToDocumentPosition(n.row+t,n.column);0!==t&&0===e&&i.row===this.lead.row&&i.column===this.lead.column&&this.session.lineWidgets&&this.session.lineWidgets[i.row]&&(i.row>0||t>0)&&i.row++,this.moveCursorTo(i.row,i.column+e,0===e)},this.moveCursorToPosition=function(t){this.moveCursorTo(t.row,t.column)},this.moveCursorTo=function(t,e,n){var i=this.session.getFoldAt(t,e,1);i&&(t=i.start.row,e=i.start.column),this.$keepDesiredColumnOnChange=!0,this.lead.setPosition(t,e),this.$keepDesiredColumnOnChange=!1,n||(this.$desiredColumn=null)},this.moveCursorToScreen=function(t,e,n){var i=this.session.screenToDocumentPosition(t,e);this.moveCursorTo(i.row,i.column,n)},this.detach=function(){this.lead.detach(),this.anchor.detach(),this.session=this.doc=null},this.fromOrientedRange=function(t){this.setSelectionRange(t,t.cursor==t.start),this.$desiredColumn=t.desiredColumn||this.$desiredColumn},this.toOrientedRange=function(t){var e=this.getRange();return t?(t.start.column=e.start.column,t.start.row=e.start.row,t.end.column=e.end.column,t.end.row=e.end.row):t=e,t.cursor=this.isBackwards()?t.start:t.end,t.desiredColumn=this.$desiredColumn,t},this.getRangeOfMovements=function(t){var e=this.getCursor();try{t(this);var n=this.getCursor();return s.fromPoints(e,n)}catch(i){return s.fromPoints(e,e)}finally{this.moveCursorToPosition(e)}},this.toJSON=function(){if(this.rangeCount)var t=this.ranges.map(function(t){var e=t.clone();return e.isBackwards=t.cursor==t.start,e});else{var t=this.getRange();t.isBackwards=this.isBackwards()}return t},this.fromJSON=function(t){if(void 0==t.start){if(this.rangeList){this.toSingleRange(t[0]);for(var e=t.length;e--;){var n=s.fromPoints(t[e].start,t[e].end);t[e].isBackwards&&(n.cursor=n.start),this.addRange(n,!0)}return}t=t[0]}this.rangeList&&this.toSingleRange(t),this.setSelectionRange(t,t.isBackwards)},this.isEqual=function(t){if((t.length||this.rangeCount)&&t.length!=this.rangeCount)return!1;if(!t.length||!this.ranges)return this.getRange().isEqual(t);for(var e=this.ranges.length;e--;)if(!this.ranges[e].isEqual(t[e]))return!1;return!0}}).call(a.prototype),e.Selection=a}),ace.define("ace/tokenizer",["require","exports","module","ace/config"],function(t,e,n){"use strict";var i=t("./config"),r=2e3,o=function(t){this.states=t,this.regExps={},this.matchMappings={};for(var e in this.states){for(var n=this.states[e],i=[],r=0,o=this.matchMappings[e]={defaultToken:"text"},s="g",a=[],l=0;l<n.length;l++){var u=n[l];if(u.defaultToken&&(o.defaultToken=u.defaultToken),u.caseInsensitive&&(s="gi"),null!=u.regex){u.regex instanceof RegExp&&(u.regex=u.regex.toString().slice(1,-1));var c=u.regex,h=new RegExp("(?:("+c+")|(.))").exec("a").length-2;Array.isArray(u.token)?1==u.token.length||1==h?u.token=u.token[0]:h-1!=u.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:u,groupCount:h-1}),u.token=u.token[0]):(u.tokenArray=u.token,u.token=null,u.onMatch=this.$arrayTokens):"function"!=typeof u.token||u.onMatch||(h>1?u.onMatch=this.$applyToken:u.onMatch=u.token),h>1&&(/\\\d/.test(u.regex)?c=u.regex.replace(/\\([0-9]+)/g,function(t,e){return"\\"+(parseInt(e,10)+r+1)}):(h=1,c=this.removeCapturingGroups(u.regex)),u.splitRegex||"string"==typeof u.token||a.push(u)),o[r]=l,r+=h,i.push(c),u.onMatch||(u.onMatch=null)}}i.length||(o[0]=0,i.push("$")),a.forEach(function(t){t.splitRegex=this.createSplitterRegexp(t.regex,s)},this),this.regExps[e]=new RegExp("("+i.join(")|(")+")|($)",s)}};(function(){this.$setMaxTokenCount=function(t){r=0|t},this.$applyToken=function(t){var e=this.splitRegex.exec(t).slice(1),n=this.token.apply(this,e);if("string"==typeof n)return[{type:n,value:t}];for(var i=[],r=0,o=n.length;o>r;r++)e[r]&&(i[i.length]={type:n[r],value:e[r]});return i},this.$arrayTokens=function(t){if(!t)return[];var e=this.splitRegex.exec(t);if(!e)return"text";for(var n=[],i=this.tokenArray,r=0,o=i.length;o>r;r++)e[r+1]&&(n[n.length]={type:i[r],value:e[r+1]});return n},this.removeCapturingGroups=function(t){var e=t.replace(/\[(?:\\.|[^\]])*?\]|\\.|\(\?[:=!]|(\()/g,function(t,e){return e?"(?:":t});return e},this.createSplitterRegexp=function(t,e){if(-1!=t.indexOf("(?=")){var n=0,i=!1,r={};t.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(t,e,o,s,a,l){return i?i="]"!=a:a?i=!0:s?(n==r.stack&&(r.end=l+1,r.stack=-1),n--):o&&(n++,1!=o.length&&(r.stack=n,r.start=l)),t}),null!=r.end&&/^\)*$/.test(t.substr(r.end))&&(t=t.substring(0,r.start)+t.substr(r.end))}return"^"!=t.charAt(0)&&(t="^"+t),"$"!=t.charAt(t.length-1)&&(t+="$"),new RegExp(t,(e||"").replace("g",""))},this.getLineTokens=function(t,e){if(e&&"string"!=typeof e){var n=e.slice(0);e=n[0],"#tmp"===e&&(n.shift(),e=n.shift())}else var n=[];var i=e||"start",o=this.states[i];o||(i="start",o=this.states[i]);var s=this.matchMappings[i],a=this.regExps[i];a.lastIndex=0;for(var l,u=[],c=0,h=0,d={type:null,value:""};l=a.exec(t);){var f=s.defaultToken,p=null,g=l[0],m=a.lastIndex;if(m-g.length>c){var v=t.substring(c,m-g.length);d.type==f?d.value+=v:(d.type&&u.push(d),d={type:f,value:v})}for(var y=0;y<l.length-2;y++)if(void 0!==l[y+1]){p=o[s[y]],f=p.onMatch?p.onMatch(g,i,n):p.token,p.next&&(i="string"==typeof p.next?p.next:p.next(i,n),o=this.states[i],o||(this.reportError("state doesn't exist",i),i="start",o=this.states[i]),s=this.matchMappings[i],c=m,a=this.regExps[i],a.lastIndex=m);break}if(g)if("string"==typeof f)p&&p.merge===!1||d.type!==f?(d.type&&u.push(d),d={type:f,value:g}):d.value+=g;else if(f){d.type&&u.push(d),d={type:null,value:""};for(var y=0;y<f.length;y++)u.push(f[y])}if(c==t.length)break;if(c=m,h++>r){for(h>2*t.length&&this.reportError("infinite loop with in ace tokenizer",{startState:e,line:t});c<t.length;)d.type&&u.push(d),d={value:t.substring(c,c+=2e3),type:"overflow"};i="start",n=[];break}}return d.type&&u.push(d),n.length>1&&n[0]!==i&&n.unshift("#tmp",i),{tokens:u,state:n.length?n:i}},this.reportError=i.reportError}).call(o.prototype),e.Tokenizer=o}),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],function(t,e,n){"use strict";var i=t("../lib/lang"),r=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};(function(){this.addRules=function(t,e){if(e)for(var n in t){for(var i=t[n],r=0;r<i.length;r++){var o=i[r];(o.next||o.onMatch)&&("string"==typeof o.next&&0!==o.next.indexOf(e)&&(o.next=e+o.next),o.nextState&&0!==o.nextState.indexOf(e)&&(o.nextState=e+o.nextState))}this.$rules[e+n]=i}else for(var n in t)this.$rules[n]=t[n]},this.getRules=function(){return this.$rules},this.embedRules=function(t,e,n,r,o){var s="function"==typeof t?(new t).getRules():t;if(r)for(var a=0;a<r.length;a++)r[a]=e+r[a];else{r=[];for(var l in s)r.push(e+l)}if(this.addRules(s,e),n)for(var u=Array.prototype[o?"push":"unshift"],a=0;a<r.length;a++)u.apply(this.$rules[r[a]],i.deepCopy(n));this.$embeds||(this.$embeds=[]),this.$embeds.push(e)},this.getEmbeds=function(){return this.$embeds};var t=function(t,e){return("start"!=t||e.length)&&e.unshift(this.nextState,t),this.nextState},e=function(t,e){return e.shift(),e.shift()||"start"};this.normalizeRules=function(){function n(o){var s=r[o];s.processed=!0;for(var a=0;a<s.length;a++){var l=s[a];!l.regex&&l.start&&(l.regex=l.start,l.next||(l.next=[]),l.next.push({defaultToken:l.token},{token:l.token+".end",regex:l.end||l.start,next:"pop"}),l.token=l.token+".start",l.push=!0);var u=l.next||l.push;if(u&&Array.isArray(u)){var c=l.stateName;c||(c=l.token,"string"!=typeof c&&(c=c[0]||""),r[c]&&(c+=i++)),r[c]=u,l.next=c,n(c)}else"pop"==u&&(l.next=e);if(l.push&&(l.nextState=l.next||l.push,l.next=t,delete l.push),l.rules)for(var h in l.rules)r[h]?r[h].push&&r[h].push.apply(r[h],l.rules[h]):r[h]=l.rules[h];if(l.include||"string"==typeof l)var d=l.include||l,f=r[d];else Array.isArray(l)&&(f=l);if(f){var p=[a,1].concat(f);l.noEscape&&(p=p.filter(function(t){return!t.next})),s.splice.apply(s,p),a--,f=null}l.keywordMap&&(l.token=this.createKeywordMapper(l.keywordMap,l.defaultToken||"text",l.caseInsensitive),delete l.defaultToken)}}var i=0,r=this.$rules;Object.keys(r).forEach(n,this)},this.createKeywordMapper=function(t,e,n,i){var r=Object.create(null);return Object.keys(t).forEach(function(e){var o=t[e];n&&(o=o.toLowerCase());
for(var s=o.split(i||"|"),a=s.length;a--;)r[s[a]]=e}),Object.getPrototypeOf(r)&&(r.__proto__=null),this.$keywordList=Object.keys(r),t=null,n?function(t){return r[t.toLowerCase()]||e}:function(t){return r[t]||e}},this.getKeywords=function(){return this.$keywords}}).call(r.prototype),e.TextHighlightRules=r}),ace.define("ace/mode/behaviour",["require","exports","module"],function(t,e,n){"use strict";var i=function(){this.$behaviours={}};(function(){this.add=function(t,e,n){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[t]:this.$behaviours[t]={}}this.$behaviours[t][e]=n},this.addBehaviours=function(t){for(var e in t)for(var n in t[e])this.add(e,n,t[e][n])},this.remove=function(t){this.$behaviours&&this.$behaviours[t]&&delete this.$behaviours[t]},this.inherit=function(t,e){if("function"==typeof t)var n=(new t).getBehaviours(e);else var n=t.getBehaviours(e);this.addBehaviours(n)},this.getBehaviours=function(t){if(t){for(var e={},n=0;n<t.length;n++)this.$behaviours[t[n]]&&(e[t[n]]=this.$behaviours[t[n]]);return e}return this.$behaviours}}).call(i.prototype),e.Behaviour=i}),ace.define("ace/unicode",["require","exports","module"],function(t,e,n){"use strict";function i(t){var n=/\w{4}/g;for(var i in t)e.packages[i]=t[i].replace(n,"\\u$&")}e.packages={},i({L:"0041-005A0061-007A00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D03860388-038A038C038E-03A103A3-03F503F7-0481048A-05250531-055605590561-058705D0-05EA05F0-05F20621-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280904-0939093D09500958-0961097109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510D0-10FA10FC1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209421022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2D00-2D252D30-2D652D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A65FA662-A66EA67F-A697A6A0-A6E5A717-A71FA722-A788A78BA78CA7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",Ll:"0061-007A00AA00B500BA00DF-00F600F8-00FF01010103010501070109010B010D010F01110113011501170119011B011D011F01210123012501270129012B012D012F01310133013501370138013A013C013E014001420144014601480149014B014D014F01510153015501570159015B015D015F01610163016501670169016B016D016F0171017301750177017A017C017E-0180018301850188018C018D019201950199-019B019E01A101A301A501A801AA01AB01AD01B001B401B601B901BA01BD-01BF01C601C901CC01CE01D001D201D401D601D801DA01DC01DD01DF01E101E301E501E701E901EB01ED01EF01F001F301F501F901FB01FD01FF02010203020502070209020B020D020F02110213021502170219021B021D021F02210223022502270229022B022D022F02310233-0239023C023F0240024202470249024B024D024F-02930295-02AF037103730377037B-037D039003AC-03CE03D003D103D5-03D703D903DB03DD03DF03E103E303E503E703E903EB03ED03EF-03F303F503F803FB03FC0430-045F04610463046504670469046B046D046F04710473047504770479047B047D047F0481048B048D048F04910493049504970499049B049D049F04A104A304A504A704A904AB04AD04AF04B104B304B504B704B904BB04BD04BF04C204C404C604C804CA04CC04CE04CF04D104D304D504D704D904DB04DD04DF04E104E304E504E704E904EB04ED04EF04F104F304F504F704F904FB04FD04FF05010503050505070509050B050D050F05110513051505170519051B051D051F0521052305250561-05871D00-1D2B1D62-1D771D79-1D9A1E011E031E051E071E091E0B1E0D1E0F1E111E131E151E171E191E1B1E1D1E1F1E211E231E251E271E291E2B1E2D1E2F1E311E331E351E371E391E3B1E3D1E3F1E411E431E451E471E491E4B1E4D1E4F1E511E531E551E571E591E5B1E5D1E5F1E611E631E651E671E691E6B1E6D1E6F1E711E731E751E771E791E7B1E7D1E7F1E811E831E851E871E891E8B1E8D1E8F1E911E931E95-1E9D1E9F1EA11EA31EA51EA71EA91EAB1EAD1EAF1EB11EB31EB51EB71EB91EBB1EBD1EBF1EC11EC31EC51EC71EC91ECB1ECD1ECF1ED11ED31ED51ED71ED91EDB1EDD1EDF1EE11EE31EE51EE71EE91EEB1EED1EEF1EF11EF31EF51EF71EF91EFB1EFD1EFF-1F071F10-1F151F20-1F271F30-1F371F40-1F451F50-1F571F60-1F671F70-1F7D1F80-1F871F90-1F971FA0-1FA71FB0-1FB41FB61FB71FBE1FC2-1FC41FC61FC71FD0-1FD31FD61FD71FE0-1FE71FF2-1FF41FF61FF7210A210E210F2113212F21342139213C213D2146-2149214E21842C30-2C5E2C612C652C662C682C6A2C6C2C712C732C742C76-2C7C2C812C832C852C872C892C8B2C8D2C8F2C912C932C952C972C992C9B2C9D2C9F2CA12CA32CA52CA72CA92CAB2CAD2CAF2CB12CB32CB52CB72CB92CBB2CBD2CBF2CC12CC32CC52CC72CC92CCB2CCD2CCF2CD12CD32CD52CD72CD92CDB2CDD2CDF2CE12CE32CE42CEC2CEE2D00-2D25A641A643A645A647A649A64BA64DA64FA651A653A655A657A659A65BA65DA65FA663A665A667A669A66BA66DA681A683A685A687A689A68BA68DA68FA691A693A695A697A723A725A727A729A72BA72DA72F-A731A733A735A737A739A73BA73DA73FA741A743A745A747A749A74BA74DA74FA751A753A755A757A759A75BA75DA75FA761A763A765A767A769A76BA76DA76FA771-A778A77AA77CA77FA781A783A785A787A78CFB00-FB06FB13-FB17FF41-FF5A",Lu:"0041-005A00C0-00D600D8-00DE01000102010401060108010A010C010E01100112011401160118011A011C011E01200122012401260128012A012C012E01300132013401360139013B013D013F0141014301450147014A014C014E01500152015401560158015A015C015E01600162016401660168016A016C016E017001720174017601780179017B017D018101820184018601870189-018B018E-0191019301940196-0198019C019D019F01A001A201A401A601A701A901AC01AE01AF01B1-01B301B501B701B801BC01C401C701CA01CD01CF01D101D301D501D701D901DB01DE01E001E201E401E601E801EA01EC01EE01F101F401F6-01F801FA01FC01FE02000202020402060208020A020C020E02100212021402160218021A021C021E02200222022402260228022A022C022E02300232023A023B023D023E02410243-02460248024A024C024E03700372037603860388-038A038C038E038F0391-03A103A3-03AB03CF03D2-03D403D803DA03DC03DE03E003E203E403E603E803EA03EC03EE03F403F703F903FA03FD-042F04600462046404660468046A046C046E04700472047404760478047A047C047E0480048A048C048E04900492049404960498049A049C049E04A004A204A404A604A804AA04AC04AE04B004B204B404B604B804BA04BC04BE04C004C104C304C504C704C904CB04CD04D004D204D404D604D804DA04DC04DE04E004E204E404E604E804EA04EC04EE04F004F204F404F604F804FA04FC04FE05000502050405060508050A050C050E05100512051405160518051A051C051E0520052205240531-055610A0-10C51E001E021E041E061E081E0A1E0C1E0E1E101E121E141E161E181E1A1E1C1E1E1E201E221E241E261E281E2A1E2C1E2E1E301E321E341E361E381E3A1E3C1E3E1E401E421E441E461E481E4A1E4C1E4E1E501E521E541E561E581E5A1E5C1E5E1E601E621E641E661E681E6A1E6C1E6E1E701E721E741E761E781E7A1E7C1E7E1E801E821E841E861E881E8A1E8C1E8E1E901E921E941E9E1EA01EA21EA41EA61EA81EAA1EAC1EAE1EB01EB21EB41EB61EB81EBA1EBC1EBE1EC01EC21EC41EC61EC81ECA1ECC1ECE1ED01ED21ED41ED61ED81EDA1EDC1EDE1EE01EE21EE41EE61EE81EEA1EEC1EEE1EF01EF21EF41EF61EF81EFA1EFC1EFE1F08-1F0F1F18-1F1D1F28-1F2F1F38-1F3F1F48-1F4D1F591F5B1F5D1F5F1F68-1F6F1FB8-1FBB1FC8-1FCB1FD8-1FDB1FE8-1FEC1FF8-1FFB21022107210B-210D2110-211221152119-211D212421262128212A-212D2130-2133213E213F214521832C00-2C2E2C602C62-2C642C672C692C6B2C6D-2C702C722C752C7E-2C802C822C842C862C882C8A2C8C2C8E2C902C922C942C962C982C9A2C9C2C9E2CA02CA22CA42CA62CA82CAA2CAC2CAE2CB02CB22CB42CB62CB82CBA2CBC2CBE2CC02CC22CC42CC62CC82CCA2CCC2CCE2CD02CD22CD42CD62CD82CDA2CDC2CDE2CE02CE22CEB2CEDA640A642A644A646A648A64AA64CA64EA650A652A654A656A658A65AA65CA65EA662A664A666A668A66AA66CA680A682A684A686A688A68AA68CA68EA690A692A694A696A722A724A726A728A72AA72CA72EA732A734A736A738A73AA73CA73EA740A742A744A746A748A74AA74CA74EA750A752A754A756A758A75AA75CA75EA760A762A764A766A768A76AA76CA76EA779A77BA77DA77EA780A782A784A786A78BFF21-FF3A",Lt:"01C501C801CB01F21F88-1F8F1F98-1F9F1FA8-1FAF1FBC1FCC1FFC",Lm:"02B0-02C102C6-02D102E0-02E402EC02EE0374037A0559064006E506E607F407F507FA081A0824082809710E460EC610FC17D718431AA71C78-1C7D1D2C-1D611D781D9B-1DBF2071207F2090-20942C7D2D6F2E2F30053031-3035303B309D309E30FC-30FEA015A4F8-A4FDA60CA67FA717-A71FA770A788A9CFAA70AADDFF70FF9EFF9F",Lo:"01BB01C0-01C3029405D0-05EA05F0-05F20621-063F0641-064A066E066F0671-06D306D506EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA0800-08150904-0939093D09500958-096109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E450E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10D0-10FA1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317DC1820-18421844-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C771CE9-1CEC1CEE-1CF12135-21382D30-2D652D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE3006303C3041-3096309F30A1-30FA30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A014A016-A48CA4D0-A4F7A500-A60BA610-A61FA62AA62BA66EA6A0-A6E5A7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2AA00-AA28AA40-AA42AA44-AA4BAA60-AA6FAA71-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADBAADCABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF66-FF6FFF71-FF9DFFA0-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",M:"0300-036F0483-04890591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DE-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0903093C093E-094E0951-0955096209630981-098309BC09BE-09C409C709C809CB-09CD09D709E209E30A01-0A030A3C0A3E-0A420A470A480A4B-0A4D0A510A700A710A750A81-0A830ABC0ABE-0AC50AC7-0AC90ACB-0ACD0AE20AE30B01-0B030B3C0B3E-0B440B470B480B4B-0B4D0B560B570B620B630B820BBE-0BC20BC6-0BC80BCA-0BCD0BD70C01-0C030C3E-0C440C46-0C480C4A-0C4D0C550C560C620C630C820C830CBC0CBE-0CC40CC6-0CC80CCA-0CCD0CD50CD60CE20CE30D020D030D3E-0D440D46-0D480D4A-0D4D0D570D620D630D820D830DCA0DCF-0DD40DD60DD8-0DDF0DF20DF30E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F3E0F3F0F71-0F840F860F870F90-0F970F99-0FBC0FC6102B-103E1056-1059105E-10601062-10641067-106D1071-10741082-108D108F109A-109D135F1712-17141732-1734175217531772177317B6-17D317DD180B-180D18A91920-192B1930-193B19B0-19C019C819C91A17-1A1B1A55-1A5E1A60-1A7C1A7F1B00-1B041B34-1B441B6B-1B731B80-1B821BA1-1BAA1C24-1C371CD0-1CD21CD4-1CE81CED1CF21DC0-1DE61DFD-1DFF20D0-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66F-A672A67CA67DA6F0A6F1A802A806A80BA823-A827A880A881A8B4-A8C4A8E0-A8F1A926-A92DA947-A953A980-A983A9B3-A9C0AA29-AA36AA43AA4CAA4DAA7BAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE3-ABEAABECABEDFB1EFE00-FE0FFE20-FE26",Mn:"0300-036F0483-04870591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DF-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0902093C0941-0948094D0951-095509620963098109BC09C1-09C409CD09E209E30A010A020A3C0A410A420A470A480A4B-0A4D0A510A700A710A750A810A820ABC0AC1-0AC50AC70AC80ACD0AE20AE30B010B3C0B3F0B41-0B440B4D0B560B620B630B820BC00BCD0C3E-0C400C46-0C480C4A-0C4D0C550C560C620C630CBC0CBF0CC60CCC0CCD0CE20CE30D41-0D440D4D0D620D630DCA0DD2-0DD40DD60E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F71-0F7E0F80-0F840F860F870F90-0F970F99-0FBC0FC6102D-10301032-10371039103A103D103E10581059105E-10601071-1074108210851086108D109D135F1712-17141732-1734175217531772177317B7-17BD17C617C9-17D317DD180B-180D18A91920-19221927192819321939-193B1A171A181A561A58-1A5E1A601A621A65-1A6C1A73-1A7C1A7F1B00-1B031B341B36-1B3A1B3C1B421B6B-1B731B801B811BA2-1BA51BA81BA91C2C-1C331C361C371CD0-1CD21CD4-1CE01CE2-1CE81CED1DC0-1DE61DFD-1DFF20D0-20DC20E120E5-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66FA67CA67DA6F0A6F1A802A806A80BA825A826A8C4A8E0-A8F1A926-A92DA947-A951A980-A982A9B3A9B6-A9B9A9BCAA29-AA2EAA31AA32AA35AA36AA43AA4CAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE5ABE8ABEDFB1EFE00-FE0FFE20-FE26",Mc:"0903093E-09400949-094C094E0982098309BE-09C009C709C809CB09CC09D70A030A3E-0A400A830ABE-0AC00AC90ACB0ACC0B020B030B3E0B400B470B480B4B0B4C0B570BBE0BBF0BC10BC20BC6-0BC80BCA-0BCC0BD70C01-0C030C41-0C440C820C830CBE0CC0-0CC40CC70CC80CCA0CCB0CD50CD60D020D030D3E-0D400D46-0D480D4A-0D4C0D570D820D830DCF-0DD10DD8-0DDF0DF20DF30F3E0F3F0F7F102B102C10311038103B103C105610571062-10641067-106D108310841087-108C108F109A-109C17B617BE-17C517C717C81923-19261929-192B193019311933-193819B0-19C019C819C91A19-1A1B1A551A571A611A631A641A6D-1A721B041B351B3B1B3D-1B411B431B441B821BA11BA61BA71BAA1C24-1C2B1C341C351CE11CF2A823A824A827A880A881A8B4-A8C3A952A953A983A9B4A9B5A9BAA9BBA9BD-A9C0AA2FAA30AA33AA34AA4DAA7BABE3ABE4ABE6ABE7ABE9ABEAABEC",Me:"0488048906DE20DD-20E020E2-20E4A670-A672",N:"0030-003900B200B300B900BC-00BE0660-066906F0-06F907C0-07C90966-096F09E6-09EF09F4-09F90A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BF20C66-0C6F0C78-0C7E0CE6-0CEF0D66-0D750E50-0E590ED0-0ED90F20-0F331040-10491090-10991369-137C16EE-16F017E0-17E917F0-17F91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C5920702074-20792080-20892150-21822185-21892460-249B24EA-24FF2776-27932CFD30073021-30293038-303A3192-31953220-32293251-325F3280-328932B1-32BFA620-A629A6E6-A6EFA830-A835A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nd:"0030-00390660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nl:"16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF",No:"00B200B300B900BC-00BE09F4-09F90BF0-0BF20C78-0C7E0D70-0D750F2A-0F331369-137C17F0-17F920702074-20792080-20892150-215F21892460-249B24EA-24FF2776-27932CFD3192-31953220-32293251-325F3280-328932B1-32BFA830-A835",P:"0021-00230025-002A002C-002F003A003B003F0040005B-005D005F007B007D00A100AB00B700BB00BF037E0387055A-055F0589058A05BE05C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F3A-0F3D0F850FD0-0FD4104A-104F10FB1361-13681400166D166E169B169C16EB-16ED1735173617D4-17D617D8-17DA1800-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD32010-20272030-20432045-20512053-205E207D207E208D208E2329232A2768-277527C527C627E6-27EF2983-299829D8-29DB29FC29FD2CF9-2CFC2CFE2CFF2E00-2E2E2E302E313001-30033008-30113014-301F3030303D30A030FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFD3EFD3FFE10-FE19FE30-FE52FE54-FE61FE63FE68FE6AFE6BFF01-FF03FF05-FF0AFF0C-FF0FFF1AFF1BFF1FFF20FF3B-FF3DFF3FFF5BFF5DFF5F-FF65",Pd:"002D058A05BE140018062010-20152E172E1A301C303030A0FE31FE32FE58FE63FF0D",Ps:"0028005B007B0F3A0F3C169B201A201E2045207D208D23292768276A276C276E27702772277427C527E627E827EA27EC27EE2983298529872989298B298D298F299129932995299729D829DA29FC2E222E242E262E283008300A300C300E3010301430163018301A301DFD3EFE17FE35FE37FE39FE3BFE3DFE3FFE41FE43FE47FE59FE5BFE5DFF08FF3BFF5BFF5FFF62",Pe:"0029005D007D0F3B0F3D169C2046207E208E232A2769276B276D276F27712773277527C627E727E927EB27ED27EF298429862988298A298C298E2990299229942996299829D929DB29FD2E232E252E272E293009300B300D300F3011301530173019301B301E301FFD3FFE18FE36FE38FE3AFE3CFE3EFE40FE42FE44FE48FE5AFE5CFE5EFF09FF3DFF5DFF60FF63",Pi:"00AB2018201B201C201F20392E022E042E092E0C2E1C2E20",Pf:"00BB2019201D203A2E032E052E0A2E0D2E1D2E21",Pc:"005F203F20402054FE33FE34FE4D-FE4FFF3F",Po:"0021-00230025-0027002A002C002E002F003A003B003F0040005C00A100B700BF037E0387055A-055F058905C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F850FD0-0FD4104A-104F10FB1361-1368166D166E16EB-16ED1735173617D4-17D617D8-17DA1800-18051807-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD3201620172020-20272030-2038203B-203E2041-20432047-205120532055-205E2CF9-2CFC2CFE2CFF2E002E012E06-2E082E0B2E0E-2E162E182E192E1B2E1E2E1F2E2A-2E2E2E302E313001-3003303D30FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFE10-FE16FE19FE30FE45FE46FE49-FE4CFE50-FE52FE54-FE57FE5F-FE61FE68FE6AFE6BFF01-FF03FF05-FF07FF0AFF0CFF0EFF0FFF1AFF1BFF1FFF20FF3CFF61FF64FF65",S:"0024002B003C-003E005E0060007C007E00A2-00A900AC00AE-00B100B400B600B800D700F702C2-02C502D2-02DF02E5-02EB02ED02EF-02FF03750384038503F604820606-0608060B060E060F06E906FD06FE07F609F209F309FA09FB0AF10B700BF3-0BFA0C7F0CF10CF20D790E3F0F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-139917DB194019E0-19FF1B61-1B6A1B74-1B7C1FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE20442052207A-207C208A-208C20A0-20B8210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B2140-2144214A-214D214F2190-2328232B-23E82400-24262440-244A249C-24E92500-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE27C0-27C427C7-27CA27CC27D0-27E527F0-29822999-29D729DC-29FB29FE-2B4C2B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F309B309C319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A700-A716A720A721A789A78AA828-A82BA836-A839AA77-AA79FB29FDFCFDFDFE62FE64-FE66FE69FF04FF0BFF1C-FF1EFF3EFF40FF5CFF5EFFE0-FFE6FFE8-FFEEFFFCFFFD",Sm:"002B003C-003E007C007E00AC00B100D700F703F60606-060820442052207A-207C208A-208C2140-2144214B2190-2194219A219B21A021A321A621AE21CE21CF21D221D421F4-22FF2308-230B23202321237C239B-23B323DC-23E125B725C125F8-25FF266F27C0-27C427C7-27CA27CC27D0-27E527F0-27FF2900-29822999-29D729DC-29FB29FE-2AFF2B30-2B442B47-2B4CFB29FE62FE64-FE66FF0BFF1C-FF1EFF5CFF5EFFE2FFE9-FFEC",Sc:"002400A2-00A5060B09F209F309FB0AF10BF90E3F17DB20A0-20B8A838FDFCFE69FF04FFE0FFE1FFE5FFE6",Sk:"005E006000A800AF00B400B802C2-02C502D2-02DF02E5-02EB02ED02EF-02FF0375038403851FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE309B309CA700-A716A720A721A789A78AFF3EFF40FFE3",So:"00A600A700A900AE00B000B60482060E060F06E906FD06FE07F609FA0B700BF3-0BF80BFA0C7F0CF10CF20D790F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-1399194019E0-19FF1B61-1B6A1B74-1B7C210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B214A214C214D214F2195-2199219C-219F21A121A221A421A521A7-21AD21AF-21CD21D021D121D321D5-21F32300-2307230C-231F2322-2328232B-237B237D-239A23B4-23DB23E2-23E82400-24262440-244A249C-24E92500-25B625B8-25C025C2-25F72600-266E2670-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE2800-28FF2B00-2B2F2B452B462B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A828-A82BA836A837A839AA77-AA79FDFDFFE4FFE8FFEDFFEEFFFCFFFD",Z:"002000A01680180E2000-200A20282029202F205F3000",Zs:"002000A01680180E2000-200A202F205F3000",Zl:"2028",Zp:"2029",C:"0000-001F007F-009F00AD03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-0605061C061D0620065F06DD070E070F074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17B417B517DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF200B-200F202A-202E2060-206F20722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-F8FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFD-FF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFFBFFFEFFFF",Cc:"0000-001F007F-009F",Cf:"00AD0600-060306DD070F17B417B5200B-200F202A-202E2060-2064206A-206FFEFFFFF9-FFFB",Co:"E000-F8FF",Cs:"D800-DFFF",Cn:"03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-05FF06040605061C061D0620065F070E074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF2065-206920722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-D7FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFDFEFEFF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFF8FFFEFFFF"})}),ace.define("ace/token_iterator",["require","exports","module"],function(t,e,n){"use strict";var i=function(t,e,n){this.$session=t,this.$row=e,this.$rowTokens=t.getTokens(e);var i=t.getTokenAt(e,n);this.$tokenIndex=i?i.index:-1};(function(){this.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},this.stepForward=function(){this.$tokenIndex+=1;for(var t;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,t||(t=this.$session.getLength()),this.$row>=t)return this.$row=t-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},this.getCurrentTokenRow=function(){return this.$row},this.getCurrentTokenColumn=function(){var t=this.$rowTokens,e=this.$tokenIndex,n=t[e].start;if(void 0!==n)return n;for(n=0;e>0;)e-=1,n+=t[e].value.length;return n},this.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}}}).call(i.prototype),e.TokenIterator=i}),ace.define("ace/mode/text",["require","exports","module","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(t,e,n){"use strict";var i=t("../tokenizer").Tokenizer,r=t("./text_highlight_rules").TextHighlightRules,o=t("./behaviour").Behaviour,s=t("../unicode"),a=t("../lib/lang"),l=t("../token_iterator").TokenIterator,u=t("../range").Range,c=function(){this.HighlightRules=r,this.$behaviour=new o};(function(){this.tokenRe=new RegExp("^["+s.packages.L+s.packages.Mn+s.packages.Mc+s.packages.Nd+s.packages.Pc+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+s.packages.L+s.packages.Mn+s.packages.Mc+s.packages.Nd+s.packages.Pc+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules,this.$tokenizer=new i(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(t,e,n,i){function r(t){for(var e=n;i>=e;e++)t(o.getLine(e),e)}var o=e.doc,s=!0,l=!0,u=1/0,c=e.getTabSize(),h=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))var d=this.lineCommentStart.map(a.escapeRegExp).join("|"),f=this.lineCommentStart[0];else var d=a.escapeRegExp(this.lineCommentStart),f=this.lineCommentStart;d=new RegExp("^(\\s*)(?:"+d+") ?"),h=e.getUseSoftTabs();var p=function(t,e){var n=t.match(d);if(n){var i=n[1].length,r=n[0].length;y(t,i,r)||" "!=n[0][r-1]||r--,o.removeInLine(e,i,r)}},g=f+" ",m=function(t,e){s&&!/\S/.test(t)||(y(t,u,u)?o.insertInLine({row:e,column:u},g):o.insertInLine({row:e,column:u},f))},v=function(t,e){return d.test(t)},y=function(t,e,n){for(var i=0;e--&&" "==t.charAt(e);)i++;if(i%c!=0)return!1;for(var i=0;" "==t.charAt(n++);)i++;return c>2?i%c!=c-1:i%c==0}}else{if(!this.blockComment)return!1;var f=this.blockComment.start,w=this.blockComment.end,d=new RegExp("^(\\s*)(?:"+a.escapeRegExp(f)+")"),b=new RegExp("(?:"+a.escapeRegExp(w)+")\\s*$"),m=function(t,e){v(t,e)||s&&!/\S/.test(t)||(o.insertInLine({row:e,column:t.length},w),o.insertInLine({row:e,column:u},f))},p=function(t,e){var n;(n=t.match(b))&&o.removeInLine(e,t.length-n[0].length,t.length),(n=t.match(d))&&o.removeInLine(e,n[1].length,n[0].length)},v=function(t,n){if(d.test(t))return!0;for(var i=e.getTokens(n),r=0;r<i.length;r++)if("comment"===i[r].type)return!0}}var A=1/0;r(function(t,e){var n=t.search(/\S/);-1!==n?(u>n&&(u=n),l&&!v(t,e)&&(l=!1)):A>t.length&&(A=t.length)}),u==1/0&&(u=A,s=!1,l=!1),h&&u%c!=0&&(u=Math.floor(u/c)*c),r(l?p:m)},this.toggleBlockComment=function(t,e,n,i){var r=this.blockComment;if(r){!r.start&&r[0]&&(r=r[0]);var o,s,a=new l(e,i.row,i.column),c=a.getCurrentToken(),h=(e.selection,e.selection.toOrientedRange());if(c&&/comment/.test(c.type)){for(var d,f;c&&/comment/.test(c.type);){var p=c.value.indexOf(r.start);if(-1!=p){var g=a.getCurrentTokenRow(),m=a.getCurrentTokenColumn()+p;d=new u(g,m,g,m+r.start.length);break}c=a.stepBackward()}for(var a=new l(e,i.row,i.column),c=a.getCurrentToken();c&&/comment/.test(c.type);){var p=c.value.indexOf(r.end);if(-1!=p){var g=a.getCurrentTokenRow(),m=a.getCurrentTokenColumn()+p;f=new u(g,m,g,m+r.end.length);break}c=a.stepForward()}f&&e.remove(f),d&&(e.remove(d),o=d.start.row,s=-r.start.length)}else s=r.start.length,o=n.start.row,e.insert(n.end,r.end),e.insert(n.start,r.start);h.start.row==o&&(h.start.column+=s),h.end.row==o&&(h.end.column+=s),e.selection.fromOrientedRange(h)}},this.getNextLineIndent=function(t,e,n){return this.$getIndent(e)},this.checkOutdent=function(t,e,n){return!1},this.autoOutdent=function(t,e,n){},this.$getIndent=function(t){return t.match(/^\s*/)[0]},this.createWorker=function(t){return null},this.createModeDelegates=function(t){this.$embeds=[],this.$modes={};for(var e in t)t[e]&&(this.$embeds.push(e),this.$modes[e]=new t[e]);for(var n=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"],e=0;e<n.length;e++)!function(t){
var i=n[e],r=t[i];t[n[e]]=function(){return this.$delegator(i,arguments,r)}}(this)},this.$delegator=function(t,e,n){var i=e[0];"string"!=typeof i&&(i=i[0]);for(var r=0;r<this.$embeds.length;r++)if(this.$modes[this.$embeds[r]]){var o=i.split(this.$embeds[r]);if(!o[0]&&o[1]){e[0]=o[1];var s=this.$modes[this.$embeds[r]];return s[t].apply(s,e)}}var a=n.apply(this,e);return n?a:void 0},this.transformAction=function(t,e,n,i,r){if(this.$behaviour){var o=this.$behaviour.getBehaviours();for(var s in o)if(o[s][e]){var a=o[s][e].apply(this,arguments);if(a)return a}}},this.getKeywords=function(t){if(!this.completionKeywords){var e=this.$tokenizer.rules,n=[];for(var i in e)for(var r=e[i],o=0,s=r.length;s>o;o++)if("string"==typeof r[o].token)/keyword|support|storage/.test(r[o].token)&&n.push(r[o].regex);else if("object"==typeof r[o].token)for(var a=0,l=r[o].token.length;l>a;a++)if(/keyword|support|storage/.test(r[o].token[a])){var i=r[o].regex.match(/\(.+?\)/g)[a];n.push(i.substr(1,i.length-2))}this.completionKeywords=n}return t?n.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(t,e,n,i){var r=this.$keywordList||this.$createKeywordList();return r.map(function(t){return{name:t,value:t,score:0,meta:"keyword"}})},this.$id="ace/mode/text"}).call(c.prototype),e.Mode=c}),ace.define("ace/apply_delta",["require","exports","module"],function(t,e,n){"use strict";e.applyDelta=function(t,e,n){var i=e.start.row,r=e.start.column,o=t[i]||"";switch(e.action){case"insert":var s=e.lines;if(1===s.length)t[i]=o.substring(0,r)+e.lines[0]+o.substring(r);else{var a=[i,1].concat(e.lines);t.splice.apply(t,a),t[i]=o.substring(0,r)+t[i],t[i+e.lines.length-1]+=o.substring(r)}break;case"remove":var l=e.end.column,u=e.end.row;i===u?t[i]=o.substring(0,r)+o.substring(l):t.splice(i,u-i+1,o.substring(0,r)+t[u].substring(l))}}}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(t,e,n){"use strict";var i=t("./lib/oop"),r=t("./lib/event_emitter").EventEmitter,o=e.Anchor=function(t,e,n){this.$onChange=this.onChange.bind(this),this.attach(t),"undefined"==typeof n?this.setPosition(e.row,e.column):this.setPosition(e,n)};(function(){function t(t,e,n){var i=n?t.column<=e.column:t.column<e.column;return t.row<e.row||t.row==e.row&&i}function e(e,n,i){var r="insert"==e.action,o=(r?1:-1)*(e.end.row-e.start.row),s=(r?1:-1)*(e.end.column-e.start.column),a=e.start,l=r?a:e.end;return t(n,a,i)?{row:n.row,column:n.column}:t(l,n,!i)?{row:n.row+o,column:n.column+(n.row==l.row?s:0)}:{row:a.row,column:a.column}}i.implement(this,r),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(t){if(!(t.start.row==t.end.row&&t.start.row!=this.row||t.start.row>this.row)){var n=e(t,{row:this.row,column:this.column},this.$insertRight);this.setPosition(n.row,n.column,!0)}},this.setPosition=function(t,e,n){var i;if(i=n?{row:t,column:e}:this.$clipPositionToDocument(t,e),this.row!=i.row||this.column!=i.column){var r={row:this.row,column:this.column};this.row=i.row,this.column=i.column,this._signal("change",{old:r,value:i})}},this.detach=function(){this.document.removeEventListener("change",this.$onChange)},this.attach=function(t){this.document=t||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(t,e){var n={};return t>=this.document.getLength()?(n.row=Math.max(0,this.document.getLength()-1),n.column=this.document.getLine(n.row).length):0>t?(n.row=0,n.column=0):(n.row=t,n.column=Math.min(this.document.getLine(n.row).length,Math.max(0,e))),0>e&&(n.column=0),n}}).call(o.prototype)}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(t,e,n){"use strict";var i=t("./lib/oop"),r=t("./apply_delta").applyDelta,o=t("./lib/event_emitter").EventEmitter,s=t("./range").Range,a=t("./anchor").Anchor,l=function(t){this.$lines=[""],0===t.length?this.$lines=[""]:Array.isArray(t)?this.insertMergedLines({row:0,column:0},t):this.insert({row:0,column:0},t)};(function(){i.implement(this,o),this.setValue=function(t){var e=this.getLength()-1;this.remove(new s(0,0,e,this.getLine(e).length)),this.insert({row:0,column:0},t)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(t,e){return new a(this,t,e)},0==="aaa".split(/a/).length?this.$split=function(t){return t.replace(/\r\n|\r/g,"\n").split("\n")}:this.$split=function(t){return t.split(/\r\n|\r|\n/)},this.$detectNewLine=function(t){var e=t.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=e?e[1]:"\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";default:return this.$autoNewLine||"\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(t){this.$newLineMode!==t&&(this.$newLineMode=t,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(t){return"\r\n"==t||"\r"==t||"\n"==t},this.getLine=function(t){return this.$lines[t]||""},this.getLines=function(t,e){return this.$lines.slice(t,e+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(t){return this.getLinesForRange(t).join(this.getNewLineCharacter())},this.getLinesForRange=function(t){var e;if(t.start.row===t.end.row)e=[this.getLine(t.start.row).substring(t.start.column,t.end.column)];else{e=this.getLines(t.start.row,t.end.row),e[0]=(e[0]||"").substring(t.start.column);var n=e.length-1;t.end.row-t.start.row==n&&(e[n]=e[n].substring(0,t.end.column))}return e},this.insertLines=function(t,e){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(t,e)},this.removeLines=function(t,e){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(t,e)},this.insertNewLine=function(t){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(t,["",""])},this.insert=function(t,e){return this.getLength()<=1&&this.$detectNewLine(e),this.insertMergedLines(t,this.$split(e))},this.insertInLine=function(t,e){var n=this.clippedPos(t.row,t.column),i=this.pos(t.row,t.column+e.length);return this.applyDelta({start:n,end:i,action:"insert",lines:[e]},!0),this.clonePos(i)},this.clippedPos=function(t,e){var n=this.getLength();void 0===t?t=n:0>t?t=0:t>=n&&(t=n-1,e=void 0);var i=this.getLine(t);return void 0==e&&(e=i.length),e=Math.min(Math.max(e,0),i.length),{row:t,column:e}},this.clonePos=function(t){return{row:t.row,column:t.column}},this.pos=function(t,e){return{row:t,column:e}},this.$clipPosition=function(t){var e=this.getLength();return t.row>=e?(t.row=Math.max(0,e-1),t.column=this.getLine(e-1).length):(t.row=Math.max(0,t.row),t.column=Math.min(Math.max(t.column,0),this.getLine(t.row).length)),t},this.insertFullLines=function(t,e){t=Math.min(Math.max(t,0),this.getLength());var n=0;t<this.getLength()?(e=e.concat([""]),n=0):(e=[""].concat(e),t--,n=this.$lines[t].length),this.insertMergedLines({row:t,column:n},e)},this.insertMergedLines=function(t,e){var n=this.clippedPos(t.row,t.column),i={row:n.row+e.length-1,column:(1==e.length?n.column:0)+e[e.length-1].length};return this.applyDelta({start:n,end:i,action:"insert",lines:e}),this.clonePos(i)},this.remove=function(t){var e=this.clippedPos(t.start.row,t.start.column),n=this.clippedPos(t.end.row,t.end.column);return this.applyDelta({start:e,end:n,action:"remove",lines:this.getLinesForRange({start:e,end:n})}),this.clonePos(e)},this.removeInLine=function(t,e,n){var i=this.clippedPos(t,e),r=this.clippedPos(t,n);return this.applyDelta({start:i,end:r,action:"remove",lines:this.getLinesForRange({start:i,end:r})},!0),this.clonePos(i)},this.removeFullLines=function(t,e){t=Math.min(Math.max(0,t),this.getLength()-1),e=Math.min(Math.max(0,e),this.getLength()-1);var n=e==this.getLength()-1&&t>0,i=e<this.getLength()-1,r=n?t-1:t,o=n?this.getLine(r).length:0,a=i?e+1:e,l=i?0:this.getLine(a).length,u=new s(r,o,a,l),c=this.$lines.slice(t,e+1);return this.applyDelta({start:u.start,end:u.end,action:"remove",lines:this.getLinesForRange(u)}),c},this.removeNewLine=function(t){t<this.getLength()-1&&t>=0&&this.applyDelta({start:this.pos(t,this.getLine(t).length),end:this.pos(t+1,0),action:"remove",lines:["",""]})},this.replace=function(t,e){if(t instanceof s||(t=s.fromPoints(t.start,t.end)),0===e.length&&t.isEmpty())return t.start;if(e==this.getTextRange(t))return t.end;this.remove(t);var n;return n=e?this.insert(t.start,e):t.start},this.applyDeltas=function(t){for(var e=0;e<t.length;e++)this.applyDelta(t[e])},this.revertDeltas=function(t){for(var e=t.length-1;e>=0;e--)this.revertDelta(t[e])},this.applyDelta=function(t,e){var n="insert"==t.action;(n?t.lines.length<=1&&!t.lines[0]:!s.comparePoints(t.start,t.end))||(n&&t.lines.length>2e4&&this.$splitAndapplyLargeDelta(t,2e4),r(this.$lines,t,e),this._signal("change",t))},this.$splitAndapplyLargeDelta=function(t,e){for(var n=t.lines,i=n.length,r=t.start.row,o=t.start.column,s=0,a=0;;){s=a,a+=e-1;var l=n.slice(s,a);if(a>i){t.lines=l,t.start.row=r+s,t.start.column=o;break}l.push(""),this.applyDelta({start:this.pos(r+s,o),end:this.pos(r+a,o=0),action:t.action,lines:l},!0)}},this.revertDelta=function(t){this.applyDelta({start:this.clonePos(t.start),end:this.clonePos(t.end),action:"insert"==t.action?"remove":"insert",lines:t.lines.slice()})},this.indexToPosition=function(t,e){for(var n=this.$lines||this.getAllLines(),i=this.getNewLineCharacter().length,r=e||0,o=n.length;o>r;r++)if(t-=n[r].length+i,0>t)return{row:r,column:t+n[r].length+i};return{row:o-1,column:n[o-1].length}},this.positionToIndex=function(t,e){for(var n=this.$lines||this.getAllLines(),i=this.getNewLineCharacter().length,r=0,o=Math.min(t.row,n.length),s=e||0;o>s;++s)r+=n[s].length+i;return r+t.column}}).call(l.prototype),e.Document=l}),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(t,e,n){"use strict";var i=t("./lib/oop"),r=t("./lib/event_emitter").EventEmitter,o=function(t,e){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=t;var n=this;this.$worker=function(){if(n.running){for(var t=new Date,e=n.currentLine,i=-1,r=n.doc,o=e;n.lines[e];)e++;var s=r.getLength(),a=0;for(n.running=!1;s>e;){n.$tokenizeRow(e),i=e;do e++;while(n.lines[e]);if(a++,a%5===0&&new Date-t>20){n.running=setTimeout(n.$worker,20);break}}n.currentLine=e,i>=o&&n.fireUpdateEvent(o,i)}}};(function(){i.implement(this,r),this.setTokenizer=function(t){this.tokenizer=t,this.lines=[],this.states=[],this.start(0)},this.setDocument=function(t){this.doc=t,this.lines=[],this.states=[],this.stop()},this.fireUpdateEvent=function(t,e){var n={first:t,last:e};this._signal("update",{data:n})},this.start=function(t){this.currentLine=Math.min(t||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},this.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},this.$updateOnChange=function(t){var e=t.start.row,n=t.end.row-e;if(0===n)this.lines[e]=null;else if("remove"==t.action)this.lines.splice(e,n+1,null),this.states.splice(e,n+1,null);else{var i=Array(n+1);i.unshift(e,1),this.lines.splice.apply(this.lines,i),this.states.splice.apply(this.states,i)}this.currentLine=Math.min(e,this.currentLine,this.doc.getLength()),this.stop()},this.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},this.getTokens=function(t){return this.lines[t]||this.$tokenizeRow(t)},this.getState=function(t){return this.currentLine==t&&this.$tokenizeRow(t),this.states[t]||"start"},this.$tokenizeRow=function(t){var e=this.doc.getLine(t),n=this.states[t-1],i=this.tokenizer.getLineTokens(e,n,t);return this.states[t]+""!=i.state+""?(this.states[t]=i.state,this.lines[t+1]=null,this.currentLine>t+1&&(this.currentLine=t+1)):this.currentLine==t&&(this.currentLine=t+1),this.lines[t]=i.tokens}}).call(o.prototype),e.BackgroundTokenizer=o}),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(t,e,n){"use strict";var i=t("./lib/lang"),r=(t("./lib/oop"),t("./range").Range),o=function(t,e,n){this.setRegexp(t),this.clazz=e,this.type=n||"text"};(function(){this.MAX_RANGES=500,this.setRegexp=function(t){this.regExp+""!=t+""&&(this.regExp=t,this.cache=[])},this.update=function(t,e,n,o){if(this.regExp)for(var s=o.firstRow,a=o.lastRow,l=s;a>=l;l++){var u=this.cache[l];null==u&&(u=i.getMatchOffsets(n.getLine(l),this.regExp),u.length>this.MAX_RANGES&&(u=u.slice(0,this.MAX_RANGES)),u=u.map(function(t){return new r(l,t.offset,l,t.offset+t.length)}),this.cache[l]=u.length?u:"");for(var c=u.length;c--;)e.drawSingleLineMarker(t,u[c].toScreenRange(n),this.clazz,o)}}}).call(o.prototype),e.SearchHighlight=o}),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(t,e,n){"use strict";function i(t,e){this.foldData=t,Array.isArray(e)?this.folds=e:e=this.folds=[e];var n=e[e.length-1];this.range=new r(e[0].start.row,e[0].start.column,n.end.row,n.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(t){t.setFoldLine(this)},this)}var r=t("../range").Range;(function(){this.shiftRow=function(t){this.start.row+=t,this.end.row+=t,this.folds.forEach(function(e){e.start.row+=t,e.end.row+=t})},this.addFold=function(t){if(t.sameRow){if(t.start.row<this.startRow||t.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(t),this.folds.sort(function(t,e){return-t.range.compareEnd(e.start.row,e.start.column)}),this.range.compareEnd(t.start.row,t.start.column)>0?(this.end.row=t.end.row,this.end.column=t.end.column):this.range.compareStart(t.end.row,t.end.column)<0&&(this.start.row=t.start.row,this.start.column=t.start.column)}else if(t.start.row==this.end.row)this.folds.push(t),this.end.row=t.end.row,this.end.column=t.end.column;else{if(t.end.row!=this.start.row)throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");this.folds.unshift(t),this.start.row=t.start.row,this.start.column=t.start.column}t.foldLine=this},this.containsRow=function(t){return t>=this.start.row&&t<=this.end.row},this.walk=function(t,e,n){var i,r,o,s=0,a=this.folds,l=!0;null==e&&(e=this.end.row,n=this.end.column);for(var u=0;u<a.length;u++){if(i=a[u],r=i.range.compareStart(e,n),-1==r)return void t(null,e,n,s,l);if(o=t(null,i.start.row,i.start.column,s,l),o=!o&&t(i.placeholder,i.start.row,i.start.column,s),o||0===r)return;l=!i.sameRow,s=i.end.column}t(null,e,n,s,l)},this.getNextFoldTo=function(t,e){for(var n,i,r=0;r<this.folds.length;r++){if(n=this.folds[r],i=n.range.compareEnd(t,e),-1==i)return{fold:n,kind:"after"};if(0===i)return{fold:n,kind:"inside"}}return null},this.addRemoveChars=function(t,e,n){var i,r,o=this.getNextFoldTo(t,e);if(o)if(i=o.fold,"inside"==o.kind&&i.start.column!=e&&i.start.row!=t)window.console&&window.console.log(t,e,i);else if(i.start.row==t){r=this.folds;var s=r.indexOf(i);for(0===s&&(this.start.column+=n),s;s<r.length;s++){if(i=r[s],i.start.column+=n,!i.sameRow)return;i.end.column+=n}this.end.column+=n}},this.split=function(t,e){var n=this.getNextFoldTo(t,e);if(!n||"inside"==n.kind)return null;var r=n.fold,o=this.folds,s=this.foldData,a=o.indexOf(r),l=o[a-1];this.end.row=l.end.row,this.end.column=l.end.column,o=o.splice(a,o.length-a);var u=new i(s,o);return s.splice(s.indexOf(this)+1,0,u),u},this.merge=function(t){for(var e=t.folds,n=0;n<e.length;n++)this.addFold(e[n]);var i=this.foldData;i.splice(i.indexOf(t),1)},this.toString=function(){var t=[this.range.toString()+": ["];return this.folds.forEach(function(e){t.push("  "+e.toString())}),t.push("]"),t.join("\n")},this.idxToPosition=function(t){for(var e=0,n=0;n<this.folds.length;n++){var i=this.folds[n];if(t-=i.start.column-e,0>t)return{row:i.start.row,column:i.start.column+t};if(t-=i.placeholder.length,0>t)return i.start;e=i.end.column}return{row:this.end.row,column:this.end.column+t}}}).call(i.prototype),e.FoldLine=i}),ace.define("ace/range_list",["require","exports","module","ace/range"],function(t,e,n){"use strict";var i=t("./range").Range,r=i.comparePoints,o=function(){this.ranges=[]};(function(){this.comparePoints=r,this.pointIndex=function(t,e,n){for(var i=this.ranges,o=n||0;o<i.length;o++){var s=i[o],a=r(t,s.end);if(!(a>0)){var l=r(t,s.start);return 0===a?e&&0!==l?-o-2:o:l>0||0===l&&!e?o:-o-1}}return-o-1},this.add=function(t){var e=!t.isEmpty(),n=this.pointIndex(t.start,e);0>n&&(n=-n-1);var i=this.pointIndex(t.end,e,n);return 0>i?i=-i-1:i++,this.ranges.splice(n,i-n,t)},this.addList=function(t){for(var e=[],n=t.length;n--;)e.push.apply(e,this.add(t[n]));return e},this.substractPoint=function(t){var e=this.pointIndex(t);return e>=0?this.ranges.splice(e,1):void 0},this.merge=function(){var t=[],e=this.ranges;e=e.sort(function(t,e){return r(t.start,e.start)});for(var n,i=e[0],o=1;o<e.length;o++){n=i,i=e[o];var s=r(n.end,i.start);0>s||(0!=s||n.isEmpty()||i.isEmpty())&&(r(n.end,i.end)<0&&(n.end.row=i.end.row,n.end.column=i.end.column),e.splice(o,1),t.push(i),i=n,o--)}return this.ranges=e,t},this.contains=function(t,e){return this.pointIndex({row:t,column:e})>=0},this.containsPoint=function(t){return this.pointIndex(t)>=0},this.rangeAtPoint=function(t){var e=this.pointIndex(t);return e>=0?this.ranges[e]:void 0},this.clipRows=function(t,e){var n=this.ranges;if(n[0].start.row>e||n[n.length-1].start.row<t)return[];var i=this.pointIndex({row:t,column:0});0>i&&(i=-i-1);var r=this.pointIndex({row:e,column:0},i);0>r&&(r=-r-1);for(var o=[],s=i;r>s;s++)o.push(n[s]);return o},this.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},this.attach=function(t){this.session&&this.detach(),this.session=t,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},this.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},this.$onChange=function(t){if("insert"==t.action)var e=t.start,n=t.end;else var n=t.start,e=t.end;for(var i=e.row,r=n.row,o=r-i,s=-e.column+n.column,a=this.ranges,l=0,u=a.length;u>l;l++){var c=a[l];if(!(c.end.row<i)){if(c.start.row>i)break;if(c.start.row==i&&c.start.column>=e.column&&(c.start.column==e.column&&this.$insertRight||(c.start.column+=s,c.start.row+=o)),c.end.row==i&&c.end.column>=e.column){if(c.end.column==e.column&&this.$insertRight)continue;c.end.column==e.column&&s>0&&u-1>l&&c.end.column>c.start.column&&c.end.column==a[l+1].start.column&&(c.end.column-=s),c.end.column+=s,c.end.row+=o}}}if(0!=o&&u>l)for(;u>l;l++){var c=a[l];c.start.row+=o,c.end.row+=o}}}).call(o.prototype),e.RangeList=o}),ace.define("ace/edit_session/fold",["require","exports","module","ace/range","ace/range_list","ace/lib/oop"],function(t,e,n){"use strict";function i(t,e){t.row-=e.row,0==t.row&&(t.column-=e.column)}function r(t,e){i(t.start,e),i(t.end,e)}function o(t,e){0==t.row&&(t.column+=e.column),t.row+=e.row}function s(t,e){o(t.start,e),o(t.end,e)}var a=(t("../range").Range,t("../range_list").RangeList),l=t("../lib/oop"),u=e.Fold=function(t,e){this.foldLine=null,this.placeholder=e,this.range=t,this.start=t.start,this.end=t.end,this.sameRow=t.start.row==t.end.row,this.subFolds=this.ranges=[]};l.inherits(u,a),function(){this.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},this.setFoldLine=function(t){this.foldLine=t,this.subFolds.forEach(function(e){e.setFoldLine(t)})},this.clone=function(){var t=this.range.clone(),e=new u(t,this.placeholder);return this.subFolds.forEach(function(t){e.subFolds.push(t.clone())}),e.collapseChildren=this.collapseChildren,e},this.addSubFold=function(t){if(!this.range.isEqual(t)){if(!this.range.containsRange(t))throw new Error("A fold can't intersect already existing fold"+t.range+this.range);r(t,this.start);for(var e=t.start.row,n=t.start.column,i=0,o=-1;i<this.subFolds.length&&(o=this.subFolds[i].range.compare(e,n),1==o);i++);var s=this.subFolds[i];if(0==o)return s.addSubFold(t);for(var e=t.range.end.row,n=t.range.end.column,a=i,o=-1;a<this.subFolds.length&&(o=this.subFolds[a].range.compare(e,n),1==o);a++);this.subFolds[a];if(0==o)throw new Error("A fold can't intersect already existing fold"+t.range+this.range);this.subFolds.splice(i,a-i,t);return t.setFoldLine(this.foldLine),t}},this.restoreRange=function(t){return s(t,this.start)}}.call(u.prototype)}),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator"],function(t,e,n){"use strict";function i(){this.getFoldAt=function(t,e,n){var i=this.getFoldLine(t);if(!i)return null;for(var r=i.folds,o=0;o<r.length;o++){var s=r[o];if(s.range.contains(t,e)){if(1==n&&s.range.isEnd(t,e))continue;if(-1==n&&s.range.isStart(t,e))continue;return s}}},this.getFoldsInRange=function(t){var e=t.start,n=t.end,i=this.$foldData,r=[];e.column+=1,n.column-=1;for(var o=0;o<i.length;o++){var s=i[o].range.compareRange(t);if(2!=s){if(-2==s)break;for(var a=i[o].folds,l=0;l<a.length;l++){var u=a[l];if(s=u.range.compareRange(t),-2==s)break;if(2!=s){if(42==s)break;r.push(u)}}}}return e.column-=1,n.column+=1,r},this.getFoldsInRangeList=function(t){if(Array.isArray(t)){var e=[];t.forEach(function(t){e=e.concat(this.getFoldsInRange(t))},this)}else var e=this.getFoldsInRange(t);return e},this.getAllFolds=function(){for(var t=[],e=this.$foldData,n=0;n<e.length;n++)for(var i=0;i<e[n].folds.length;i++)t.push(e[n].folds[i]);return t},this.getFoldStringAt=function(t,e,n,i){if(i=i||this.getFoldLine(t),!i)return null;for(var r,o,s={end:{column:0}},a=0;a<i.folds.length;a++){o=i.folds[a];var l=o.range.compareEnd(t,e);if(-1==l){r=this.getLine(o.start.row).substring(s.end.column,o.start.column);break}if(0===l)return null;s=o}return r||(r=this.getLine(o.start.row).substring(s.end.column)),-1==n?r.substring(0,e-s.end.column):1==n?r.substring(e-s.end.column):r},this.getFoldLine=function(t,e){var n=this.$foldData,i=0;for(e&&(i=n.indexOf(e)),-1==i&&(i=0),i;i<n.length;i++){var r=n[i];if(r.start.row<=t&&r.end.row>=t)return r;if(r.end.row>t)return null}return null},this.getNextFoldLine=function(t,e){var n=this.$foldData,i=0;for(e&&(i=n.indexOf(e)),-1==i&&(i=0),i;i<n.length;i++){var r=n[i];if(r.end.row>=t)return r}return null},this.getFoldedRowCount=function(t,e){for(var n=this.$foldData,i=e-t+1,r=0;r<n.length;r++){var o=n[r],s=o.end.row,a=o.start.row;if(s>=e){e>a&&(a>=t?i-=e-a:i=0);break}s>=t&&(i-=a>=t?s-a:s-t+1)}return i},this.$addFoldLine=function(t){return this.$foldData.push(t),this.$foldData.sort(function(t,e){return t.start.row-e.start.row}),t},this.addFold=function(t,e){var n,i=this.$foldData,r=!1;t instanceof s?n=t:(n=new s(e,t),n.collapseChildren=e.collapseChildren),this.$clipRangeToDocument(n.range);var a=n.start.row,l=n.start.column,u=n.end.row,c=n.end.column;if(!(u>a||a==u&&c-2>=l))throw new Error("The range has to be at least 2 characters width");var h=this.getFoldAt(a,l,1),d=this.getFoldAt(u,c,-1);if(h&&d==h)return h.addSubFold(n);h&&!h.range.isStart(a,l)&&this.removeFold(h),d&&!d.range.isEnd(u,c)&&this.removeFold(d);var f=this.getFoldsInRange(n.range);f.length>0&&(this.removeFolds(f),f.forEach(function(t){n.addSubFold(t)}));for(var p=0;p<i.length;p++){var g=i[p];if(u==g.start.row){g.addFold(n),r=!0;break}if(a==g.end.row){if(g.addFold(n),r=!0,!n.sameRow){var m=i[p+1];if(m&&m.start.row==u){g.merge(m);break}}break}if(u<=g.start.row)break}return r||(g=this.$addFoldLine(new o(this.$foldData,n))),this.$useWrapMode?this.$updateWrapData(g.start.row,g.start.row):this.$updateRowLengthCache(g.start.row,g.start.row),this.$modified=!0,this._signal("changeFold",{data:n,action:"add"}),n},this.addFolds=function(t){t.forEach(function(t){this.addFold(t)},this)},this.removeFold=function(t){var e=t.foldLine,n=e.start.row,i=e.end.row,r=this.$foldData,o=e.folds;if(1==o.length)r.splice(r.indexOf(e),1);else if(e.range.isEnd(t.end.row,t.end.column))o.pop(),e.end.row=o[o.length-1].end.row,e.end.column=o[o.length-1].end.column;else if(e.range.isStart(t.start.row,t.start.column))o.shift(),e.start.row=o[0].start.row,e.start.column=o[0].start.column;else if(t.sameRow)o.splice(o.indexOf(t),1);else{var s=e.split(t.start.row,t.start.column);o=s.folds,o.shift(),s.start.row=o[0].start.row,s.start.column=o[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(n,i):this.$updateRowLengthCache(n,i)),this.$modified=!0,this._signal("changeFold",{data:t,action:"remove"})},this.removeFolds=function(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n]);e.forEach(function(t){this.removeFold(t)},this),this.$modified=!0},this.expandFold=function(t){this.removeFold(t),t.subFolds.forEach(function(e){t.restoreRange(e),this.addFold(e)},this),t.collapseChildren>0&&this.foldAll(t.start.row+1,t.end.row,t.collapseChildren-1),t.subFolds=[]},this.expandFolds=function(t){t.forEach(function(t){this.expandFold(t)},this)},this.unfold=function(t,e){var n,i;if(null==t?(n=new r(0,0,this.getLength(),0),e=!0):n="number"==typeof t?new r(t,0,t,this.getLine(t).length):"row"in t?r.fromPoints(t,t):t,i=this.getFoldsInRangeList(n),e)this.removeFolds(i);else for(var o=i;o.length;)this.expandFolds(o),o=this.getFoldsInRangeList(n);return i.length?i:void 0},this.isRowFolded=function(t,e){return!!this.getFoldLine(t,e)},this.getRowFoldEnd=function(t,e){var n=this.getFoldLine(t,e);return n?n.end.row:t},this.getRowFoldStart=function(t,e){var n=this.getFoldLine(t,e);return n?n.start.row:t},this.getFoldDisplayLine=function(t,e,n,i,r){null==i&&(i=t.start.row),null==r&&(r=0),null==e&&(e=t.end.row),null==n&&(n=this.getLine(e).length);var o=this.doc,s="";return t.walk(function(t,e,n,a){if(!(i>e)){if(e==i){if(r>n)return;a=Math.max(r,a)}s+=null!=t?t:o.getLine(e).substring(a,n)}},e,n),s},this.getDisplayLine=function(t,e,n,i){var r=this.getFoldLine(t);if(r)return this.getFoldDisplayLine(r,t,e,n,i);var o;return o=this.doc.getLine(t),o.substring(i||0,e||o.length)},this.$cloneFoldData=function(){var t=[];return t=this.$foldData.map(function(e){var n=e.folds.map(function(t){return t.clone()});return new o(t,n)})},this.toggleFold=function(t){var e,n,i=this.selection,r=i.getRange();if(r.isEmpty()){var o=r.start;if(e=this.getFoldAt(o.row,o.column))return void this.expandFold(e);(n=this.findMatchingBracket(o))?1==r.comparePoint(n)?r.end=n:(r.start=n,r.start.column++,r.end.column--):(n=this.findMatchingBracket({row:o.row,column:o.column+1}))?(1==r.comparePoint(n)?r.end=n:r.start=n,r.start.column++):r=this.getCommentFoldRange(o.row,o.column)||r}else{var s=this.getFoldsInRange(r);if(t&&s.length)return void this.expandFolds(s);1==s.length&&(e=s[0])}if(e||(e=this.getFoldAt(r.start.row,r.start.column)),e&&e.range.toString()==r.toString())return void this.expandFold(e);var a="...";if(!r.isMultiLine()){if(a=this.getTextRange(r),a.length<4)return;a=a.trim().substring(0,2)+".."}this.addFold(a,r)},this.getCommentFoldRange=function(t,e,n){var i=new a(this,t,e),o=i.getCurrentToken();if(o&&/^comment|string/.test(o.type)){var s=new r,l=new RegExp(o.type.replace(/\..*/,"\\."));if(1!=n){do o=i.stepBackward();while(o&&l.test(o.type));i.stepForward()}if(s.start.row=i.getCurrentTokenRow(),s.start.column=i.getCurrentTokenColumn()+2,i=new a(this,t,e),-1!=n){do o=i.stepForward();while(o&&l.test(o.type));o=i.stepBackward()}else o=i.getCurrentToken();return s.end.row=i.getCurrentTokenRow(),s.end.column=i.getCurrentTokenColumn()+o.value.length-2,s}},this.foldAll=function(t,e,n){void 0==n&&(n=1e5);var i=this.foldWidgets;if(i){e=e||this.getLength(),t=t||0;for(var r=t;e>r;r++)if(null==i[r]&&(i[r]=this.getFoldWidget(r)),"start"==i[r]){var o=this.getFoldWidgetRange(r);if(o&&o.isMultiLine()&&o.end.row<=e&&o.start.row>=t){r=o.end.row;try{var s=this.addFold("...",o);s&&(s.collapseChildren=n)}catch(a){}}}}},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(t){if(!this.$foldStyles[t])throw new Error("invalid fold style: "+t+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=t){this.$foldStyle=t,"manual"==t&&this.unfold();var e=this.$foldMode;this.$setFolding(null),this.$setFolding(e)}},this.$setFolding=function(t){if(this.$foldMode!=t){if(this.$foldMode=t,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),!t||"manual"==this.$foldStyle)return void(this.foldWidgets=null);this.foldWidgets=[],this.getFoldWidget=t.getFoldWidget.bind(t,this,this.$foldStyle),this.getFoldWidgetRange=t.getFoldWidgetRange.bind(t,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)}},this.getParentFoldRangeData=function(t,e){var n=this.foldWidgets;if(!n||e&&n[t])return{};for(var i,r=t-1;r>=0;){var o=n[r];if(null==o&&(o=n[r]=this.getFoldWidget(r)),"start"==o){var s=this.getFoldWidgetRange(r);if(i||(i=s),s&&s.end.row>=t)break}r--}return{range:-1!==r&&s,firstRange:i}},this.onFoldWidgetClick=function(t,e){e=e.domEvent;var n={children:e.shiftKey,all:e.ctrlKey||e.metaKey,siblings:e.altKey},i=this.$toggleFoldWidget(t,n);if(!i){var r=e.target||e.srcElement;r&&/ace_fold-widget/.test(r.className)&&(r.className+=" ace_invalid")}},this.$toggleFoldWidget=function(t,e){if(this.getFoldWidget){var n=this.getFoldWidget(t),i=this.getLine(t),r="end"===n?-1:1,o=this.getFoldAt(t,-1===r?0:i.length,r);if(o)return void(e.children||e.all?this.removeFold(o):this.expandFold(o));var s=this.getFoldWidgetRange(t,!0);if(s&&!s.isMultiLine()&&(o=this.getFoldAt(s.start.row,s.start.column,1),o&&s.isEqual(o.range)))return void this.removeFold(o);if(e.siblings){var a=this.getParentFoldRangeData(t);if(a.range)var l=a.range.start.row+1,u=a.range.end.row;this.foldAll(l,u,e.all?1e4:0)}else e.children?(u=s?s.end.row:this.getLength(),this.foldAll(t+1,u,e.all?1e4:0)):s&&(e.all&&(s.collapseChildren=1e4),this.addFold("...",s));return s}},this.toggleFoldWidget=function(t){var e=this.selection.getCursor().row;e=this.getRowFoldStart(e);var n=this.$toggleFoldWidget(e,{});if(!n){var i=this.getParentFoldRangeData(e,!0);if(n=i.range||i.firstRange){e=n.start.row;var r=this.getFoldAt(e,this.getLine(e).length,1);r?this.removeFold(r):this.addFold("...",n)}}},this.updateFoldWidgets=function(t){var e=t.start.row,n=t.end.row-e;if(0===n)this.foldWidgets[e]=null;else if("remove"==t.action)this.foldWidgets.splice(e,n+1,null);else{var i=Array(n+1);i.unshift(e,1),this.foldWidgets.splice.apply(this.foldWidgets,i)}},this.tokenizerUpdateFoldWidgets=function(t){var e=t.data;e.first!=e.last&&this.foldWidgets.length>e.first&&this.foldWidgets.splice(e.first,this.foldWidgets.length)}}var r=t("../range").Range,o=t("./fold_line").FoldLine,s=t("./fold").Fold,a=t("../token_iterator").TokenIterator;e.Folding=i}),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(t,e,n){"use strict";function i(){this.findMatchingBracket=function(t,e){if(0==t.column)return null;var n=e||this.getLine(t.row).charAt(t.column-1);if(""==n)return null;var i=n.match(/([\(\[\{])|([\)\]\}])/);return i?i[1]?this.$findClosingBracket(i[1],t):this.$findOpeningBracket(i[2],t):null},this.getBracketRange=function(t){var e,n=this.getLine(t.row),i=!0,r=n.charAt(t.column-1),s=r&&r.match(/([\(\[\{])|([\)\]\}])/);
if(s||(r=n.charAt(t.column),t={row:t.row,column:t.column+1},s=r&&r.match(/([\(\[\{])|([\)\]\}])/),i=!1),!s)return null;if(s[1]){var a=this.$findClosingBracket(s[1],t);if(!a)return null;e=o.fromPoints(t,a),i||(e.end.column++,e.start.column--),e.cursor=e.end}else{var a=this.$findOpeningBracket(s[2],t);if(!a)return null;e=o.fromPoints(a,t),i||(e.start.column++,e.end.column--),e.cursor=e.start}return e},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{"},this.$findOpeningBracket=function(t,e,n){var i=this.$brackets[t],o=1,s=new r(this,e.row,e.column),a=s.getCurrentToken();if(a||(a=s.stepForward()),a){n||(n=new RegExp("(\\.?"+a.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)")+")+"));for(var l=e.column-s.getCurrentTokenColumn()-2,u=a.value;;){for(;l>=0;){var c=u.charAt(l);if(c==i){if(o-=1,0==o)return{row:s.getCurrentTokenRow(),column:l+s.getCurrentTokenColumn()}}else c==t&&(o+=1);l-=1}do a=s.stepBackward();while(a&&!n.test(a.type));if(null==a)break;u=a.value,l=u.length-1}return null}},this.$findClosingBracket=function(t,e,n){var i=this.$brackets[t],o=1,s=new r(this,e.row,e.column),a=s.getCurrentToken();if(a||(a=s.stepForward()),a){n||(n=new RegExp("(\\.?"+a.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)")+")+"));for(var l=e.column-s.getCurrentTokenColumn();;){for(var u=a.value,c=u.length;c>l;){var h=u.charAt(l);if(h==i){if(o-=1,0==o)return{row:s.getCurrentTokenRow(),column:l+s.getCurrentTokenColumn()}}else h==t&&(o+=1);l+=1}do a=s.stepForward();while(a&&!n.test(a.type));if(null==a)break;l=0}return null}}}var r=t("../token_iterator").TokenIterator,o=t("../range").Range;e.BracketMatch=i}),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"],function(t,e,n){"use strict";var i=t("./lib/oop"),r=t("./lib/lang"),o=t("./config"),s=t("./lib/event_emitter").EventEmitter,a=t("./selection").Selection,l=t("./mode/text").Mode,u=t("./range").Range,c=t("./document").Document,h=t("./background_tokenizer").BackgroundTokenizer,d=t("./search_highlight").SearchHighlight,f=function(t,e){this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.$foldData.toString=function(){return this.join("\n")},this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),"object"==typeof t&&t.getLine||(t=new c(t)),this.setDocument(t),this.selection=new a(this),o.resetOptions(this),this.setMode(e),o._signal("session",this)};(function(){function t(t){return 4352>t?!1:t>=4352&&4447>=t||t>=4515&&4519>=t||t>=4602&&4607>=t||t>=9001&&9002>=t||t>=11904&&11929>=t||t>=11931&&12019>=t||t>=12032&&12245>=t||t>=12272&&12283>=t||t>=12288&&12350>=t||t>=12353&&12438>=t||t>=12441&&12543>=t||t>=12549&&12589>=t||t>=12593&&12686>=t||t>=12688&&12730>=t||t>=12736&&12771>=t||t>=12784&&12830>=t||t>=12832&&12871>=t||t>=12880&&13054>=t||t>=13056&&19903>=t||t>=19968&&42124>=t||t>=42128&&42182>=t||t>=43360&&43388>=t||t>=44032&&55203>=t||t>=55216&&55238>=t||t>=55243&&55291>=t||t>=63744&&64255>=t||t>=65040&&65049>=t||t>=65072&&65106>=t||t>=65108&&65126>=t||t>=65128&&65131>=t||t>=65281&&65376>=t||t>=65504&&65510>=t}i.implement(this,s),this.setDocument=function(t){this.doc&&this.doc.removeListener("change",this.$onChange),this.doc=t,t.on("change",this.$onChange),this.bgTokenizer&&this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},this.getDocument=function(){return this.doc},this.$resetRowCache=function(t){if(!t)return this.$docRowCache=[],void(this.$screenRowCache=[]);var e=this.$docRowCache.length,n=this.$getRowCacheIndex(this.$docRowCache,t)+1;e>n&&(this.$docRowCache.splice(n,e),this.$screenRowCache.splice(n,e))},this.$getRowCacheIndex=function(t,e){for(var n=0,i=t.length-1;i>=n;){var r=n+i>>1,o=t[r];if(e>o)n=r+1;else{if(!(o>e))return r;i=r-1}}return n-1},this.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.bgTokenizer&&this.bgTokenizer.start(0)},this.onChangeFold=function(t){var e=t.data;this.$resetRowCache(e.start.row)},this.onChange=function(t){this.$modified=!0,this.$resetRowCache(t.start.row);var e=this.$updateInternalDataOnChange(t);this.$fromUndo||!this.$undoManager||t.ignore||(this.$deltasDoc.push(t),e&&0!=e.length&&this.$deltasFold.push({action:"removeFolds",folds:e}),this.$informUndoManager.schedule()),this.bgTokenizer&&this.bgTokenizer.$updateOnChange(t),this._signal("change",t)},this.setValue=function(t){this.doc.setValue(t),this.selection.moveTo(0,0),this.$resetRowCache(0),this.$deltas=[],this.$deltasDoc=[],this.$deltasFold=[],this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},this.getValue=this.toString=function(){return this.doc.getValue()},this.getSelection=function(){return this.selection},this.getState=function(t){return this.bgTokenizer.getState(t)},this.getTokens=function(t){return this.bgTokenizer.getTokens(t)},this.getTokenAt=function(t,e){var n,i=this.bgTokenizer.getTokens(t),r=0;if(null==e)o=i.length-1,r=this.getLine(t).length;else for(var o=0;o<i.length&&(r+=i[o].value.length,!(r>=e));o++);return(n=i[o])?(n.index=o,n.start=r-n.value.length,n):null},this.setUndoManager=function(t){if(this.$undoManager=t,this.$deltas=[],this.$deltasDoc=[],this.$deltasFold=[],this.$informUndoManager&&this.$informUndoManager.cancel(),t){var e=this;this.$syncInformUndoManager=function(){e.$informUndoManager.cancel(),e.$deltasFold.length&&(e.$deltas.push({group:"fold",deltas:e.$deltasFold}),e.$deltasFold=[]),e.$deltasDoc.length&&(e.$deltas.push({group:"doc",deltas:e.$deltasDoc}),e.$deltasDoc=[]),e.$deltas.length>0&&t.execute({action:"aceupdate",args:[e.$deltas,e],merge:e.mergeUndoDeltas}),e.mergeUndoDeltas=!1,e.$deltas=[]},this.$informUndoManager=r.delayedCall(this.$syncInformUndoManager)}},this.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},this.$defaultUndoManager={undo:function(){},redo:function(){},reset:function(){}},this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},this.getTabString=function(){return this.getUseSoftTabs()?r.stringRepeat(" ",this.getTabSize()):"	"},this.setUseSoftTabs=function(t){this.setOption("useSoftTabs",t)},this.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},this.setTabSize=function(t){this.setOption("tabSize",t)},this.getTabSize=function(){return this.$tabSize},this.isTabStop=function(t){return this.$useSoftTabs&&t.column%this.$tabSize===0},this.$overwrite=!1,this.setOverwrite=function(t){this.setOption("overwrite",t)},this.getOverwrite=function(){return this.$overwrite},this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},this.addGutterDecoration=function(t,e){this.$decorations[t]||(this.$decorations[t]=""),this.$decorations[t]+=" "+e,this._signal("changeBreakpoint",{})},this.removeGutterDecoration=function(t,e){this.$decorations[t]=(this.$decorations[t]||"").replace(" "+e,""),this._signal("changeBreakpoint",{})},this.getBreakpoints=function(){return this.$breakpoints},this.setBreakpoints=function(t){this.$breakpoints=[];for(var e=0;e<t.length;e++)this.$breakpoints[t[e]]="ace_breakpoint";this._signal("changeBreakpoint",{})},this.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},this.setBreakpoint=function(t,e){void 0===e&&(e="ace_breakpoint"),e?this.$breakpoints[t]=e:delete this.$breakpoints[t],this._signal("changeBreakpoint",{})},this.clearBreakpoint=function(t){delete this.$breakpoints[t],this._signal("changeBreakpoint",{})},this.addMarker=function(t,e,n,i){var r=this.$markerId++,o={range:t,type:n||"line",renderer:"function"==typeof n?n:null,clazz:e,inFront:!!i,id:r};return i?(this.$frontMarkers[r]=o,this._signal("changeFrontMarker")):(this.$backMarkers[r]=o,this._signal("changeBackMarker")),r},this.addDynamicMarker=function(t,e){if(t.update){var n=this.$markerId++;return t.id=n,t.inFront=!!e,e?(this.$frontMarkers[n]=t,this._signal("changeFrontMarker")):(this.$backMarkers[n]=t,this._signal("changeBackMarker")),t}},this.removeMarker=function(t){var e=this.$frontMarkers[t]||this.$backMarkers[t];if(e){var n=e.inFront?this.$frontMarkers:this.$backMarkers;e&&(delete n[t],this._signal(e.inFront?"changeFrontMarker":"changeBackMarker"))}},this.getMarkers=function(t){return t?this.$frontMarkers:this.$backMarkers},this.highlight=function(t){if(!this.$searchHighlight){var e=new d(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(e)}this.$searchHighlight.setRegexp(t)},this.highlightLines=function(t,e,n,i){"number"!=typeof e&&(n=e,e=t),n||(n="ace_step");var r=new u(t,0,e,1/0);return r.id=this.addMarker(r,n,"fullLine",i),r},this.setAnnotations=function(t){this.$annotations=t,this._signal("changeAnnotation",{})},this.getAnnotations=function(){return this.$annotations||[]},this.clearAnnotations=function(){this.setAnnotations([])},this.$detectNewLine=function(t){var e=t.match(/^.*?(\r?\n)/m);e?this.$autoNewLine=e[1]:this.$autoNewLine="\n"},this.getWordRange=function(t,e){var n=this.getLine(t),i=!1;if(e>0&&(i=!!n.charAt(e-1).match(this.tokenRe)),i||(i=!!n.charAt(e).match(this.tokenRe)),i)var r=this.tokenRe;else if(/^\s+$/.test(n.slice(e-1,e+1)))var r=/\s/;else var r=this.nonTokenRe;var o=e;if(o>0){do o--;while(o>=0&&n.charAt(o).match(r));o++}for(var s=e;s<n.length&&n.charAt(s).match(r);)s++;return new u(t,o,t,s)},this.getAWordRange=function(t,e){for(var n=this.getWordRange(t,e),i=this.getLine(n.end.row);i.charAt(n.end.column).match(/[ \t]/);)n.end.column+=1;return n},this.setNewLineMode=function(t){this.doc.setNewLineMode(t)},this.getNewLineMode=function(){return this.doc.getNewLineMode()},this.setUseWorker=function(t){this.setOption("useWorker",t)},this.getUseWorker=function(){return this.$useWorker},this.onReloadTokenizer=function(t){var e=t.data;this.bgTokenizer.start(e.first),this._signal("tokenizerUpdate",t)},this.$modes={},this.$mode=null,this.$modeId=null,this.setMode=function(t,e){if(t&&"object"==typeof t){if(t.getTokenizer)return this.$onChangeMode(t);var n=t,i=n.path}else i=t||"ace/mode/text";return this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new l),this.$modes[i]&&!n?(this.$onChangeMode(this.$modes[i]),void(e&&e())):(this.$modeId=i,o.loadModule(["mode",i],function(t){return this.$modeId!==i?e&&e():(this.$modes[i]&&!n?this.$onChangeMode(this.$modes[i]):t&&t.Mode&&(t=new t.Mode(n),n||(this.$modes[i]=t,t.$id=i),this.$onChangeMode(t)),void(e&&e()))}.bind(this)),void(this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)))},this.$onChangeMode=function(t,e){if(e||(this.$modeId=t.$id),this.$mode!==t){this.$mode=t,this.$stopWorker(),this.$useWorker&&this.$startWorker();var n=t.getTokenizer();if(void 0!==n.addEventListener){var i=this.onReloadTokenizer.bind(this);n.addEventListener("update",i)}if(this.bgTokenizer)this.bgTokenizer.setTokenizer(n);else{this.bgTokenizer=new h(n);var r=this;this.bgTokenizer.addEventListener("update",function(t){r._signal("tokenizerUpdate",t)})}this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=t.tokenRe,this.nonTokenRe=t.nonTokenRe,e||(t.attachToSession&&t.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(t.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode"))}},this.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},this.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(t){o.warn("Could not load worker",t),this.$worker=null}},this.getMode=function(){return this.$mode},this.$scrollTop=0,this.setScrollTop=function(t){this.$scrollTop===t||isNaN(t)||(this.$scrollTop=t,this._signal("changeScrollTop",t))},this.getScrollTop=function(){return this.$scrollTop},this.$scrollLeft=0,this.setScrollLeft=function(t){this.$scrollLeft===t||isNaN(t)||(this.$scrollLeft=t,this._signal("changeScrollLeft",t))},this.getScrollLeft=function(){return this.$scrollLeft},this.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},this.getLineWidgetMaxWidth=function(){if(null!=this.lineWidgetsWidth)return this.lineWidgetsWidth;var t=0;return this.lineWidgets.forEach(function(e){e&&e.screenWidth>t&&(t=e.screenWidth)}),this.lineWidgetWidth=t},this.$computeWidth=function(t){if(this.$modified||t){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var e=this.doc.getAllLines(),n=this.$rowLengthCache,i=0,r=0,o=this.$foldData[r],s=o?o.start.row:1/0,a=e.length,l=0;a>l;l++){if(l>s){if(l=o.end.row+1,l>=a)break;o=this.$foldData[r++],s=o?o.start.row:1/0}null==n[l]&&(n[l]=this.$getStringScreenWidth(e[l])[0]),n[l]>i&&(i=n[l])}this.screenWidth=i}},this.getLine=function(t){return this.doc.getLine(t)},this.getLines=function(t,e){return this.doc.getLines(t,e)},this.getLength=function(){return this.doc.getLength()},this.getTextRange=function(t){return this.doc.getTextRange(t||this.selection.getRange())},this.insert=function(t,e){return this.doc.insert(t,e)},this.remove=function(t){return this.doc.remove(t)},this.removeFullLines=function(t,e){return this.doc.removeFullLines(t,e)},this.undoChanges=function(t,e){if(t.length){this.$fromUndo=!0;for(var n=null,i=t.length-1;-1!=i;i--){var r=t[i];"doc"==r.group?(this.doc.revertDeltas(r.deltas),n=this.$getUndoSelection(r.deltas,!0,n)):r.deltas.forEach(function(t){this.addFolds(t.folds)},this)}return this.$fromUndo=!1,n&&this.$undoSelect&&!e&&this.selection.setSelectionRange(n),n}},this.redoChanges=function(t,e){if(t.length){this.$fromUndo=!0;for(var n=null,i=0;i<t.length;i++){var r=t[i];"doc"==r.group&&(this.doc.applyDeltas(r.deltas),n=this.$getUndoSelection(r.deltas,!1,n))}return this.$fromUndo=!1,n&&this.$undoSelect&&!e&&this.selection.setSelectionRange(n),n}},this.setUndoSelect=function(t){this.$undoSelect=t},this.$getUndoSelection=function(t,e,n){function i(t){return e?"insert"!==t.action:"insert"===t.action}var r,o,s=t[0],a=!1;i(s)?(r=u.fromPoints(s.start,s.end),a=!0):(r=u.fromPoints(s.start,s.start),a=!1);for(var l=1;l<t.length;l++)s=t[l],i(s)?(o=s.start,-1==r.compare(o.row,o.column)&&r.setStart(o),o=s.end,1==r.compare(o.row,o.column)&&r.setEnd(o),a=!0):(o=s.start,-1==r.compare(o.row,o.column)&&(r=u.fromPoints(s.start,s.start)),a=!1);if(null!=n){0===u.comparePoints(n.start,r.start)&&(n.start.column+=r.end.column-r.start.column,n.end.column+=r.end.column-r.start.column);var c=n.compareRange(r);1==c?r.setStart(n.start):-1==c&&r.setEnd(n.end)}return r},this.replace=function(t,e){return this.doc.replace(t,e)},this.moveText=function(t,e,n){var i=this.getTextRange(t),r=this.getFoldsInRange(t),o=u.fromPoints(e,e);if(!n){this.remove(t);var s=t.start.row-t.end.row,a=s?-t.end.column:t.start.column-t.end.column;a&&(o.start.row==t.end.row&&o.start.column>t.end.column&&(o.start.column+=a),o.end.row==t.end.row&&o.end.column>t.end.column&&(o.end.column+=a)),s&&o.start.row>=t.end.row&&(o.start.row+=s,o.end.row+=s)}if(o.end=this.insert(o.start,i),r.length){var l=t.start,c=o.start,s=c.row-l.row,a=c.column-l.column;this.addFolds(r.map(function(t){return t=t.clone(),t.start.row==l.row&&(t.start.column+=a),t.end.row==l.row&&(t.end.column+=a),t.start.row+=s,t.end.row+=s,t}))}return o},this.indentRows=function(t,e,n){n=n.replace(/\t/g,this.getTabString());for(var i=t;e>=i;i++)this.doc.insertInLine({row:i,column:0},n)},this.outdentRows=function(t){for(var e=t.collapseRows(),n=new u(0,0,0,0),i=this.getTabSize(),r=e.start.row;r<=e.end.row;++r){var o=this.getLine(r);n.start.row=r,n.end.row=r;for(var s=0;i>s&&" "==o.charAt(s);++s);i>s&&"	"==o.charAt(s)?(n.start.column=s,n.end.column=s+1):(n.start.column=0,n.end.column=s),this.remove(n)}},this.$moveLines=function(t,e,n){if(t=this.getRowFoldStart(t),e=this.getRowFoldEnd(e),0>n){var i=this.getRowFoldStart(t+n);if(0>i)return 0;var r=i-t}else if(n>0){var i=this.getRowFoldEnd(e+n);if(i>this.doc.getLength()-1)return 0;var r=i-e}else{t=this.$clipRowToDocument(t),e=this.$clipRowToDocument(e);var r=e-t+1}var o=new u(t,0,e,Number.MAX_VALUE),s=this.getFoldsInRange(o).map(function(t){return t=t.clone(),t.start.row+=r,t.end.row+=r,t}),a=0==n?this.doc.getLines(t,e):this.doc.removeFullLines(t,e);return this.doc.insertFullLines(t+r,a),s.length&&this.addFolds(s),r},this.moveLinesUp=function(t,e){return this.$moveLines(t,e,-1)},this.moveLinesDown=function(t,e){return this.$moveLines(t,e,1)},this.duplicateLines=function(t,e){return this.$moveLines(t,e,0)},this.$clipRowToDocument=function(t){return Math.max(0,Math.min(t,this.doc.getLength()-1))},this.$clipColumnToRow=function(t,e){return 0>e?0:Math.min(this.doc.getLine(t).length,e)},this.$clipPositionToDocument=function(t,e){if(e=Math.max(0,e),0>t)t=0,e=0;else{var n=this.doc.getLength();t>=n?(t=n-1,e=this.doc.getLine(n-1).length):e=Math.min(this.doc.getLine(t).length,e)}return{row:t,column:e}},this.$clipRangeToDocument=function(t){t.start.row<0?(t.start.row=0,t.start.column=0):t.start.column=this.$clipColumnToRow(t.start.row,t.start.column);var e=this.doc.getLength()-1;return t.end.row>e?(t.end.row=e,t.end.column=this.doc.getLine(e).length):t.end.column=this.$clipColumnToRow(t.end.row,t.end.column),t},this.$wrapLimit=80,this.$useWrapMode=!1,this.$wrapLimitRange={min:null,max:null},this.setUseWrapMode=function(t){if(t!=this.$useWrapMode){if(this.$useWrapMode=t,this.$modified=!0,this.$resetRowCache(0),t){var e=this.getLength();this.$wrapData=Array(e),this.$updateWrapData(0,e-1)}this._signal("changeWrapMode")}},this.getUseWrapMode=function(){return this.$useWrapMode},this.setWrapLimitRange=function(t,e){this.$wrapLimitRange.min===t&&this.$wrapLimitRange.max===e||(this.$wrapLimitRange={min:t,max:e},this.$modified=!0,this.$useWrapMode&&this._signal("changeWrapMode"))},this.adjustWrapLimit=function(t,e){var n=this.$wrapLimitRange;n.max<0&&(n={min:e,max:e});var i=this.$constrainWrapLimit(t,n.min,n.max);return i!=this.$wrapLimit&&i>1?(this.$wrapLimit=i,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0):!1},this.$constrainWrapLimit=function(t,e,n){return e&&(t=Math.max(e,t)),n&&(t=Math.min(n,t)),t},this.getWrapLimit=function(){return this.$wrapLimit},this.setWrapLimit=function(t){this.setWrapLimitRange(t,t)},this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},this.$updateInternalDataOnChange=function(t){var e=this.$useWrapMode,n=t.action,i=t.start,r=t.end,o=i.row,s=r.row,a=s-o,l=null;if(this.$updating=!0,0!=a)if("remove"===n){this[e?"$wrapData":"$rowLengthCache"].splice(o,a);var u=this.$foldData;l=this.getFoldsInRange(t),this.removeFolds(l);var c=this.getFoldLine(r.row),h=0;if(c){c.addRemoveChars(r.row,r.column,i.column-r.column),c.shiftRow(-a);var d=this.getFoldLine(o);d&&d!==c&&(d.merge(c),c=d),h=u.indexOf(c)+1}for(h;h<u.length;h++){var c=u[h];c.start.row>=r.row&&c.shiftRow(-a)}s=o}else{var f=Array(a);f.unshift(o,0);var p=e?this.$wrapData:this.$rowLengthCache;p.splice.apply(p,f);var u=this.$foldData,c=this.getFoldLine(o),h=0;if(c){var g=c.range.compareInside(i.row,i.column);0==g?(c=c.split(i.row,i.column),c&&(c.shiftRow(a),c.addRemoveChars(s,0,r.column-i.column))):-1==g&&(c.addRemoveChars(o,0,r.column-i.column),c.shiftRow(a)),h=u.indexOf(c)+1}for(h;h<u.length;h++){var c=u[h];c.start.row>=o&&c.shiftRow(a)}}else{a=Math.abs(t.start.column-t.end.column),"remove"===n&&(l=this.getFoldsInRange(t),this.removeFolds(l),a=-a);var c=this.getFoldLine(o);c&&c.addRemoveChars(o,i.column,a)}return e&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,e?this.$updateWrapData(o,s):this.$updateRowLengthCache(o,s),l},this.$updateRowLengthCache=function(t,e,n){this.$rowLengthCache[t]=null,this.$rowLengthCache[e]=null},this.$updateWrapData=function(t,e){var n,i,r=this.doc.getAllLines(),o=this.getTabSize(),s=this.$wrapData,l=this.$wrapLimit,u=t;for(e=Math.min(e,r.length-1);e>=u;)i=this.getFoldLine(u,i),i?(n=[],i.walk(function(t,e,i,o){var s;if(null!=t){s=this.$getDisplayTokens(t,n.length),s[0]=a;for(var l=1;l<s.length;l++)s[l]=c}else s=this.$getDisplayTokens(r[e].substring(o,i),n.length);n=n.concat(s)}.bind(this),i.end.row,r[i.end.row].length+1),s[i.start.row]=this.$computeWrapSplits(n,l,o),u=i.end.row+1):(n=this.$getDisplayTokens(r[u]),s[u]=this.$computeWrapSplits(n,l,o),u++)};var e=1,n=2,a=3,c=4,f=9,p=10,g=11,m=12;this.$computeWrapSplits=function(t,e,i){function r(){var e=0;if(0===y)return e;if(v)for(var n=0;n<t.length;n++){var r=t[n];if(r==p)e+=1;else{if(r!=g){if(r==m)continue;break}e+=i}}return d&&v!==!1&&(e+=i),Math.min(e,y)}function o(e){var n=t.slice(u,e),i=n.length;n.join("").replace(/12/g,function(){i-=1}).replace(/2/g,function(){i-=1}),s.length||(w=r(),s.indent=w),h+=i,s.push(h),u=e}if(0==t.length)return[];for(var s=[],l=t.length,u=0,h=0,d=this.$wrapAsCode,v=this.$indentedSoftWrap,y=e<=Math.max(2*i,8)||v===!1?0:Math.floor(e/2),w=0;l-u>e-w;){var b=u+e-w;if(t[b-1]>=p&&t[b]>=p)o(b);else if(t[b]!=a&&t[b]!=c){for(var A=Math.max(b-(e-(e>>2)),u-1);b>A&&t[b]<a;)b--;if(d){for(;b>A&&t[b]<a;)b--;for(;b>A&&t[b]==f;)b--}else for(;b>A&&t[b]<p;)b--;b>A?o(++b):(b=u+e,t[b]==n&&b--,o(b-w))}else{for(b;b!=u-1&&t[b]!=a;b--);if(b>u){o(b);continue}for(b=u+e;b<t.length&&t[b]==c;b++);if(b==t.length)break;o(b)}}return s},this.$getDisplayTokens=function(i,r){var o,s=[];r=r||0;for(var a=0;a<i.length;a++){var l=i.charCodeAt(a);if(9==l){o=this.getScreenTabSize(s.length+r),s.push(g);for(var u=1;o>u;u++)s.push(m)}else 32==l?s.push(p):l>39&&48>l||l>57&&64>l?s.push(f):l>=4352&&t(l)?s.push(e,n):s.push(e)}return s},this.$getStringScreenWidth=function(e,n,i){if(0==n)return[0,0];null==n&&(n=1/0),i=i||0;var r,o;for(o=0;o<e.length&&(r=e.charCodeAt(o),i+=9==r?this.getScreenTabSize(i):r>=4352&&t(r)?2:1,!(i>n));o++);return[i,o]},this.lineWidgets=null,this.getRowLength=function(t){if(this.lineWidgets)var e=this.lineWidgets[t]&&this.lineWidgets[t].rowCount||0;else e=0;return this.$useWrapMode&&this.$wrapData[t]?this.$wrapData[t].length+1+e:1+e},this.getRowLineCount=function(t){return this.$useWrapMode&&this.$wrapData[t]?this.$wrapData[t].length+1:1},this.getRowWrapIndent=function(t){if(this.$useWrapMode){var e=this.screenToDocumentPosition(t,Number.MAX_VALUE),n=this.$wrapData[e.row];return n.length&&n[0]<e.column?n.indent:0}return 0},this.getScreenLastRowColumn=function(t){var e=this.screenToDocumentPosition(t,Number.MAX_VALUE);return this.documentToScreenColumn(e.row,e.column)},this.getDocumentLastRowColumn=function(t,e){var n=this.documentToScreenRow(t,e);return this.getScreenLastRowColumn(n)},this.getDocumentLastRowColumnPosition=function(t,e){var n=this.documentToScreenRow(t,e);return this.screenToDocumentPosition(n,Number.MAX_VALUE/10)},this.getRowSplitData=function(t){return this.$useWrapMode?this.$wrapData[t]:void 0},this.getScreenTabSize=function(t){return this.$tabSize-t%this.$tabSize},this.screenToDocumentRow=function(t,e){return this.screenToDocumentPosition(t,e).row},this.screenToDocumentColumn=function(t,e){return this.screenToDocumentPosition(t,e).column},this.screenToDocumentPosition=function(t,e){if(0>t)return{row:0,column:0};var n,i,r=0,o=0,s=0,a=0,l=this.$screenRowCache,u=this.$getRowCacheIndex(l,t),c=l.length;if(c&&u>=0)var s=l[u],r=this.$docRowCache[u],h=t>l[c-1];else var h=!c;for(var d=this.getLength()-1,f=this.getNextFoldLine(r),p=f?f.start.row:1/0;t>=s&&(a=this.getRowLength(r),!(s+a>t||r>=d));)s+=a,r++,r>p&&(r=f.end.row+1,f=this.getNextFoldLine(r,f),p=f?f.start.row:1/0),h&&(this.$docRowCache.push(r),this.$screenRowCache.push(s));if(f&&f.start.row<=r)n=this.getFoldDisplayLine(f),r=f.start.row;else{if(t>=s+a||r>d)return{row:d,column:this.getLine(d).length};n=this.getLine(r),f=null}var g=0;if(this.$useWrapMode){var m=this.$wrapData[r];if(m){var v=Math.floor(t-s);i=m[v],v>0&&m.length&&(g=m.indent,o=m[v-1]||m[m.length-1],n=n.substring(o))}}return o+=this.$getStringScreenWidth(n,e-g)[1],this.$useWrapMode&&o>=i&&(o=i-1),f?f.idxToPosition(o):{row:r,column:o}},this.documentToScreenPosition=function(t,e){if("undefined"==typeof e)var n=this.$clipPositionToDocument(t.row,t.column);else n=this.$clipPositionToDocument(t,e);t=n.row,e=n.column;var i=0,r=null,o=null;o=this.getFoldAt(t,e,1),o&&(t=o.start.row,e=o.start.column);var s,a=0,l=this.$docRowCache,u=this.$getRowCacheIndex(l,t),c=l.length;if(c&&u>=0)var a=l[u],i=this.$screenRowCache[u],h=t>l[c-1];else var h=!c;for(var d=this.getNextFoldLine(a),f=d?d.start.row:1/0;t>a;){if(a>=f){if(s=d.end.row+1,s>t)break;d=this.getNextFoldLine(s,d),f=d?d.start.row:1/0}else s=a+1;i+=this.getRowLength(a),a=s,h&&(this.$docRowCache.push(a),this.$screenRowCache.push(i))}var p="";d&&a>=f?(p=this.getFoldDisplayLine(d,t,e),r=d.start.row):(p=this.getLine(t).substring(0,e),r=t);var g=0;if(this.$useWrapMode){var m=this.$wrapData[r];if(m){for(var v=0;p.length>=m[v];)i++,v++;p=p.substring(m[v-1]||0,p.length),g=v>0?m.indent:0}}return{row:i,column:g+this.$getStringScreenWidth(p)[0]}},this.documentToScreenColumn=function(t,e){return this.documentToScreenPosition(t,e).column},this.documentToScreenRow=function(t,e){return this.documentToScreenPosition(t,e).row},this.getScreenLength=function(){var t=0,e=null;if(this.$useWrapMode)for(var n=this.$wrapData.length,i=0,r=0,e=this.$foldData[r++],o=e?e.start.row:1/0;n>i;){var s=this.$wrapData[i];t+=s?s.length+1:1,i++,i>o&&(i=e.end.row+1,e=this.$foldData[r++],o=e?e.start.row:1/0)}else{t=this.getLength();for(var a=this.$foldData,r=0;r<a.length;r++)e=a[r],t-=e.end.row-e.start.row}return this.lineWidgets&&(t+=this.$getWidgetScreenLength()),t},this.$setFontMetrics=function(t){this.$enableVarChar&&(this.$getStringScreenWidth=function(e,n,i){if(0===n)return[0,0];n||(n=1/0),i=i||0;var r,o;for(o=0;o<e.length&&(r=e.charAt(o),i+="	"===r?this.getScreenTabSize(i):t.getCharacterWidth(r),!(i>n));o++);return[i,o]})},this.destroy=function(){this.bgTokenizer&&(this.bgTokenizer.setDocument(null),this.bgTokenizer=null),this.$stopWorker()}}).call(f.prototype),t("./edit_session/folding").Folding.call(f.prototype),t("./edit_session/bracket_match").BracketMatch.call(f.prototype),o.defineOptions(f.prototype,"session",{wrap:{set:function(t){if(t&&"off"!=t?"free"==t?t=!0:"printMargin"==t?t=-1:"string"==typeof t&&(t=parseInt(t,10)||!1):t=!1,this.$wrap!=t)if(this.$wrap=t,t){var e="number"==typeof t?t:null;this.setWrapLimitRange(e,e),this.setUseWrapMode(!0)}else this.setUseWrapMode(!1)},get:function(){return this.getUseWrapMode()?-1==this.$wrap?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(t){t="auto"==t?"text"!=this.$mode.type:"text"!=t,t!=this.$wrapAsCode&&(this.$wrapAsCode=t,this.$useWrapMode&&(this.$modified=!0,this.$resetRowCache(0),this.$updateWrapData(0,this.getLength()-1)))},initialValue:"auto"},indentedSoftWrap:{initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(t){this.$useWorker=t,this.$stopWorker(),t&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(t){isNaN(t)||this.$tabSize===t||(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=t,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},overwrite:{set:function(t){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(t){this.doc.setNewLineMode(t)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(t){this.setMode(t)},get:function(){return this.$modeId}}}),e.EditSession=f}),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(t,e,n){"use strict";var i=t("./lib/lang"),r=t("./lib/oop"),o=t("./range").Range,s=function(){this.$options={}};(function(){this.set=function(t){return r.mixin(this.$options,t),this},this.getOptions=function(){return i.copyObject(this.$options)},this.setOptions=function(t){this.$options=t},this.find=function(t){var e=this.$options,n=this.$matchIterator(t,e);if(!n)return!1;var i=null;return n.forEach(function(t,n,r){if(t.start)i=t;else{var s=t.offset+(r||0);if(i=new o(n,s,n,s+t.length),!t.length&&e.start&&e.start.start&&0!=e.skipCurrent&&i.isEqual(e.start))return i=null,!1}return!0}),i},this.findAll=function(t){var e=this.$options;if(!e.needle)return[];this.$assembleRegExp(e);var n=e.range,r=n?t.getLines(n.start.row,n.end.row):t.doc.getAllLines(),s=[],a=e.re;if(e.$isMultiLine){var l,u=a.length,c=r.length-u;t:for(var h=a.offset||0;c>=h;h++){for(var d=0;u>d;d++)if(-1==r[h+d].search(a[d]))continue t;var f=r[h],p=r[h+u-1],g=f.length-f.match(a[0])[0].length,m=p.match(a[u-1])[0].length;l&&l.end.row===h&&l.end.column>g||(s.push(l=new o(h,g,h+u-1,m)),u>2&&(h=h+u-2))}}else for(var v=0;v<r.length;v++)for(var y=i.getMatchOffsets(r[v],a),d=0;d<y.length;d++){var w=y[d];s.push(new o(v,w.offset,v,w.offset+w.length))}if(n){for(var b=n.start.column,A=n.start.column,v=0,d=s.length-1;d>v&&s[v].start.column<b&&s[v].start.row==n.start.row;)v++;for(;d>v&&s[d].end.column>A&&s[d].end.row==n.end.row;)d--;for(s=s.slice(v,d+1),v=0,d=s.length;d>v;v++)s[v].start.row+=n.start.row,s[v].end.row+=n.start.row}return s},this.replace=function(t,e){var n=this.$options,i=this.$assembleRegExp(n);if(n.$isMultiLine)return e;if(i){var r=i.exec(t);if(!r||r[0].length!=t.length)return null;if(e=t.replace(i,e),n.preserveCase){e=e.split("");for(var o=Math.min(t.length,t.length);o--;){var s=t[o];s&&s.toLowerCase()!=s?e[o]=e[o].toUpperCase():e[o]=e[o].toLowerCase()}e=e.join("")}return e}},this.$matchIterator=function(t,e){var n=this.$assembleRegExp(e);if(!n)return!1;var r;if(e.$isMultiLine)var s=n.length,a=function(e,i,a){var l=e.search(n[0]);if(-1!=l){for(var u=1;s>u;u++)if(e=t.getLine(i+u),-1==e.search(n[u]))return;var c=e.match(n[s-1])[0].length,h=new o(i,l,i+s-1,c);return 1==n.offset?(h.start.row--,h.start.column=Number.MAX_VALUE):a&&(h.start.column+=a),r(h)?!0:void 0}};else if(e.backwards)var a=function(t,e,o){for(var s=i.getMatchOffsets(t,n),a=s.length-1;a>=0;a--)if(r(s[a],e,o))return!0};else var a=function(t,e,o){for(var s=i.getMatchOffsets(t,n),a=0;a<s.length;a++)if(r(s[a],e,o))return!0};var l=this.$lineIterator(t,e);return{forEach:function(t){r=t,l.forEach(a)}}},this.$assembleRegExp=function(t,e){if(t.needle instanceof RegExp)return t.re=t.needle;var n=t.needle;if(!t.needle)return t.re=!1;t.regExp||(n=i.escapeRegExp(n)),t.wholeWord&&(n="\\b"+n+"\\b");var r=t.caseSensitive?"gm":"gmi";if(t.$isMultiLine=!e&&/[\n\r]/.test(n),t.$isMultiLine)return t.re=this.$assembleMultilineRegExp(n,r);try{var o=new RegExp(n,r)}catch(s){o=!1}return t.re=o},this.$assembleMultilineRegExp=function(t,e){for(var n=t.replace(/\r\n|\r|\n/g,"$\n^").split("\n"),i=[],r=0;r<n.length;r++)try{i.push(new RegExp(n[r],e))}catch(o){return!1}return""==n[0]?(i.shift(),i.offset=1):i.offset=0,i},this.$lineIterator=function(t,e){var n=1==e.backwards,i=0!=e.skipCurrent,r=e.range,o=e.start;o||(o=r?r[n?"end":"start"]:t.selection.getRange()),o.start&&(o=o[i!=n?"end":"start"]);var s=r?r.start.row:0,a=r?r.end.row:t.getLength()-1,l=n?function(n){var i=o.row,r=t.getLine(i).substring(0,o.column);if(!n(r,i)){for(i--;i>=s;i--)if(n(t.getLine(i),i))return;if(0!=e.wrap)for(i=a,s=o.row;i>=s;i--)if(n(t.getLine(i),i))return}}:function(n){var i=o.row,r=t.getLine(i).substr(o.column);if(!n(r,i,o.column)){for(i+=1;a>=i;i++)if(n(t.getLine(i),i))return;if(0!=e.wrap)for(i=s,a=o.row;a>=i;i++)if(n(t.getLine(i),i))return}};return{forEach:l}}}).call(s.prototype),e.Search=s}),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(t,e,n){"use strict";function i(t,e){this.platform=e||(s.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},
this.addCommands(t),this.$singleCommand=!0}function r(t,e){i.call(this,t,e),this.$singleCommand=!1}var o=t("../lib/keys"),s=t("../lib/useragent"),a=o.KEY_MODS;r.prototype=i.prototype,function(){function t(t){return"object"==typeof t&&t.bindKey&&t.bindKey.position||0}this.addCommand=function(t){this.commands[t.name]&&this.removeCommand(t),this.commands[t.name]=t,t.bindKey&&this._buildKeyHash(t)},this.removeCommand=function(t,e){var n=t&&("string"==typeof t?t:t.name);t=this.commands[n],e||delete this.commands[n];var i=this.commandKeyBinding;for(var r in i){var o=i[r];if(o==t)delete i[r];else if(Array.isArray(o)){var s=o.indexOf(t);-1!=s&&(o.splice(s,1),1==o.length&&(i[r]=o[0]))}}},this.bindKey=function(t,e,n){return"object"==typeof t&&t&&(void 0==n&&(n=t.position),t=t[this.platform]),t?"function"==typeof e?this.addCommand({exec:e,bindKey:t,name:e.name||t}):void t.split("|").forEach(function(t){var i="";if(-1!=t.indexOf(" ")){var r=t.split(/\s+/);t=r.pop(),r.forEach(function(t){var e=this.parseKeys(t),n=a[e.hashId]+e.key;i+=(i?" ":"")+n,this._addCommandToBinding(i,"chainKeys")},this),i+=" "}var o=this.parseKeys(t),s=a[o.hashId]+o.key;this._addCommandToBinding(i+s,e,n)},this):void 0},this._addCommandToBinding=function(e,n,i){var r,o=this.commandKeyBinding;if(n)if(!o[e]||this.$singleCommand)o[e]=n;else{Array.isArray(o[e])?-1!=(r=o[e].indexOf(n))&&o[e].splice(r,1):o[e]=[o[e]],"number"!=typeof i&&(i=i||n.isDefault?-100:t(n));var s=o[e];for(r=0;r<s.length;r++){var a=s[r],l=t(a);if(l>i)break}s.splice(r,0,n)}else delete o[e]},this.addCommands=function(t){t&&Object.keys(t).forEach(function(e){var n=t[e];if(n){if("string"==typeof n)return this.bindKey(n,e);"function"==typeof n&&(n={exec:n}),"object"==typeof n&&(n.name||(n.name=e),this.addCommand(n))}},this)},this.removeCommands=function(t){Object.keys(t).forEach(function(e){this.removeCommand(t[e])},this)},this.bindKeys=function(t){Object.keys(t).forEach(function(e){this.bindKey(e,t[e])},this)},this._buildKeyHash=function(t){this.bindKey(t.bindKey,t)},this.parseKeys=function(t){var e=t.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(t){return t}),n=e.pop(),i=o[n];if(o.FUNCTION_KEYS[i])n=o.FUNCTION_KEYS[i].toLowerCase();else{if(!e.length)return{key:n,hashId:-1};if(1==e.length&&"shift"==e[0])return{key:n.toUpperCase(),hashId:-1}}for(var r=0,s=e.length;s--;){var a=o.KEY_MODS[e[s]];if(null==a)return"undefined"!=typeof console&&console.error("invalid modifier "+e[s]+" in "+t),!1;r|=a}return{key:n,hashId:r}},this.findKeyCommand=function(t,e){var n=a[t]+e;return this.commandKeyBinding[n]},this.handleKeyboard=function(t,e,n,i){if(!(0>i)){var r=a[e]+n,o=this.commandKeyBinding[r];return t.$keyChain&&(t.$keyChain+=" "+r,o=this.commandKeyBinding[t.$keyChain]||o),!o||"chainKeys"!=o&&"chainKeys"!=o[o.length-1]?(t.$keyChain&&(e&&4!=e||1!=n.length?(-1==e||i>0)&&(t.$keyChain=""):t.$keyChain=t.$keyChain.slice(0,-r.length-1)),{command:o}):(t.$keyChain=t.$keyChain||r,{command:"null"})}},this.getStatusText=function(t,e){return e.$keyChain||""}}.call(i.prototype),e.HashHandler=i,e.MultiHashHandler=r}),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(t,e,n){"use strict";var i=t("../lib/oop"),r=t("../keyboard/hash_handler").MultiHashHandler,o=t("../lib/event_emitter").EventEmitter,s=function(t,e){r.call(this,e,t),this.byName=this.commands,this.setDefaultHandler("exec",function(t){return t.command.exec(t.editor,t.args||{})})};i.inherits(s,r),function(){i.implement(this,o),this.exec=function(t,e,n){if(Array.isArray(t)){for(var i=t.length;i--;)if(this.exec(t[i],e,n))return!0;return!1}if("string"==typeof t&&(t=this.commands[t]),!t)return!1;if(e&&e.$readOnly&&!t.readOnly)return!1;var r={editor:e,command:t,args:n};return r.returnValue=this._emit("exec",r),this._signal("afterExec",r),r.returnValue!==!1},this.toggleRecording=function(t){return this.$inReplay?void 0:(t&&t._emit("changeStatus"),this.recording?(this.macro.pop(),this.removeEventListener("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(t){this.macro.push([t.command,t.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0))},this.replay=function(t){if(!this.$inReplay&&this.macro){if(this.recording)return this.toggleRecording(t);try{this.$inReplay=!0,this.macro.forEach(function(e){"string"==typeof e?this.exec(e,t):this.exec(e[0],t,e[1])},this)}finally{this.$inReplay=!1}}},this.trimMacro=function(t){return t.map(function(t){return"string"!=typeof t[0]&&(t[0]=t[0].name),t[1]||(t=t[0]),t})}}.call(s.prototype),e.CommandManager=s}),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(t,e,n){"use strict";function i(t,e){return{win:t,mac:e}}var r=t("../lib/lang"),o=t("../config"),s=t("../range").Range;e.commands=[{name:"showSettingsMenu",bindKey:i("Ctrl-,","Command-,"),exec:function(t){o.loadModule("ace/ext/settings_menu",function(e){e.init(t),t.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",bindKey:i("Alt-E","Ctrl-E"),exec:function(t){o.loadModule("ace/ext/error_marker",function(e){e.showErrorMarker(t,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",bindKey:i("Alt-Shift-E","Ctrl-Shift-E"),exec:function(t){o.loadModule("ace/ext/error_marker",function(e){e.showErrorMarker(t,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",bindKey:i("Ctrl-A","Command-A"),exec:function(t){t.selectAll()},readOnly:!0},{name:"centerselection",bindKey:i(null,"Ctrl-L"),exec:function(t){t.centerSelection()},readOnly:!0},{name:"gotoline",bindKey:i("Ctrl-L","Command-L"),exec:function(t){var e=parseInt(prompt("Enter line number:"),10);isNaN(e)||t.gotoLine(e)},readOnly:!0},{name:"fold",bindKey:i("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(t){t.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:i("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(t){t.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",bindKey:i("F2","F2"),exec:function(t){t.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",bindKey:i("Alt-F2","Alt-F2"),exec:function(t){t.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",bindKey:i(null,"Ctrl-Command-Option-0"),exec:function(t){t.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",bindKey:i("Alt-0","Command-Option-0"),exec:function(t){t.session.foldAll(),t.session.unfold(t.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",bindKey:i("Alt-Shift-0","Command-Option-Shift-0"),exec:function(t){t.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",bindKey:i("Ctrl-K","Command-G"),exec:function(t){t.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",bindKey:i("Ctrl-Shift-K","Command-Shift-G"),exec:function(t){t.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",bindKey:i("Alt-K","Ctrl-G"),exec:function(t){t.selection.isEmpty()?t.selection.selectWord():t.findNext()},readOnly:!0},{name:"selectOrFindPrevious",bindKey:i("Alt-Shift-K","Ctrl-Shift-G"),exec:function(t){t.selection.isEmpty()?t.selection.selectWord():t.findPrevious()},readOnly:!0},{name:"find",bindKey:i("Ctrl-F","Command-F"),exec:function(t){o.loadModule("ace/ext/searchbox",function(e){e.Search(t)})},readOnly:!0},{name:"overwrite",bindKey:"Insert",exec:function(t){t.toggleOverwrite()},readOnly:!0},{name:"selecttostart",bindKey:i("Ctrl-Shift-Home","Command-Shift-Up"),exec:function(t){t.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",bindKey:i("Ctrl-Home","Command-Home|Command-Up"),exec:function(t){t.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",bindKey:i("Shift-Up","Shift-Up"),exec:function(t){t.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",bindKey:i("Up","Up|Ctrl-P"),exec:function(t,e){t.navigateUp(e.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",bindKey:i("Ctrl-Shift-End","Command-Shift-Down"),exec:function(t){t.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",bindKey:i("Ctrl-End","Command-End|Command-Down"),exec:function(t){t.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",bindKey:i("Shift-Down","Shift-Down"),exec:function(t){t.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",bindKey:i("Down","Down|Ctrl-N"),exec:function(t,e){t.navigateDown(e.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",bindKey:i("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(t){t.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",bindKey:i("Ctrl-Left","Option-Left"),exec:function(t){t.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",bindKey:i("Alt-Shift-Left","Command-Shift-Left"),exec:function(t){t.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",bindKey:i("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(t){t.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",bindKey:i("Shift-Left","Shift-Left"),exec:function(t){t.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",bindKey:i("Left","Left|Ctrl-B"),exec:function(t,e){t.navigateLeft(e.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",bindKey:i("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(t){t.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",bindKey:i("Ctrl-Right","Option-Right"),exec:function(t){t.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",bindKey:i("Alt-Shift-Right","Command-Shift-Right"),exec:function(t){t.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",bindKey:i("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(t){t.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",bindKey:i("Shift-Right","Shift-Right"),exec:function(t){t.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",bindKey:i("Right","Right|Ctrl-F"),exec:function(t,e){t.navigateRight(e.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",bindKey:"Shift-PageDown",exec:function(t){t.selectPageDown()},readOnly:!0},{name:"pagedown",bindKey:i(null,"Option-PageDown"),exec:function(t){t.scrollPageDown()},readOnly:!0},{name:"gotopagedown",bindKey:i("PageDown","PageDown|Ctrl-V"),exec:function(t){t.gotoPageDown()},readOnly:!0},{name:"selectpageup",bindKey:"Shift-PageUp",exec:function(t){t.selectPageUp()},readOnly:!0},{name:"pageup",bindKey:i(null,"Option-PageUp"),exec:function(t){t.scrollPageUp()},readOnly:!0},{name:"gotopageup",bindKey:"PageUp",exec:function(t){t.gotoPageUp()},readOnly:!0},{name:"scrollup",bindKey:i("Ctrl-Up",null),exec:function(t){t.renderer.scrollBy(0,-2*t.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",bindKey:i("Ctrl-Down",null),exec:function(t){t.renderer.scrollBy(0,2*t.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",bindKey:"Shift-Home",exec:function(t){t.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",bindKey:"Shift-End",exec:function(t){t.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",bindKey:i("Ctrl-Alt-E","Command-Option-E"),exec:function(t){t.commands.toggleRecording(t)},readOnly:!0},{name:"replaymacro",bindKey:i("Ctrl-Shift-E","Command-Shift-E"),exec:function(t){t.commands.replay(t)},readOnly:!0},{name:"jumptomatching",bindKey:i("Ctrl-P","Ctrl-P"),exec:function(t){t.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",bindKey:i("Ctrl-Shift-P","Ctrl-Shift-P"),exec:function(t){t.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",bindKey:i("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(t){t.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",bindKey:i(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",exec:function(t){},readOnly:!0},{name:"cut",exec:function(t){var e=t.getSelectionRange();t._emit("cut",e),t.selection.isEmpty()||(t.session.remove(e),t.clearSelection())},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",exec:function(t,e){t.$handlePaste(e)},scrollIntoView:"cursor"},{name:"removeline",bindKey:i("Ctrl-D","Command-D"),exec:function(t){t.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",bindKey:i("Ctrl-Shift-D","Command-Shift-D"),exec:function(t){t.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",bindKey:i("Ctrl-Alt-S","Command-Alt-S"),exec:function(t){t.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",bindKey:i("Ctrl-/","Command-/"),exec:function(t){t.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",bindKey:i("Ctrl-Shift-/","Command-Shift-/"),exec:function(t){t.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",bindKey:i("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(t){t.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",bindKey:i("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(t){t.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",bindKey:i("Ctrl-H","Command-Option-F"),exec:function(t){o.loadModule("ace/ext/searchbox",function(e){e.Search(t,!0)})}},{name:"undo",bindKey:i("Ctrl-Z","Command-Z"),exec:function(t){t.undo()}},{name:"redo",bindKey:i("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(t){t.redo()}},{name:"copylinesup",bindKey:i("Alt-Shift-Up","Command-Option-Up"),exec:function(t){t.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",bindKey:i("Alt-Up","Option-Up"),exec:function(t){t.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",bindKey:i("Alt-Shift-Down","Command-Option-Down"),exec:function(t){t.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",bindKey:i("Alt-Down","Option-Down"),exec:function(t){t.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",bindKey:i("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(t){t.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",bindKey:i("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(t){t.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",bindKey:i("Shift-Delete",null),exec:function(t){return t.selection.isEmpty()?void t.remove("left"):!1},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",bindKey:i("Alt-Backspace","Command-Backspace"),exec:function(t){t.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",bindKey:i("Alt-Delete","Ctrl-K"),exec:function(t){t.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",bindKey:i("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(t){t.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",bindKey:i("Ctrl-Delete","Alt-Delete"),exec:function(t){t.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",bindKey:i("Shift-Tab","Shift-Tab"),exec:function(t){t.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",bindKey:i("Tab","Tab"),exec:function(t){t.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",bindKey:i("Ctrl-[","Ctrl-["),exec:function(t){t.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",bindKey:i("Ctrl-]","Ctrl-]"),exec:function(t){t.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",exec:function(t,e){t.insert(e)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",exec:function(t,e){t.insert(r.stringRepeat(e.text||"",e.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",bindKey:i(null,"Ctrl-O"),exec:function(t){t.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",bindKey:i("Ctrl-T","Ctrl-T"),exec:function(t){t.transposeLetters()},multiSelectAction:function(t){t.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",bindKey:i("Ctrl-U","Ctrl-U"),exec:function(t){t.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",bindKey:i("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(t){t.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"expandtoline",bindKey:i("Ctrl-Shift-L","Command-Shift-L"),exec:function(t){var e=t.selection.getRange();e.start.column=e.end.column=0,e.end.row++,t.selection.setRange(e,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"joinlines",bindKey:i(null,null),exec:function(t){for(var e=t.selection.isBackwards(),n=e?t.selection.getSelectionLead():t.selection.getSelectionAnchor(),i=e?t.selection.getSelectionAnchor():t.selection.getSelectionLead(),o=t.session.doc.getLine(n.row).length,a=t.session.doc.getTextRange(t.selection.getRange()),l=a.replace(/\n\s*/," ").length,u=t.session.doc.getLine(n.row),c=n.row+1;c<=i.row+1;c++){var h=r.stringTrimLeft(r.stringTrimRight(t.session.doc.getLine(c)));0!==h.length&&(h=" "+h),u+=h}i.row+1<t.session.doc.getLength()-1&&(u+=t.session.doc.getNewLineCharacter()),t.clearSelection(),t.session.doc.replace(new s(n.row,0,i.row+2,0),u),l>0?(t.selection.moveCursorTo(n.row,n.column),t.selection.selectTo(n.row,n.column+l)):(o=t.session.doc.getLine(n.row).length>o?o+1:o,t.selection.moveCursorTo(n.row,o))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",bindKey:i(null,null),exec:function(t){var e=t.session.doc.getLength()-1,n=t.session.doc.getLine(e).length,i=t.selection.rangeList.ranges,r=[];i.length<1&&(i=[t.selection.getRange()]);for(var o=0;o<i.length;o++)o==i.length-1&&(i[o].end.row===e&&i[o].end.column===n||r.push(new s(i[o].end.row,i[o].end.column,e,n))),0===o?0===i[o].start.row&&0===i[o].start.column||r.push(new s(0,0,i[o].start.row,i[o].start.column)):r.push(new s(i[o-1].end.row,i[o-1].end.column,i[o].start.row,i[o].start.column));t.exitMultiSelectMode(),t.clearSelection();for(var o=0;o<r.length;o++)t.selection.addRange(r[o],!1)},readOnly:!0,scrollIntoView:"none"}]}),ace.define("ace/editor",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator"],function(t,e,n){"use strict";t("./lib/fixoldbrowsers");var i=t("./lib/oop"),r=t("./lib/dom"),o=t("./lib/lang"),s=t("./lib/useragent"),a=t("./keyboard/textinput").TextInput,l=t("./mouse/mouse_handler").MouseHandler,u=t("./mouse/fold_handler").FoldHandler,c=t("./keyboard/keybinding").KeyBinding,h=t("./edit_session").EditSession,d=t("./search").Search,f=t("./range").Range,p=t("./lib/event_emitter").EventEmitter,g=t("./commands/command_manager").CommandManager,m=t("./commands/default_commands").commands,v=t("./config"),y=t("./token_iterator").TokenIterator,w=function(t,e){var n=t.getContainerElement();this.container=n,this.renderer=t,this.commands=new g(s.isMac?"mac":"win",m),this.textInput=new a(t.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.keyBinding=new c(this),this.$mouseHandler=new l(this),new u(this),this.$blockScrolling=0,this.$search=(new d).set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=o.delayedCall(function(){this._signal("input",{}),this.session&&this.session.bgTokenizer&&this.session.bgTokenizer.scheduleStart()}.bind(this)),this.on("change",function(t,e){e._$emitInputEvent.schedule(31)}),this.setSession(e||new h("")),v.resetOptions(this),v._signal("editor",this)};(function(){i.implement(this,p),this.$initOperationListeners=function(){this.selections=[],this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=o.delayedCall(this.endOperation.bind(this)),this.on("change",function(){this.curOp||this.startOperation(),this.curOp.docChanged=!0}.bind(this),!0),this.on("changeSelection",function(){this.curOp||this.startOperation(),this.curOp.selectionChanged=!0}.bind(this),!0)},this.curOp=null,this.prevOp={},this.startOperation=function(t){if(this.curOp){if(!t||this.curOp.command)return;this.prevOp=this.curOp}t||(this.previousCommand=null,t={}),this.$opResetTimer.schedule(),this.curOp={command:t.command||{},args:t.args,scrollTop:this.renderer.scrollTop},this.curOp.command.name&&void 0!==this.curOp.command.scrollIntoView&&this.$blockScrolling++},this.endOperation=function(t){if(this.curOp){if(t&&t.returnValue===!1)return this.curOp=null;this._signal("beforeEndOperation");var e=this.curOp.command;e.name&&this.$blockScrolling>0&&this.$blockScrolling--;var n=e&&e.scrollIntoView;if(n){switch(n){case"center-animate":n="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var i=this.selection.getRange(),r=this.renderer.layerConfig;(i.start.row>=r.lastRow||i.end.row<=r.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead)}"animate"==n&&this.renderer.animateScrolling(this.curOp.scrollTop)}this.prevOp=this.curOp,this.curOp=null}},this.$mergeableCommands=["backspace","del","insertstring"],this.$historyTracker=function(t){if(this.$mergeUndoDeltas){var e=this.prevOp,n=this.$mergeableCommands,i=e.command&&t.command.name==e.command.name;if("insertstring"==t.command.name){var r=t.args;void 0===this.mergeNextCommand&&(this.mergeNextCommand=!0),i=i&&this.mergeNextCommand&&(!/\s/.test(r)||/\s/.test(e.args)),this.mergeNextCommand=!0}else i=i&&-1!==n.indexOf(t.command.name);"always"!=this.$mergeUndoDeltas&&Date.now()-this.sequenceStartTime>2e3&&(i=!1),i?this.session.mergeUndoDeltas=!0:-1!==n.indexOf(t.command.name)&&(this.sequenceStartTime=Date.now())}},this.setKeyboardHandler=function(t,e){if(t&&"string"==typeof t){this.$keybindingId=t;var n=this;v.loadModule(["keybinding",t],function(i){n.$keybindingId==t&&n.keyBinding.setKeyboardHandler(i&&i.handler),e&&e()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(t),e&&e()},this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},this.setSession=function(t){if(this.session!=t){this.curOp&&this.endOperation(),this.curOp={};var e=this.session;if(e){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange);var n=this.session.getSelection();n.off("changeCursor",this.$onCursorChange),n.off("changeSelection",this.$onSelectionChange)}this.session=t,t?(this.$onDocumentChange=this.onDocumentChange.bind(this),t.on("change",this.$onDocumentChange),this.renderer.setSession(t),this.$onChangeMode=this.onChangeMode.bind(this),t.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),t.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),t.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),t.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),t.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),t.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=t.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.$blockScrolling+=1,this.onCursorChange(),this.$blockScrolling-=1,this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(t)),this._signal("changeSession",{session:t,oldSession:e}),this.curOp=null,e&&e._signal("changeEditor",{oldEditor:this}),t&&t._signal("changeEditor",{editor:this})}},this.getSession=function(){return this.session},this.setValue=function(t,e){return this.session.doc.setValue(t),e?1==e?this.navigateFileEnd():-1==e&&this.navigateFileStart():this.selectAll(),t},this.getValue=function(){return this.session.getValue()},this.getSelection=function(){return this.selection},this.resize=function(t){this.renderer.onResize(t)},this.setTheme=function(t,e){this.renderer.setTheme(t,e)},this.getTheme=function(){return this.renderer.getTheme()},this.setStyle=function(t){this.renderer.setStyle(t)},this.unsetStyle=function(t){this.renderer.unsetStyle(t)},this.getFontSize=function(){return this.getOption("fontSize")||r.computedStyle(this.container,"fontSize")},this.setFontSize=function(t){this.setOption("fontSize",t)},this.$highlightBrackets=function(){if(this.session.$bracketHighlight&&(this.session.removeMarker(this.session.$bracketHighlight),this.session.$bracketHighlight=null),!this.$highlightPending){var t=this;this.$highlightPending=!0,setTimeout(function(){t.$highlightPending=!1;var e=t.session;if(e&&e.bgTokenizer){var n=e.findMatchingBracket(t.getCursorPosition());if(n)var i=new f(n.row,n.column,n.row,n.column+1);else if(e.$mode.getMatching)var i=e.$mode.getMatching(t.session);i&&(e.$bracketHighlight=e.addMarker(i,"ace_bracket","text"))}},50)}},this.$highlightTags=function(){if(!this.$highlightTagPending){var t=this;this.$highlightTagPending=!0,setTimeout(function(){t.$highlightTagPending=!1;var e=t.session;if(e&&e.bgTokenizer){var n=t.getCursorPosition(),i=new y(t.session,n.row,n.column),r=i.getCurrentToken();if(!r||!/\b(?:tag-open|tag-name)/.test(r.type))return e.removeMarker(e.$tagHighlight),void(e.$tagHighlight=null);if(-1==r.type.indexOf("tag-open")||(r=i.stepForward())){var o=r.value,s=0,a=i.stepBackward();if("<"==a.value){do a=r,r=i.stepForward(),r&&r.value===o&&-1!==r.type.indexOf("tag-name")&&("<"===a.value?s++:"</"===a.value&&s--);while(r&&s>=0)}else{do r=a,a=i.stepBackward(),r&&r.value===o&&-1!==r.type.indexOf("tag-name")&&("<"===a.value?s++:"</"===a.value&&s--);while(a&&0>=s);i.stepForward()}if(!r)return e.removeMarker(e.$tagHighlight),void(e.$tagHighlight=null);var l=i.getCurrentTokenRow(),u=i.getCurrentTokenColumn(),c=new f(l,u,l,u+r.value.length);e.$tagHighlight&&0!==c.compareRange(e.$backMarkers[e.$tagHighlight].range)&&(e.removeMarker(e.$tagHighlight),e.$tagHighlight=null),c&&!e.$tagHighlight&&(e.$tagHighlight=e.addMarker(c,"ace_bracket","text"))}}},50)}},this.focus=function(){var t=this;setTimeout(function(){t.textInput.focus()}),this.textInput.focus()},this.isFocused=function(){return this.textInput.isFocused()},this.blur=function(){this.textInput.blur()},this.onFocus=function(t){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",t))},this.onBlur=function(t){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",t))},this.$cursorChange=function(){this.renderer.updateCursor()},this.onDocumentChange=function(t){var e=this.session.$useWrapMode,n=t.start.row==t.end.row?t.end.row:1/0;this.renderer.updateLines(t.start.row,n,e),this._signal("change",t),this.$cursorChange(),this.$updateHighlightActiveLine()},this.onTokenizerUpdate=function(t){var e=t.data;this.renderer.updateLines(e.first,e.last)},this.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},this.onCursorChange=function(){this.$cursorChange(),this.$blockScrolling||(v.warn("Automatically scrolling cursor into view after selection change","this will be disabled in the next version","set editor.$blockScrolling = Infinity to disable this message"),this.renderer.scrollCursorIntoView()),this.$highlightBrackets(),this.$highlightTags(),this.$updateHighlightActiveLine(),this._signal("changeSelection")},this.$updateHighlightActiveLine=function(){var t,e=this.getSession();if(this.$highlightActiveLine&&("line"==this.$selectionStyle&&this.selection.isMultiLine()||(t=this.getCursorPosition()),!this.renderer.$maxLines||1!==this.session.getLength()||this.renderer.$minLines>1||(t=!1)),e.$highlightLineMarker&&!t)e.removeMarker(e.$highlightLineMarker.id),
e.$highlightLineMarker=null;else if(!e.$highlightLineMarker&&t){var n=new f(t.row,t.column,t.row,1/0);n.id=e.addMarker(n,"ace_active-line","screenLine"),e.$highlightLineMarker=n}else t&&(e.$highlightLineMarker.start.row=t.row,e.$highlightLineMarker.end.row=t.row,e.$highlightLineMarker.start.column=t.column,e._signal("changeBackMarker"))},this.onSelectionChange=function(t){var e=this.session;if(e.$selectionMarker&&e.removeMarker(e.$selectionMarker),e.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var n=this.selection.getRange(),i=this.getSelectionStyle();e.$selectionMarker=e.addMarker(n,"ace_selection",i)}var r=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(r),this._signal("changeSelection")},this.$getSelectionHighLightRegexp=function(){var t=this.session,e=this.getSelectionRange();if(!e.isEmpty()&&!e.isMultiLine()){var n=e.start.column-1,i=e.end.column+1,r=t.getLine(e.start.row),o=r.length,s=r.substring(Math.max(n,0),Math.min(i,o));if(!(n>=0&&/^[\w\d]/.test(s)||o>=i&&/[\w\d]$/.test(s))&&(s=r.substring(e.start.column,e.end.column),/^[\w\d]+$/.test(s))){var a=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:s});return a}}},this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},this.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},this.onChangeMode=function(t){this.renderer.updateText(),this._emit("changeMode",t)},this.onChangeWrapLimit=function(){this.renderer.updateFull()},this.onChangeWrapMode=function(){this.renderer.onResize(!0)},this.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},this.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},this.getCopyText=function(){var t=this.getSelectedText();return this._signal("copy",t),t},this.onCopy=function(){this.commands.exec("copy",this)},this.onCut=function(){this.commands.exec("cut",this)},this.onPaste=function(t,e){var n={text:t,event:e};this.commands.exec("paste",this,n)},this.$handlePaste=function(t){"string"==typeof t&&(t={text:t}),this._signal("paste",t);var e=t.text;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)this.insert(e);else{var n=e.split(/\r\n|\r|\n/),i=this.selection.rangeList.ranges;if(n.length>i.length||n.length<2||!n[1])return this.commands.exec("insertstring",this,e);for(var r=i.length;r--;){var o=i[r];o.isEmpty()||this.session.remove(o),this.session.insert(o.start,n[r])}}},this.execCommand=function(t,e){return this.commands.exec(t,this,e)},this.insert=function(t,e){var n=this.session,i=n.getMode(),r=this.getCursorPosition();if(this.getBehavioursEnabled()&&!e){var o=i.transformAction(n.getState(r.row),"insertion",this,n,t);o&&(t!==o.text&&(this.session.mergeUndoDeltas=!1,this.$mergeNextCommand=!1),t=o.text)}if("	"==t&&(t=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()){var s=new f.fromPoints(r,r);s.end.column+=t.length,this.session.remove(s)}}else{var s=this.getSelectionRange();r=this.session.remove(s),this.clearSelection()}if("\n"==t||"\r\n"==t){var a=n.getLine(r.row);if(r.column>a.search(/\S|$/)){var l=a.substr(r.column).search(/\S|$/);n.doc.removeInLine(r.row,r.column,r.column+l)}}this.clearSelection();var u=r.column,c=n.getState(r.row),a=n.getLine(r.row),h=i.checkOutdent(c,a,t);n.insert(r,t);if(o&&o.selection&&(2==o.selection.length?this.selection.setSelectionRange(new f(r.row,u+o.selection[0],r.row,u+o.selection[1])):this.selection.setSelectionRange(new f(r.row+o.selection[0],o.selection[1],r.row+o.selection[2],o.selection[3]))),n.getDocument().isNewLine(t)){var d=i.getNextLineIndent(c,a.slice(0,r.column),n.getTabString());n.insert({row:r.row+1,column:0},d)}h&&i.autoOutdent(c,n,r.row)},this.onTextInput=function(t){this.keyBinding.onTextInput(t)},this.onCommandKey=function(t,e,n){this.keyBinding.onCommandKey(t,e,n)},this.setOverwrite=function(t){this.session.setOverwrite(t)},this.getOverwrite=function(){return this.session.getOverwrite()},this.toggleOverwrite=function(){this.session.toggleOverwrite()},this.setScrollSpeed=function(t){this.setOption("scrollSpeed",t)},this.getScrollSpeed=function(){return this.getOption("scrollSpeed")},this.setDragDelay=function(t){this.setOption("dragDelay",t)},this.getDragDelay=function(){return this.getOption("dragDelay")},this.setSelectionStyle=function(t){this.setOption("selectionStyle",t)},this.getSelectionStyle=function(){return this.getOption("selectionStyle")},this.setHighlightActiveLine=function(t){this.setOption("highlightActiveLine",t)},this.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},this.setHighlightGutterLine=function(t){this.setOption("highlightGutterLine",t)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.setHighlightSelectedWord=function(t){this.setOption("highlightSelectedWord",t)},this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},this.setAnimatedScroll=function(t){this.renderer.setAnimatedScroll(t)},this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},this.setShowInvisibles=function(t){this.renderer.setShowInvisibles(t)},this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},this.setDisplayIndentGuides=function(t){this.renderer.setDisplayIndentGuides(t)},this.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},this.setShowPrintMargin=function(t){this.renderer.setShowPrintMargin(t)},this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},this.setPrintMarginColumn=function(t){this.renderer.setPrintMarginColumn(t)},this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},this.setReadOnly=function(t){this.setOption("readOnly",t)},this.getReadOnly=function(){return this.getOption("readOnly")},this.setBehavioursEnabled=function(t){this.setOption("behavioursEnabled",t)},this.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},this.setWrapBehavioursEnabled=function(t){this.setOption("wrapBehavioursEnabled",t)},this.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},this.setShowFoldWidgets=function(t){this.setOption("showFoldWidgets",t)},this.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},this.setFadeFoldWidgets=function(t){this.setOption("fadeFoldWidgets",t)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.remove=function(t){this.selection.isEmpty()&&("left"==t?this.selection.selectLeft():this.selection.selectRight());var e=this.getSelectionRange();if(this.getBehavioursEnabled()){var n=this.session,i=n.getState(e.start.row),r=n.getMode().transformAction(i,"deletion",this,n,e);if(0===e.end.column){var o=n.getTextRange(e);if("\n"==o[o.length-1]){var s=n.getLine(e.end.row);/^\s+$/.test(s)&&(e.end.column=s.length)}}r&&(e=r)}this.session.remove(e),this.clearSelection()},this.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var t=this.getSelectionRange();t.start.column==t.end.column&&t.start.row==t.end.row&&(t.end.column=0,t.end.row++),this.session.remove(t),this.clearSelection()},this.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var t=this.getCursorPosition();this.insert("\n"),this.moveCursorToPosition(t)},this.transposeLetters=function(){if(this.selection.isEmpty()){var t=this.getCursorPosition(),e=t.column;if(0!==e){var n,i,r=this.session.getLine(t.row);e<r.length?(n=r.charAt(e)+r.charAt(e-1),i=new f(t.row,e-1,t.row,e+1)):(n=r.charAt(e-1)+r.charAt(e-2),i=new f(t.row,e-2,t.row,e)),this.session.replace(i,n)}}},this.toLowerCase=function(){var t=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var e=this.getSelectionRange(),n=this.session.getTextRange(e);this.session.replace(e,n.toLowerCase()),this.selection.setSelectionRange(t)},this.toUpperCase=function(){var t=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var e=this.getSelectionRange(),n=this.session.getTextRange(e);this.session.replace(e,n.toUpperCase()),this.selection.setSelectionRange(t)},this.indent=function(){var t=this.session,e=this.getSelectionRange();if(e.start.row<e.end.row){var n=this.$getSelectedRows();return void t.indentRows(n.first,n.last,"	")}if(e.start.column<e.end.column){var i=t.getTextRange(e);if(!/^\s+$/.test(i)){var n=this.$getSelectedRows();return void t.indentRows(n.first,n.last,"	")}}var r=t.getLine(e.start.row),s=e.start,a=t.getTabSize(),l=t.documentToScreenColumn(s.row,s.column);if(this.session.getUseSoftTabs())var u=a-l%a,c=o.stringRepeat(" ",u);else{for(var u=l%a;" "==r[e.start.column]&&u;)e.start.column--,u--;this.selection.setSelectionRange(e),c="	"}return this.insert(c)},this.blockIndent=function(){var t=this.$getSelectedRows();this.session.indentRows(t.first,t.last,"	")},this.blockOutdent=function(){var t=this.session.getSelection();this.session.outdentRows(t.getRange())},this.sortLines=function(){var t=this.$getSelectedRows(),e=this.session,n=[];for(r=t.first;r<=t.last;r++)n.push(e.getLine(r));n.sort(function(t,e){return t.toLowerCase()<e.toLowerCase()?-1:t.toLowerCase()>e.toLowerCase()?1:0});for(var i=new f(0,0,0,0),r=t.first;r<=t.last;r++){var o=e.getLine(r);i.start.row=r,i.end.row=r,i.end.column=o.length,e.replace(i,n[r-t.first])}},this.toggleCommentLines=function(){var t=this.session.getState(this.getCursorPosition().row),e=this.$getSelectedRows();this.session.getMode().toggleCommentLines(t,this.session,e.first,e.last)},this.toggleBlockComment=function(){var t=this.getCursorPosition(),e=this.session.getState(t.row),n=this.getSelectionRange();this.session.getMode().toggleBlockComment(e,this.session,n,t)},this.getNumberAt=function(t,e){var n=/[\-]?[0-9]+(?:\.[0-9]+)?/g;n.lastIndex=0;for(var i=this.session.getLine(t);n.lastIndex<e;){var r=n.exec(i);if(r.index<=e&&r.index+r[0].length>=e){var o={value:r[0],start:r.index,end:r.index+r[0].length};return o}}return null},this.modifyNumber=function(t){var e=this.selection.getCursor().row,n=this.selection.getCursor().column,i=new f(e,n-1,e,n),r=this.session.getTextRange(i);if(!isNaN(parseFloat(r))&&isFinite(r)){var o=this.getNumberAt(e,n);if(o){var s=o.value.indexOf(".")>=0?o.start+o.value.indexOf(".")+1:o.end,a=o.start+o.value.length-s,l=parseFloat(o.value);l*=Math.pow(10,a),t*=s!==o.end&&s>n?Math.pow(10,o.end-n-1):Math.pow(10,o.end-n),l+=t,l/=Math.pow(10,a);var u=l.toFixed(a),c=new f(e,o.start,e,o.end);this.session.replace(c,u),this.moveCursorTo(e,Math.max(o.start+1,n+u.length-o.value.length))}}},this.removeLines=function(){var t=this.$getSelectedRows();this.session.removeFullLines(t.first,t.last),this.clearSelection()},this.duplicateSelection=function(){var t=this.selection,e=this.session,n=t.getRange(),i=t.isBackwards();if(n.isEmpty()){var r=n.start.row;e.duplicateLines(r,r)}else{var o=i?n.start:n.end,s=e.insert(o,e.getTextRange(n),!1);n.start=o,n.end=s,t.setSelectionRange(n,i)}},this.moveLinesDown=function(){this.$moveLines(1,!1)},this.moveLinesUp=function(){this.$moveLines(-1,!1)},this.moveText=function(t,e,n){return this.session.moveText(t,e,n)},this.copyLinesUp=function(){this.$moveLines(-1,!0)},this.copyLinesDown=function(){this.$moveLines(1,!0)},this.$moveLines=function(t,e){var n,i,r=this.selection;if(!r.inMultiSelectMode||this.inVirtualSelectionMode){var o=r.toOrientedRange();n=this.$getSelectedRows(o),i=this.session.$moveLines(n.first,n.last,e?0:t),e&&-1==t&&(i=0),o.moveBy(i,0),r.fromOrientedRange(o)}else{var s=r.rangeList.ranges;r.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var a=0,l=0,u=s.length,c=0;u>c;c++){var h=c;s[c].moveBy(a,0),n=this.$getSelectedRows(s[c]);for(var d=n.first,f=n.last;++c<u;){l&&s[c].moveBy(l,0);var p=this.$getSelectedRows(s[c]);if(e&&p.first!=f)break;if(!e&&p.first>f+1)break;f=p.last}for(c--,a=this.session.$moveLines(d,f,e?0:t),e&&-1==t&&(h=c+1);c>=h;)s[h].moveBy(a,0),h++;e||(a=0),l+=a}r.fromOrientedRange(r.ranges[0]),r.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},this.$getSelectedRows=function(t){return t=(t||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(t.start.row),last:this.session.getRowFoldEnd(t.end.row)}},this.onCompositionStart=function(t){this.renderer.showComposition(this.getCursorPosition())},this.onCompositionUpdate=function(t){this.renderer.setCompositionText(t)},this.onCompositionEnd=function(){this.renderer.hideComposition()},this.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},this.isRowVisible=function(t){return t>=this.getFirstVisibleRow()&&t<=this.getLastVisibleRow()},this.isRowFullyVisible=function(t){return t>=this.renderer.getFirstFullyVisibleRow()&&t<=this.renderer.getLastFullyVisibleRow()},this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},this.$moveByPage=function(t,e){var n=this.renderer,i=this.renderer.layerConfig,r=t*Math.floor(i.height/i.lineHeight);this.$blockScrolling++,e===!0?this.selection.$moveSelection(function(){this.moveCursorBy(r,0)}):e===!1&&(this.selection.moveCursorBy(r,0),this.selection.clearSelection()),this.$blockScrolling--;var o=n.scrollTop;n.scrollBy(0,r*i.lineHeight),null!=e&&n.scrollCursorIntoView(null,.5),n.animateScrolling(o)},this.selectPageDown=function(){this.$moveByPage(1,!0)},this.selectPageUp=function(){this.$moveByPage(-1,!0)},this.gotoPageDown=function(){this.$moveByPage(1,!1)},this.gotoPageUp=function(){this.$moveByPage(-1,!1)},this.scrollPageDown=function(){this.$moveByPage(1)},this.scrollPageUp=function(){this.$moveByPage(-1)},this.scrollToRow=function(t){this.renderer.scrollToRow(t)},this.scrollToLine=function(t,e,n,i){this.renderer.scrollToLine(t,e,n,i)},this.centerSelection=function(){var t=this.getSelectionRange(),e={row:Math.floor(t.start.row+(t.end.row-t.start.row)/2),column:Math.floor(t.start.column+(t.end.column-t.start.column)/2)};this.renderer.alignCursor(e,.5)},this.getCursorPosition=function(){return this.selection.getCursor()},this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},this.getSelectionRange=function(){return this.selection.getRange()},this.selectAll=function(){this.$blockScrolling+=1,this.selection.selectAll(),this.$blockScrolling-=1},this.clearSelection=function(){this.selection.clearSelection()},this.moveCursorTo=function(t,e){this.selection.moveCursorTo(t,e)},this.moveCursorToPosition=function(t){this.selection.moveCursorToPosition(t)},this.jumpToMatching=function(t,e){var n=this.getCursorPosition(),i=new y(this.session,n.row,n.column),r=i.getCurrentToken(),o=r||i.stepForward();if(o){var s,a,l=!1,u={},c=n.column-o.start,h={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(o.value.match(/[{}()\[\]]/g)){for(;c<o.value.length&&!l;c++)if(h[o.value[c]])switch(a=h[o.value[c]]+"."+o.type.replace("rparen","lparen"),isNaN(u[a])&&(u[a]=0),o.value[c]){case"(":case"[":case"{":u[a]++;break;case")":case"]":case"}":u[a]--,-1===u[a]&&(s="bracket",l=!0)}}else o&&-1!==o.type.indexOf("tag-name")&&(isNaN(u[o.value])&&(u[o.value]=0),"<"===r.value?u[o.value]++:"</"===r.value&&u[o.value]--,-1===u[o.value]&&(s="tag",l=!0));l||(r=o,o=i.stepForward(),c=0)}while(o&&!l);if(s){var d,p;if("bracket"===s)d=this.session.getBracketRange(n),d||(d=new f(i.getCurrentTokenRow(),i.getCurrentTokenColumn()+c-1,i.getCurrentTokenRow(),i.getCurrentTokenColumn()+c-1),p=d.start,(e||p.row===n.row&&Math.abs(p.column-n.column)<2)&&(d=this.session.getBracketRange(p)));else if("tag"===s){if(!o||-1===o.type.indexOf("tag-name"))return;var g=o.value;if(d=new f(i.getCurrentTokenRow(),i.getCurrentTokenColumn()-2,i.getCurrentTokenRow(),i.getCurrentTokenColumn()-2),0===d.compare(n.row,n.column)){l=!1;do o=r,r=i.stepBackward(),r&&(-1!==r.type.indexOf("tag-close")&&d.setEnd(i.getCurrentTokenRow(),i.getCurrentTokenColumn()+1),o.value===g&&-1!==o.type.indexOf("tag-name")&&("<"===r.value?u[g]++:"</"===r.value&&u[g]--,0===u[g]&&(l=!0)));while(r&&!l)}o&&o.type.indexOf("tag-name")&&(p=d.start,p.row==n.row&&Math.abs(p.column-n.column)<2&&(p=d.end))}p=d&&d.cursor||p,p&&(t?d&&e?this.selection.setRange(d):d&&d.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(p.row,p.column):this.selection.moveTo(p.row,p.column))}}},this.gotoLine=function(t,e,n){this.selection.clearSelection(),this.session.unfold({row:t-1,column:e||0}),this.$blockScrolling+=1,this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(t-1,e||0),this.$blockScrolling-=1,this.isRowFullyVisible(t-1)||this.scrollToLine(t-1,!0,n)},this.navigateTo=function(t,e){this.selection.moveTo(t,e)},this.navigateUp=function(t){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var e=this.selection.anchor.getPosition();return this.moveCursorToPosition(e)}this.selection.clearSelection(),this.selection.moveCursorBy(-t||-1,0)},this.navigateDown=function(t){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var e=this.selection.anchor.getPosition();return this.moveCursorToPosition(e)}this.selection.clearSelection(),this.selection.moveCursorBy(t||1,0)},this.navigateLeft=function(t){if(this.selection.isEmpty())for(t=t||1;t--;)this.selection.moveCursorLeft();else{var e=this.getSelectionRange().start;this.moveCursorToPosition(e)}this.clearSelection()},this.navigateRight=function(t){if(this.selection.isEmpty())for(t=t||1;t--;)this.selection.moveCursorRight();else{var e=this.getSelectionRange().end;this.moveCursorToPosition(e)}this.clearSelection()},this.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},this.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},this.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},this.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},this.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},this.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},this.replace=function(t,e){e&&this.$search.set(e);var n=this.$search.find(this.session),i=0;return n?(this.$tryReplace(n,t)&&(i=1),null!==n&&(this.selection.setSelectionRange(n),this.renderer.scrollSelectionIntoView(n.start,n.end)),i):i},this.replaceAll=function(t,e){e&&this.$search.set(e);var n=this.$search.findAll(this.session),i=0;if(!n.length)return i;this.$blockScrolling+=1;var r=this.getSelectionRange();this.selection.moveTo(0,0);for(var o=n.length-1;o>=0;--o)this.$tryReplace(n[o],t)&&i++;return this.selection.setSelectionRange(r),this.$blockScrolling-=1,i},this.$tryReplace=function(t,e){var n=this.session.getTextRange(t);return e=this.$search.replace(n,e),null!==e?(t.end=this.session.replace(t,e),t):null},this.getLastSearchOptions=function(){return this.$search.getOptions()},this.find=function(t,e,n){e||(e={}),"string"==typeof t||t instanceof RegExp?e.needle=t:"object"==typeof t&&i.mixin(e,t);var r=this.selection.getRange();null==e.needle&&(t=this.session.getTextRange(r)||this.$search.$options.needle,t||(r=this.session.getWordRange(r.start.row,r.start.column),t=this.session.getTextRange(r)),this.$search.set({needle:t})),this.$search.set(e),e.start||this.$search.set({start:r});var o=this.$search.find(this.session);return e.preventScroll?o:o?(this.revealRange(o,n),o):(e.backwards?r.start=r.end:r.end=r.start,void this.selection.setRange(r))},this.findNext=function(t,e){this.find({skipCurrent:!0,backwards:!1},t,e)},this.findPrevious=function(t,e){this.find(t,{skipCurrent:!0,backwards:!0},e)},this.revealRange=function(t,e){this.$blockScrolling+=1,this.session.unfold(t),this.selection.setSelectionRange(t),this.$blockScrolling-=1;var n=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(t.start,t.end,.5),e!==!1&&this.renderer.animateScrolling(n)},this.undo=function(){this.$blockScrolling++,this.session.getUndoManager().undo(),this.$blockScrolling--,this.renderer.scrollCursorIntoView(null,.5)},this.redo=function(){this.$blockScrolling++,this.session.getUndoManager().redo(),this.$blockScrolling--,this.renderer.scrollCursorIntoView(null,.5)},this.destroy=function(){this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy()},this.setAutoScrollEditorIntoView=function(t){if(t){var e,n=this,i=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var r=this.$scrollAnchor;r.style.cssText="position:absolute",this.container.insertBefore(r,this.container.firstChild);var o=this.on("changeSelection",function(){i=!0}),s=this.renderer.on("beforeRender",function(){i&&(e=n.renderer.container.getBoundingClientRect())}),a=this.renderer.on("afterRender",function(){if(i&&e&&(n.isFocused()||n.searchBox&&n.searchBox.isFocused())){var t=n.renderer,o=t.$cursorLayer.$pixelPos,s=t.layerConfig,a=o.top-s.offset;i=o.top>=0&&a+e.top<0?!0:o.top<s.height&&o.top+e.top+s.lineHeight>window.innerHeight?!1:null,null!=i&&(r.style.top=a+"px",r.style.left=o.left+"px",r.style.height=s.lineHeight+"px",r.scrollIntoView(i)),i=e=null}});this.setAutoScrollEditorIntoView=function(t){t||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",o),this.renderer.off("afterRender",a),this.renderer.off("beforeRender",s))}}},this.$resetCursorStyle=function(){var t=this.$cursorStyle||"ace",e=this.renderer.$cursorLayer;e&&(e.setSmoothBlinking(/smooth/.test(t)),e.isBlinking=!this.$readOnly&&"wide"!=t,r.setCssClass(e.element,"ace_slim-cursors",/slim/.test(t)))}}).call(w.prototype),v.defineOptions(w.prototype,"editor",{selectionStyle:{set:function(t){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:t})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(t){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(t){this.$resetCursorStyle()},initialValue:!1},cursorStyle:{set:function(t){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},autoScrollEditorIntoView:{set:function(t){this.setAutoScrollEditorIntoView(t)}},keyboardHandler:{set:function(t){this.setKeyboardHandler(t)},get:function(){return this.keybindingId},handlesSet:!0},hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",showLineNumbers:"renderer",showGutter:"renderer",displayIndentGuides:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"}),e.Editor=w}),ace.define("ace/undomanager",["require","exports","module"],function(t,e,n){"use strict";var i=function(){this.reset()};(function(){function t(t){return{action:t.action,start:t.start,end:t.end,lines:1==t.lines.length?null:t.lines,text:1==t.lines.length?t.lines[0]:null}}function e(t){return{action:t.action,start:t.start,end:t.end,lines:t.lines||[t.text]}}function n(t,e){for(var n=new Array(t.length),i=0;i<t.length;i++){for(var r=t[i],o={group:r.group,deltas:new Array(r.length)},s=0;s<r.deltas.length;s++){var a=r.deltas[s];o.deltas[s]=e(a)}n[i]=o}return n}this.execute=function(t){var e=t.args[0];this.$doc=t.args[1],t.merge&&this.hasUndo()&&(this.dirtyCounter--,e=this.$undoStack.pop().concat(e)),this.$undoStack.push(e),this.$redoStack=[],this.dirtyCounter<0&&(this.dirtyCounter=NaN),this.dirtyCounter++},this.undo=function(t){var e=this.$undoStack.pop(),n=null;return e&&(n=this.$doc.undoChanges(e,t),this.$redoStack.push(e),this.dirtyCounter--),n},this.redo=function(t){var e=this.$redoStack.pop(),n=null;return e&&(n=this.$doc.redoChanges(this.$deserializeDeltas(e),t),this.$undoStack.push(e),this.dirtyCounter++),n},this.reset=function(){this.$undoStack=[],this.$redoStack=[],this.dirtyCounter=0},this.hasUndo=function(){return this.$undoStack.length>0},this.hasRedo=function(){return this.$redoStack.length>0},this.markClean=function(){this.dirtyCounter=0},this.isClean=function(){return 0===this.dirtyCounter},this.$serializeDeltas=function(e){return n(e,t)},this.$deserializeDeltas=function(t){return n(t,e)}}).call(i.prototype),e.UndoManager=i}),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter"],function(t,e,n){"use strict";var i=t("../lib/dom"),r=t("../lib/oop"),o=t("../lib/lang"),s=t("../lib/event_emitter").EventEmitter,a=function(t){this.element=i.createElement("div"),this.element.className="ace_layer ace_gutter-layer",t.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$cells=[]};(function(){r.implement(this,s),this.setSession=function(t){this.session&&this.session.removeEventListener("change",this.$updateAnnotations),this.session=t,t&&t.on("change",this.$updateAnnotations)},this.addGutterDecoration=function(t,e){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(t,e)},this.removeGutterDecoration=function(t,e){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(t,e)},this.setAnnotations=function(t){this.$annotations=[];for(var e=0;e<t.length;e++){var n=t[e],i=n.row,r=this.$annotations[i];r||(r=this.$annotations[i]={text:[]});var s=n.text;s=s?o.escapeHTML(s):n.html||"",-1===r.text.indexOf(s)&&r.text.push(s);var a=n.type;"error"==a?r.className=" ace_error":"warning"==a&&" ace_error"!=r.className?r.className=" ace_warning":"info"!=a||r.className||(r.className=" ace_info")}},this.$updateAnnotations=function(t){if(this.$annotations.length){var e=t.start.row,n=t.end.row-e;if(0===n);else if("remove"==t.action)this.$annotations.splice(e,n+1,null);else{var i=new Array(n+1);i.unshift(e,1),this.$annotations.splice.apply(this.$annotations,i)}}},this.update=function(t){for(var e=this.session,n=t.firstRow,r=Math.min(t.lastRow+t.gutterOffset,e.getLength()-1),o=e.getNextFoldLine(n),s=o?o.start.row:1/0,a=this.$showFoldWidgets&&e.foldWidgets,l=e.$breakpoints,u=e.$decorations,c=e.$firstLineNumber,h=0,d=e.gutterRenderer||this.$renderer,f=null,p=-1,g=n;;){if(g>s&&(g=o.end.row+1,o=e.getNextFoldLine(g,o),s=o?o.start.row:1/0),g>r){for(;this.$cells.length>p+1;)f=this.$cells.pop(),this.element.removeChild(f.element);break}f=this.$cells[++p],f||(f={element:null,textNode:null,foldWidget:null},f.element=i.createElement("div"),f.textNode=document.createTextNode(""),f.element.appendChild(f.textNode),this.element.appendChild(f.element),this.$cells[p]=f);var m="ace_gutter-cell ";l[g]&&(m+=l[g]),u[g]&&(m+=u[g]),this.$annotations[g]&&(m+=this.$annotations[g].className),f.element.className!=m&&(f.element.className=m);var v=e.getRowLength(g)*t.lineHeight+"px";if(v!=f.element.style.height&&(f.element.style.height=v),a){var y=a[g];null==y&&(y=a[g]=e.getFoldWidget(g))}if(y){f.foldWidget||(f.foldWidget=i.createElement("span"),f.element.appendChild(f.foldWidget));var m="ace_fold-widget ace_"+y;m+="start"==y&&g==s&&g<o.end.row?" ace_closed":" ace_open",f.foldWidget.className!=m&&(f.foldWidget.className=m);var v=t.lineHeight+"px";f.foldWidget.style.height!=v&&(f.foldWidget.style.height=v)}else f.foldWidget&&(f.element.removeChild(f.foldWidget),f.foldWidget=null);var w=h=d?d.getText(e,g):g+c;w!=f.textNode.data&&(f.textNode.data=w),g++}this.element.style.height=t.minHeight+"px",(this.$fixedWidth||e.$useWrapMode)&&(h=e.getLength()+c);var b=d?d.getWidth(e,h,t):h.toString().length*t.characterWidth,A=this.$padding||this.$computePadding();b+=A.left+A.right,b===this.gutterWidth||isNaN(b)||(this.gutterWidth=b,this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._emit("changeGutterWidth",b))},this.$fixedWidth=!1,this.$showLineNumbers=!0,this.$renderer="",this.setShowLineNumbers=function(t){this.$renderer=!t&&{getWidth:function(){return""},getText:function(){return""}}},this.getShowLineNumbers=function(){return this.$showLineNumbers},this.$showFoldWidgets=!0,this.setShowFoldWidgets=function(t){t?i.addCssClass(this.element,"ace_folding-enabled"):i.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=t,this.$padding=null},this.getShowFoldWidgets=function(){return this.$showFoldWidgets},this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var t=i.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=parseInt(t.paddingLeft)+1||0,this.$padding.right=parseInt(t.paddingRight)||0,this.$padding},this.getRegion=function(t){var e=this.$padding||this.$computePadding(),n=this.element.getBoundingClientRect();return t.x<e.left+n.left?"markers":this.$showFoldWidgets&&t.x>n.right-e.right?"foldWidgets":void 0}}).call(a.prototype),e.Gutter=a}),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(t,e,n){"use strict";var i=t("../range").Range,r=t("../lib/dom"),o=function(t){this.element=r.createElement("div"),this.element.className="ace_layer ace_marker-layer",t.appendChild(this.element)};(function(){function t(t,e,n,i){return(t?1:0)|(e?2:0)|(n?4:0)|(i?8:0)}this.$padding=0,this.setPadding=function(t){this.$padding=t},this.setSession=function(t){this.session=t},this.setMarkers=function(t){this.markers=t},this.update=function(t){var t=t||this.config;if(t){this.config=t;var e=[];for(var n in this.markers){var i=this.markers[n];if(i.range){var r=i.range.clipRows(t.firstRow,t.lastRow);if(!r.isEmpty())if(r=r.toScreenRange(this.session),i.renderer){var o=this.$getTop(r.start.row,t),s=this.$padding+r.start.column*t.characterWidth;i.renderer(e,r,s,o,t)}else"fullLine"==i.type?this.drawFullLineMarker(e,r,i.clazz,t):"screenLine"==i.type?this.drawScreenLineMarker(e,r,i.clazz,t):r.isMultiLine()?"text"==i.type?this.drawTextMarker(e,r,i.clazz,t):this.drawMultiLineMarker(e,r,i.clazz,t):this.drawSingleLineMarker(e,r,i.clazz+" ace_start ace_br15",t)}else i.update(e,this,this.session,t)}this.element.innerHTML=e.join("")}},this.$getTop=function(t,e){return(t-e.firstRowScreen)*e.lineHeight},this.drawTextMarker=function(e,n,r,o,s){for(var a=this.session,l=n.start.row,u=n.end.row,c=l,h=0,d=0,f=a.getScreenLastRowColumn(c),p=new i(c,n.start.column,c,d);u>=c;c++)p.start.row=p.end.row=c,p.start.column=c==l?n.start.column:a.getRowWrapIndent(c),p.end.column=f,h=d,d=f,f=u>c+1?a.getScreenLastRowColumn(c+1):c==u?0:n.end.column,this.drawSingleLineMarker(e,p,r+(c==l?" ace_start":"")+" ace_br"+t(c==l||c==l+1&&n.start.column,d>h,d>f,c==u),o,c==u?0:1,s);
},this.drawMultiLineMarker=function(t,e,n,i,r){var o=this.$padding,s=i.lineHeight,a=this.$getTop(e.start.row,i),l=o+e.start.column*i.characterWidth;r=r||"",t.push("<div class='",n," ace_br1 ace_start' style='","height:",s,"px;","right:0;","top:",a,"px;","left:",l,"px;",r,"'></div>"),a=this.$getTop(e.end.row,i);var u=e.end.column*i.characterWidth;if(t.push("<div class='",n," ace_br12' style='","height:",s,"px;","width:",u,"px;","top:",a,"px;","left:",o,"px;",r,"'></div>"),s=(e.end.row-e.start.row-1)*i.lineHeight,!(0>=s)){a=this.$getTop(e.start.row+1,i);var c=(e.start.column?1:0)|(e.end.column?0:8);t.push("<div class='",n,c?" ace_br"+c:"","' style='","height:",s,"px;","right:0;","top:",a,"px;","left:",o,"px;",r,"'></div>")}},this.drawSingleLineMarker=function(t,e,n,i,r,o){var s=i.lineHeight,a=(e.end.column+(r||0)-e.start.column)*i.characterWidth,l=this.$getTop(e.start.row,i),u=this.$padding+e.start.column*i.characterWidth;t.push("<div class='",n,"' style='","height:",s,"px;","width:",a,"px;","top:",l,"px;","left:",u,"px;",o||"","'></div>")},this.drawFullLineMarker=function(t,e,n,i,r){var o=this.$getTop(e.start.row,i),s=i.lineHeight;e.start.row!=e.end.row&&(s+=this.$getTop(e.end.row,i)-o),t.push("<div class='",n,"' style='","height:",s,"px;","top:",o,"px;","left:0;right:0;",r||"","'></div>")},this.drawScreenLineMarker=function(t,e,n,i,r){var o=this.$getTop(e.start.row,i),s=i.lineHeight;t.push("<div class='",n,"' style='","height:",s,"px;","top:",o,"px;","left:0;right:0;",r||"","'></div>")}}).call(o.prototype),e.Marker=o}),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/lib/event_emitter"],function(t,e,n){"use strict";var i=t("../lib/oop"),r=t("../lib/dom"),o=t("../lib/lang"),s=(t("../lib/useragent"),t("../lib/event_emitter").EventEmitter),a=function(t){this.element=r.createElement("div"),this.element.className="ace_layer ace_text-layer",t.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this)};(function(){i.implement(this,s),this.EOF_CHAR="",this.EOL_CHAR_LF="",this.EOL_CHAR_CRLF="",this.EOL_CHAR=this.EOL_CHAR_LF,this.TAB_CHAR="",this.SPACE_CHAR="",this.$padding=0,this.$updateEolChar=function(){var t="\n"==this.session.doc.getNewLineCharacter()?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;return this.EOL_CHAR!=t?(this.EOL_CHAR=t,!0):void 0},this.setPadding=function(t){this.$padding=t,this.element.style.padding="0 "+t+"px"},this.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},this.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},this.$setFontMetrics=function(t){this.$fontMetrics=t,this.$fontMetrics.on("changeCharacterSize",function(t){this._signal("changeCharacterSize",t)}.bind(this)),this.$pollSizeChanges()},this.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},this.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},this.setSession=function(t){this.session=t,t&&this.$computeTabString()},this.showInvisibles=!1,this.setShowInvisibles=function(t){return this.showInvisibles==t?!1:(this.showInvisibles=t,this.$computeTabString(),!0)},this.displayIndentGuides=!0,this.setDisplayIndentGuides=function(t){return this.displayIndentGuides==t?!1:(this.displayIndentGuides=t,this.$computeTabString(),!0)},this.$tabStrings=[],this.onChangeTabSize=this.$computeTabString=function(){var t=this.session.getTabSize();this.tabSize=t;for(var e=this.$tabStrings=[0],n=1;t+1>n;n++)this.showInvisibles?e.push("<span class='ace_invisible ace_invisible_tab'>"+o.stringRepeat(this.TAB_CHAR,n)+"</span>"):e.push(o.stringRepeat(" ",n));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var i="ace_indent-guide",r="",s="";if(this.showInvisibles){i+=" ace_invisible",r=" ace_invisible_space",s=" ace_invisible_tab";var a=o.stringRepeat(this.SPACE_CHAR,this.tabSize),l=o.stringRepeat(this.TAB_CHAR,this.tabSize)}else var a=o.stringRepeat(" ",this.tabSize),l=a;this.$tabStrings[" "]="<span class='"+i+r+"'>"+a+"</span>",this.$tabStrings["	"]="<span class='"+i+s+"'>"+l+"</span>"}},this.updateLines=function(t,e,n){this.config.lastRow==t.lastRow&&this.config.firstRow==t.firstRow||this.scrollLines(t),this.config=t;for(var i=Math.max(e,t.firstRow),r=Math.min(n,t.lastRow),o=this.element.childNodes,s=0,a=t.firstRow;i>a;a++){var l=this.session.getFoldLine(a);if(l){if(l.containsRow(i)){i=l.start.row;break}a=l.end.row}s++}for(var a=i,l=this.session.getNextFoldLine(a),u=l?l.start.row:1/0;;){if(a>u&&(a=l.end.row+1,l=this.session.getNextFoldLine(a,l),u=l?l.start.row:1/0),a>r)break;var c=o[s++];if(c){var h=[];this.$renderLine(h,a,!this.$useLineGroups(),a==u?l:!1),c.style.height=t.lineHeight*this.session.getRowLength(a)+"px",c.innerHTML=h.join("")}a++}},this.scrollLines=function(t){var e=this.config;if(this.config=t,!e||e.lastRow<t.firstRow)return this.update(t);if(t.lastRow<e.firstRow)return this.update(t);var n=this.element;if(e.firstRow<t.firstRow)for(var i=this.session.getFoldedRowCount(e.firstRow,t.firstRow-1);i>0;i--)n.removeChild(n.firstChild);if(e.lastRow>t.lastRow)for(var i=this.session.getFoldedRowCount(t.lastRow+1,e.lastRow);i>0;i--)n.removeChild(n.lastChild);if(t.firstRow<e.firstRow){var r=this.$renderLinesFragment(t,t.firstRow,e.firstRow-1);n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r)}if(t.lastRow>e.lastRow){var r=this.$renderLinesFragment(t,e.lastRow+1,t.lastRow);n.appendChild(r)}},this.$renderLinesFragment=function(t,e,n){for(var i=this.element.ownerDocument.createDocumentFragment(),o=e,s=this.session.getNextFoldLine(o),a=s?s.start.row:1/0;;){if(o>a&&(o=s.end.row+1,s=this.session.getNextFoldLine(o,s),a=s?s.start.row:1/0),o>n)break;var l=r.createElement("div"),u=[];if(this.$renderLine(u,o,!1,o==a?s:!1),l.innerHTML=u.join(""),this.$useLineGroups())l.className="ace_line_group",i.appendChild(l),l.style.height=t.lineHeight*this.session.getRowLength(o)+"px";else for(;l.firstChild;)i.appendChild(l.firstChild);o++}return i},this.update=function(t){this.config=t;for(var e=[],n=t.firstRow,i=t.lastRow,r=n,o=this.session.getNextFoldLine(r),s=o?o.start.row:1/0;;){if(r>s&&(r=o.end.row+1,o=this.session.getNextFoldLine(r,o),s=o?o.start.row:1/0),r>i)break;this.$useLineGroups()&&e.push("<div class='ace_line_group' style='height:",t.lineHeight*this.session.getRowLength(r),"px'>"),this.$renderLine(e,r,!1,r==s?o:!1),this.$useLineGroups()&&e.push("</div>"),r++}this.element.innerHTML=e.join("")},this.$textToken={text:!0,rparen:!0,lparen:!0},this.$renderToken=function(t,e,n,i){var r=this,s=/\t|&|<|>|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\u3000\uFEFF\uFFF9-\uFFFC])|[\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3000-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]/g,a=function(t,n,i,s,a){if(n)return r.showInvisibles?"<span class='ace_invisible ace_invisible_space'>"+o.stringRepeat(r.SPACE_CHAR,t.length)+"</span>":t;if("&"==t)return"&#38;";if("<"==t)return"&#60;";if(">"==t)return"&#62;";if("	"==t){var l=r.session.getScreenTabSize(e+s);return e+=l-1,r.$tabStrings[l]}if(""==t){var u=r.showInvisibles?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",c=r.showInvisibles?r.SPACE_CHAR:"";return e+=1,"<span class='"+u+"' style='width:"+2*r.config.characterWidth+"px'>"+c+"</span>"}return i?"<span class='ace_invisible ace_invisible_space ace_invalid'>"+r.SPACE_CHAR+"</span>":(e+=1,"<span class='ace_cjk' style='width:"+2*r.config.characterWidth+"px'>"+t+"</span>")},l=i.replace(s,a);if(this.$textToken[n.type])t.push(l);else{var u="ace_"+n.type.replace(/\./g," ace_"),c="";"fold"==n.type&&(c=" style='width:"+n.value.length*this.config.characterWidth+"px;' "),t.push("<span class='",u,"'",c,">",l,"</span>")}return e+i.length},this.renderIndentGuide=function(t,e,n){var i=e.search(this.$indentGuideRe);return 0>=i||i>=n?e:" "==e[0]?(i-=i%this.tabSize,t.push(o.stringRepeat(this.$tabStrings[" "],i/this.tabSize)),e.substr(i)):"	"==e[0]?(t.push(o.stringRepeat(this.$tabStrings["	"],i)),e.substr(i)):e},this.$renderWrappedLine=function(t,e,n,i){for(var r=0,s=0,a=n[0],l=0,u=0;u<e.length;u++){var c=e[u],h=c.value;if(0==u&&this.displayIndentGuides){if(r=h.length,h=this.renderIndentGuide(t,h,a),!h)continue;r-=h.length}if(r+h.length<a)l=this.$renderToken(t,l,c,h),r+=h.length;else{for(;r+h.length>=a;)l=this.$renderToken(t,l,c,h.substring(0,a-r)),h=h.substring(a-r),r=a,i||t.push("</div>","<div class='ace_line' style='height:",this.config.lineHeight,"px'>"),t.push(o.stringRepeat("",n.indent)),s++,l=0,a=n[s]||Number.MAX_VALUE;0!=h.length&&(r+=h.length,l=this.$renderToken(t,l,c,h))}}},this.$renderSimpleLine=function(t,e){var n=0,i=e[0],r=i.value;this.displayIndentGuides&&(r=this.renderIndentGuide(t,r)),r&&(n=this.$renderToken(t,n,i,r));for(var o=1;o<e.length;o++)i=e[o],r=i.value,n=this.$renderToken(t,n,i,r)},this.$renderLine=function(t,e,n,i){if(i||0==i||(i=this.session.getFoldLine(e)),i)var r=this.$getFoldLineTokens(e,i);else var r=this.session.getTokens(e);if(n||t.push("<div class='ace_line' style='height:",this.config.lineHeight*(this.$useLineGroups()?1:this.session.getRowLength(e)),"px'>"),r.length){var o=this.session.getRowSplitData(e);o&&o.length?this.$renderWrappedLine(t,r,o,n):this.$renderSimpleLine(t,r)}this.showInvisibles&&(i&&(e=i.end.row),t.push("<span class='ace_invisible ace_invisible_eol'>",e==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,"</span>")),n||t.push("</div>")},this.$getFoldLineTokens=function(t,e){function n(t,e,n){for(var i=0,o=0;o+t[i].value.length<e;)if(o+=t[i].value.length,i++,i==t.length)return;if(o!=e){var s=t[i].value.substring(e-o);s.length>n-e&&(s=s.substring(0,n-e)),r.push({type:t[i].type,value:s}),o=e+s.length,i+=1}for(;n>o&&i<t.length;){var s=t[i].value;s.length+o>n?r.push({type:t[i].type,value:s.substring(0,n-o)}):r.push(t[i]),o+=s.length,i+=1}}var i=this.session,r=[],o=i.getTokens(t);return e.walk(function(t,e,s,a,l){null!=t?r.push({type:"fold",value:t}):(l&&(o=i.getTokens(e)),o.length&&n(o,a,s))},e.end.row,this.session.getLine(e.end.row).length),r},this.$useLineGroups=function(){return this.session.getUseWrapMode()},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$measureNode&&this.$measureNode.parentNode.removeChild(this.$measureNode),delete this.$measureNode}}).call(a.prototype),e.Text=a}),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(t,e,n){"use strict";var i,r=t("../lib/dom"),o=function(t){this.element=r.createElement("div"),this.element.className="ace_layer ace_cursor-layer",t.appendChild(this.element),void 0===i&&(i=!("opacity"in this.element.style)),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),r.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=(i?this.$updateVisibility:this.$updateOpacity).bind(this)};(function(){this.$updateVisibility=function(t){for(var e=this.cursors,n=e.length;n--;)e[n].style.visibility=t?"":"hidden"},this.$updateOpacity=function(t){for(var e=this.cursors,n=e.length;n--;)e[n].style.opacity=t?"":"0"},this.$padding=0,this.setPadding=function(t){this.$padding=t},this.setSession=function(t){this.session=t},this.setBlinking=function(t){t!=this.isBlinking&&(this.isBlinking=t,this.restartTimer())},this.setBlinkInterval=function(t){t!=this.blinkInterval&&(this.blinkInterval=t,this.restartTimer())},this.setSmoothBlinking=function(t){t==this.smoothBlinking||i||(this.smoothBlinking=t,r.setCssClass(this.element,"ace_smooth-blinking",t),this.$updateCursors(!0),this.$updateCursors=this.$updateOpacity.bind(this),this.restartTimer())},this.addCursor=function(){var t=r.createElement("div");return t.className="ace_cursor",this.element.appendChild(t),this.cursors.push(t),t},this.removeCursor=function(){if(this.cursors.length>1){var t=this.cursors.pop();return t.parentNode.removeChild(t),t}},this.hideCursor=function(){this.isVisible=!1,r.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.showCursor=function(){this.isVisible=!0,r.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.restartTimer=function(){var t=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.smoothBlinking&&r.removeCssClass(this.element,"ace_smooth-blinking"),t(!0),this.isBlinking&&this.blinkInterval&&this.isVisible){this.smoothBlinking&&setTimeout(function(){r.addCssClass(this.element,"ace_smooth-blinking")}.bind(this));var e=function(){this.timeoutId=setTimeout(function(){t(!1)},.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval(function(){t(!0),e()},this.blinkInterval),e()}},this.getPixelPosition=function(t,e){if(!this.config||!this.session)return{left:0,top:0};t||(t=this.session.selection.getCursor());var n=this.session.documentToScreenPosition(t),i=this.$padding+n.column*this.config.characterWidth,r=(n.row-(e?this.config.firstRowScreen:0))*this.config.lineHeight;return{left:i,top:r}},this.update=function(t){this.config=t;var e=this.session.$selectionMarkers,n=0,i=0;void 0!==e&&0!==e.length||(e=[{cursor:null}]);for(var n=0,r=e.length;r>n;n++){var o=this.getPixelPosition(e[n].cursor,!0);if(!((o.top>t.height+t.offset||o.top<0)&&n>1)){var s=(this.cursors[i++]||this.addCursor()).style;this.drawCursor?this.drawCursor(s,o,t,e[n],this.session):(s.left=o.left+"px",s.top=o.top+"px",s.width=t.characterWidth+"px",s.height=t.lineHeight+"px")}}for(;this.cursors.length>i;)this.removeCursor();var a=this.session.getOverwrite();this.$setOverwrite(a),this.$pixelPos=o,this.restartTimer()},this.drawCursor=null,this.$setOverwrite=function(t){t!=this.overwrite&&(this.overwrite=t,t?r.addCssClass(this.element,"ace_overwrite-cursors"):r.removeCssClass(this.element,"ace_overwrite-cursors"))},this.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)}}).call(o.prototype),e.Cursor=o}),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(t,e,n){"use strict";var i=t("./lib/oop"),r=t("./lib/dom"),o=t("./lib/event"),s=t("./lib/event_emitter").EventEmitter,a=function(t){this.element=r.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+this.classSuffix,this.inner=r.createElement("div"),this.inner.className="ace_scrollbar-inner",this.element.appendChild(this.inner),t.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,o.addListener(this.element,"scroll",this.onScroll.bind(this)),o.addListener(this.element,"mousedown",o.preventDefault)};(function(){i.implement(this,s),this.setVisible=function(t){this.element.style.display=t?"":"none",this.isVisible=t}}).call(a.prototype);var l=function(t,e){a.call(this,t),this.scrollTop=0,e.$scrollbarWidth=this.width=r.scrollbarWidth(t.ownerDocument),this.inner.style.width=this.element.style.width=(this.width||15)+5+"px"};i.inherits(l,a),function(){this.classSuffix="-v",this.onScroll=function(){this.skipEvent||(this.scrollTop=this.element.scrollTop,this._emit("scroll",{data:this.scrollTop})),this.skipEvent=!1},this.getWidth=function(){return this.isVisible?this.width:0},this.setHeight=function(t){this.element.style.height=t+"px"},this.setInnerHeight=function(t){this.inner.style.height=t+"px"},this.setScrollHeight=function(t){this.inner.style.height=t+"px"},this.setScrollTop=function(t){this.scrollTop!=t&&(this.skipEvent=!0,this.scrollTop=this.element.scrollTop=t)}}.call(l.prototype);var u=function(t,e){a.call(this,t),this.scrollLeft=0,this.height=e.$scrollbarWidth,this.inner.style.height=this.element.style.height=(this.height||15)+5+"px"};i.inherits(u,a),function(){this.classSuffix="-h",this.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},this.getHeight=function(){return this.isVisible?this.height:0},this.setWidth=function(t){this.element.style.width=t+"px"},this.setInnerWidth=function(t){this.inner.style.width=t+"px"},this.setScrollWidth=function(t){this.inner.style.width=t+"px"},this.setScrollLeft=function(t){this.scrollLeft!=t&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=t)}}.call(u.prototype),e.ScrollBar=l,e.ScrollBarV=l,e.ScrollBarH=u,e.VScrollBar=l,e.HScrollBar=u}),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],function(t,e,n){"use strict";var i=t("./lib/event"),r=function(t,e){this.onRender=t,this.pending=!1,this.changes=0,this.window=e||window};(function(){this.schedule=function(t){if(this.changes=this.changes|t,!this.pending&&this.changes){this.pending=!0;var e=this;i.nextFrame(function(){e.pending=!1;for(var t;t=e.changes;)e.changes=0,e.onRender(t)},this.window)}}}).call(r.prototype),e.RenderLoop=r}),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/lib/event_emitter"],function(t,e,n){var i=t("../lib/oop"),r=t("../lib/dom"),o=t("../lib/lang"),s=t("../lib/useragent"),a=t("../lib/event_emitter").EventEmitter,l=0,u=e.FontMetrics=function(t){this.el=r.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=r.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=r.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),t.appendChild(this.el),l||this.$testFractionalRect(),this.$measureNode.innerHTML=o.stringRepeat("X",l),this.$characterSize={width:0,height:0},this.checkForSizeChanges()};(function(){i.implement(this,a),this.$characterSize={width:0,height:0},this.$testFractionalRect=function(){var t=r.createElement("div");this.$setMeasureNodeStyles(t.style),t.style.width="0.2px",document.documentElement.appendChild(t);var e=t.getBoundingClientRect().width;l=e>0&&1>e?50:100,t.parentNode.removeChild(t)},this.$setMeasureNodeStyles=function(t,e){t.width=t.height="auto",t.left=t.top="0px",t.visibility="hidden",t.position="absolute",t.whiteSpace="pre",s.isIE<8?t["font-family"]="inherit":t.font="inherit",t.overflow=e?"hidden":"visible"},this.checkForSizeChanges=function(){var t=this.$measureSizes();if(t&&(this.$characterSize.width!==t.width||this.$characterSize.height!==t.height)){this.$measureNode.style.fontWeight="bold";var e=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=t,this.charSizes=Object.create(null),this.allowBoldFonts=e&&e.width===t.width&&e.height===t.height,this._emit("changeCharacterSize",{data:t})}},this.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer)return this.$pollSizeChangesTimer;var t=this;return this.$pollSizeChangesTimer=setInterval(function(){t.checkForSizeChanges()},500)},this.setPolling=function(t){t?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},this.$measureSizes=function(){if(50===l){var t=null;try{t=this.$measureNode.getBoundingClientRect()}catch(e){t={width:0,height:0}}var n={height:t.height,width:t.width/l}}else var n={height:this.$measureNode.clientHeight,width:this.$measureNode.clientWidth/l};return 0===n.width||0===n.height?null:n},this.$measureCharWidth=function(t){this.$main.innerHTML=o.stringRepeat(t,l);var e=this.$main.getBoundingClientRect();return e.width/l},this.getCharacterWidth=function(t){var e=this.charSizes[t];return void 0===e&&(e=this.charSizes[t]=this.$measureCharWidth(t)/this.$characterSize.width),e},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)}}).call(u.prototype)}),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/config","ace/lib/useragent","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter"],function(t,e,n){"use strict";var i=t("./lib/oop"),r=t("./lib/dom"),o=t("./config"),s=t("./lib/useragent"),a=t("./layer/gutter").Gutter,l=t("./layer/marker").Marker,u=t("./layer/text").Text,c=t("./layer/cursor").Cursor,h=t("./scrollbar").HScrollBar,d=t("./scrollbar").VScrollBar,f=t("./renderloop").RenderLoop,p=t("./layer/font_metrics").FontMetrics,g=t("./lib/event_emitter").EventEmitter,m='.ace_editor {position: relative;overflow: hidden;font: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'source-code-pro\', monospace;direction: ltr;}.ace_scroller {position: absolute;overflow: hidden;top: 0;bottom: 0;background-color: inherit;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;cursor: text;}.ace_content {position: absolute;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;min-width: 100%;}.ace_dragging .ace_scroller:before{position: absolute;top: 0;left: 0;right: 0;bottom: 0;content: \'\';background: rgba(250, 250, 250, 0.01);z-index: 1000;}.ace_dragging.ace_dark .ace_scroller:before{background: rgba(0, 0, 0, 0.01);}.ace_selecting, .ace_selecting * {cursor: text !important;}.ace_gutter {position: absolute;overflow : hidden;width: auto;top: 0;bottom: 0;left: 0;cursor: default;z-index: 4;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;}.ace_gutter-active-line {position: absolute;left: 0;right: 0;}.ace_scroller.ace_scroll-left {box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;}.ace_gutter-cell {padding-left: 19px;padding-right: 6px;background-repeat: no-repeat;}.ace_gutter-cell.ace_error {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: 2px center;}.ace_gutter-cell.ace_warning {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");background-position: 2px center;}.ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");background-position: 2px center;}.ace_dark .ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");}.ace_scrollbar {position: absolute;right: 0;bottom: 0;z-index: 6;}.ace_scrollbar-inner {position: absolute;cursor: text;left: 0;top: 0;}.ace_scrollbar-v{overflow-x: hidden;overflow-y: scroll;top: 0;}.ace_scrollbar-h {overflow-x: scroll;overflow-y: hidden;left: 0;}.ace_print-margin {position: absolute;height: 100%;}.ace_text-input {position: absolute;z-index: 0;width: 0.5em;height: 1em;opacity: 0;background: transparent;-moz-appearance: none;appearance: none;border: none;resize: none;outline: none;overflow: hidden;font: inherit;padding: 0 1px;margin: 0 -1px;text-indent: -1em;-ms-user-select: text;-moz-user-select: text;-webkit-user-select: text;user-select: text;white-space: pre!important;}.ace_text-input.ace_composition {background: inherit;color: inherit;z-index: 1000;opacity: 1;text-indent: 0;}.ace_layer {z-index: 1;position: absolute;overflow: hidden;word-wrap: normal;white-space: pre;height: 100%;width: 100%;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;pointer-events: none;}.ace_gutter-layer {position: relative;width: auto;text-align: right;pointer-events: auto;}.ace_text-layer {font: inherit !important;}.ace_cjk {display: inline-block;text-align: center;}.ace_cursor-layer {z-index: 4;}.ace_cursor {z-index: 4;position: absolute;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;border-left: 2px solid;transform: translatez(0);}.ace_slim-cursors .ace_cursor {border-left-width: 1px;}.ace_overwrite-cursors .ace_cursor {border-left-width: 0;border-bottom: 1px solid;}.ace_hidden-cursors .ace_cursor {opacity: 0.2;}.ace_smooth-blinking .ace_cursor {-webkit-transition: opacity 0.18s;transition: opacity 0.18s;}.ace_editor.ace_multiselect .ace_cursor {border-left-width: 1px;}.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {position: absolute;z-index: 3;}.ace_marker-layer .ace_selection {position: absolute;z-index: 5;}.ace_marker-layer .ace_bracket {position: absolute;z-index: 6;}.ace_marker-layer .ace_active-line {position: absolute;z-index: 2;}.ace_marker-layer .ace_selected-word {position: absolute;z-index: 4;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;}.ace_line .ace_fold {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;display: inline-block;height: 11px;margin-top: -2px;vertical-align: middle;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");background-repeat: no-repeat, repeat-x;background-position: center center, top left;color: transparent;border: 1px solid black;border-radius: 2px;cursor: pointer;pointer-events: auto;}.ace_dark .ace_fold {}.ace_fold:hover{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");}.ace_tooltip {background-color: #FFF;background-image: -webkit-linear-gradient(top, transparent, rgba(0, 0, 0, 0.1));background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));border: 1px solid gray;border-radius: 1px;box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);color: black;max-width: 100%;padding: 3px 4px;position: fixed;z-index: 999999;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;cursor: default;white-space: pre;word-wrap: break-word;line-height: normal;font-style: normal;font-weight: normal;letter-spacing: normal;pointer-events: none;}.ace_folding-enabled > .ace_gutter-cell {padding-right: 13px;}.ace_fold-widget {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;margin: 0 -12px 0 1px;display: none;width: 11px;vertical-align: top;background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: center;border-radius: 3px;border: 1px solid transparent;cursor: pointer;}.ace_folding-enabled .ace_fold-widget {display: inline-block;   }.ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");}.ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");}.ace_fold-widget:hover {border: 1px solid rgba(0, 0, 0, 0.3);background-color: rgba(255, 255, 255, 0.2);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);}.ace_fold-widget:active {border: 1px solid rgba(0, 0, 0, 0.4);background-color: rgba(0, 0, 0, 0.05);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);}.ace_dark .ace_fold-widget {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");}.ace_dark .ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget:hover {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);background-color: rgba(255, 255, 255, 0.1);}.ace_dark .ace_fold-widget:active {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);}.ace_fold-widget.ace_invalid {background-color: #FFB4B4;border-color: #DE5555;}.ace_fade-fold-widgets .ace_fold-widget {-webkit-transition: opacity 0.4s ease 0.05s;transition: opacity 0.4s ease 0.05s;opacity: 0;}.ace_fade-fold-widgets:hover .ace_fold-widget {-webkit-transition: opacity 0.05s ease 0.05s;transition: opacity 0.05s ease 0.05s;opacity:1;}.ace_underline {text-decoration: underline;}.ace_bold {font-weight: bold;}.ace_nobold .ace_bold {font-weight: normal;}.ace_italic {font-style: italic;}.ace_error-marker {background-color: rgba(255, 0, 0,0.2);position: absolute;z-index: 9;}.ace_highlight-marker {background-color: rgba(255, 255, 0,0.2);position: absolute;z-index: 8;}.ace_br1 {border-top-left-radius    : 3px;}.ace_br2 {border-top-right-radius   : 3px;}.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}.ace_br4 {border-bottom-right-radius: 3px;}.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}.ace_br8 {border-bottom-left-radius : 3px;}.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}';
r.importCssString(m,"ace_editor.css");var v=function(t,e){var n=this;this.container=t||r.createElement("div"),this.$keepTextAreaAtCursor=!s.isOldIE,r.addCssClass(this.container,"ace_editor"),this.setTheme(e),this.$gutter=r.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.scroller=r.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=r.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new a(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new l(this.content);var i=this.$textLayer=new u(this.content);this.canvas=i.element,this.$markerFront=new l(this.content),this.$cursorLayer=new c(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new d(this.container,this),this.scrollBarH=new h(this.container,this),this.scrollBarV.addEventListener("scroll",function(t){n.$scrollAnimation||n.session.setScrollTop(t.data-n.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(t){n.$scrollAnimation||n.session.setScrollLeft(t.data-n.scrollMargin.left)}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new p(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.addEventListener("changeCharacterSize",function(t){n.updateCharacterSize(),n.onResize(!0,n.gutterWidth,n.$size.width,n.$size.height),n._signal("changeCharacterSize",t)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$loop=new f(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),o.resetOptions(this),o._emit("renderer",this)};(function(){this.CHANGE_CURSOR=1,this.CHANGE_MARKER=2,this.CHANGE_GUTTER=4,this.CHANGE_SCROLL=8,this.CHANGE_LINES=16,this.CHANGE_TEXT=32,this.CHANGE_SIZE=64,this.CHANGE_MARKER_BACK=128,this.CHANGE_MARKER_FRONT=256,this.CHANGE_FULL=512,this.CHANGE_H_SCROLL=1024,i.implement(this,g),this.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin()},this.setSession=function(t){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=t,t&&this.scrollMargin.top&&t.getScrollTop()<=0&&t.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(t),this.$markerBack.setSession(t),this.$markerFront.setSession(t),this.$gutterLayer.setSession(t),this.$textLayer.setSession(t),t&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},this.updateLines=function(t,e,n){if(void 0===e&&(e=1/0),this.$changedLines?(this.$changedLines.firstRow>t&&(this.$changedLines.firstRow=t),this.$changedLines.lastRow<e&&(this.$changedLines.lastRow=e)):this.$changedLines={firstRow:t,lastRow:e},this.$changedLines.lastRow<this.layerConfig.firstRow){if(!n)return;this.$changedLines.lastRow=this.layerConfig.lastRow}this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},this.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar()},this.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},this.updateFull=function(t){t?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},this.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},this.$changes=0,this.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},this.onResize=function(t,e,n,i){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=t?1:0;var r=this.container;i||(i=r.clientHeight||r.scrollHeight),n||(n=r.clientWidth||r.scrollWidth);var o=this.$updateCachedSize(t,e,n,i);if(!this.$size.scrollerHeight||!n&&!i)return this.resizing=0;t&&(this.$gutterLayer.$padding=null),t?this.$renderChanges(o|this.$changes,!0):this.$loop.schedule(o|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarV.scrollLeft=this.scrollBarV.scrollTop=null}},this.$updateCachedSize=function(t,e,n,i){i-=this.$extraHeight||0;var r=0,o=this.$size,s={width:o.width,height:o.height,scrollerHeight:o.scrollerHeight,scrollerWidth:o.scrollerWidth};return i&&(t||o.height!=i)&&(o.height=i,r|=this.CHANGE_SIZE,o.scrollerHeight=o.height,this.$horizScroll&&(o.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",r|=this.CHANGE_SCROLL),n&&(t||o.width!=n)&&(r|=this.CHANGE_SIZE,o.width=n,null==e&&(e=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=e,this.scrollBarH.element.style.left=this.scroller.style.left=e+"px",o.scrollerWidth=Math.max(0,n-e-this.scrollBarV.getWidth()),this.scrollBarH.element.style.right=this.scroller.style.right=this.scrollBarV.getWidth()+"px",this.scroller.style.bottom=this.scrollBarH.getHeight()+"px",(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||t)&&(r|=this.CHANGE_FULL)),o.$dirty=!n||!i,r&&this._signal("resize",s),r},this.onGutterResize=function(){var t=this.$showGutter?this.$gutter.offsetWidth:0;t!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,t,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()?this.$loop.schedule(this.CHANGE_FULL):this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):(this.$computeLayerConfig(),this.$loop.schedule(this.CHANGE_MARKER))},this.adjustWrapLimit=function(){var t=this.$size.scrollerWidth-2*this.$padding,e=Math.floor(t/this.characterWidth);return this.session.adjustWrapLimit(e,this.$showPrintMargin&&this.$printMarginColumn)},this.setAnimatedScroll=function(t){this.setOption("animatedScroll",t)},this.getAnimatedScroll=function(){return this.$animatedScroll},this.setShowInvisibles=function(t){this.setOption("showInvisibles",t)},this.getShowInvisibles=function(){return this.getOption("showInvisibles")},this.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},this.setDisplayIndentGuides=function(t){this.setOption("displayIndentGuides",t)},this.setShowPrintMargin=function(t){this.setOption("showPrintMargin",t)},this.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},this.setPrintMarginColumn=function(t){this.setOption("printMarginColumn",t)},this.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},this.getShowGutter=function(){return this.getOption("showGutter")},this.setShowGutter=function(t){return this.setOption("showGutter",t)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.setFadeFoldWidgets=function(t){this.setOption("fadeFoldWidgets",t)},this.setHighlightGutterLine=function(t){this.setOption("highlightGutterLine",t)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.$updateGutterLineHighlight=function(){var t=this.$cursorLayer.$pixelPos,e=this.layerConfig.lineHeight;if(this.session.getUseWrapMode()){var n=this.session.selection.getCursor();n.column=0,t=this.$cursorLayer.getPixelPosition(n,!0),e*=this.session.getRowLength(n.row)}this.$gutterLineHighlight.style.top=t.top-this.layerConfig.offset+"px",this.$gutterLineHighlight.style.height=e+"px"},this.$updatePrintMargin=function(){if(this.$showPrintMargin||this.$printMarginEl){if(!this.$printMarginEl){var t=r.createElement("div");t.className="ace_layer ace_print-margin-layer",this.$printMarginEl=r.createElement("div"),this.$printMarginEl.className="ace_print-margin",t.appendChild(this.$printMarginEl),this.content.insertBefore(t,this.content.firstChild)}var e=this.$printMarginEl.style;e.left=this.characterWidth*this.$printMarginColumn+this.$padding+"px",e.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&-1==this.session.$wrap&&this.adjustWrapLimit()}},this.getContainerElement=function(){return this.container},this.getMouseEventTarget=function(){return this.scroller},this.getTextAreaContainer=function(){return this.container},this.$moveTextAreaToCursor=function(){if(this.$keepTextAreaAtCursor){var t=this.layerConfig,e=this.$cursorLayer.$pixelPos.top,n=this.$cursorLayer.$pixelPos.left;e-=t.offset;var i=this.textarea.style,r=this.lineHeight;if(0>e||e>t.height-r)return void(i.top=i.left="0");var o=this.characterWidth;if(this.$composition){var s=this.textarea.value.replace(/^\x01+/,"");o*=this.session.$getStringScreenWidth(s)[0]+2,r+=2}n-=this.scrollLeft,n>this.$size.scrollerWidth-o&&(n=this.$size.scrollerWidth-o),n+=this.gutterWidth,i.height=r+"px",i.width=o+"px",i.left=Math.min(n,this.$size.scrollerWidth-o)+"px",i.top=Math.min(e,this.$size.height-r)+"px"}},this.getFirstVisibleRow=function(){return this.layerConfig.firstRow},this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(0===this.layerConfig.offset?0:1)},this.getLastFullyVisibleRow=function(){var t=this.layerConfig,e=t.lastRow,n=this.session.documentToScreenRow(e,0)*t.lineHeight;return n-this.session.getScrollTop()>t.height-t.lineHeight?e-1:e},this.getLastVisibleRow=function(){return this.layerConfig.lastRow},this.$padding=null,this.setPadding=function(t){this.$padding=t,this.$textLayer.setPadding(t),this.$cursorLayer.setPadding(t),this.$markerFront.setPadding(t),this.$markerBack.setPadding(t),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},this.setScrollMargin=function(t,e,n,i){var r=this.scrollMargin;r.top=0|t,r.bottom=0|e,r.right=0|i,r.left=0|n,r.v=r.top+r.bottom,r.h=r.left+r.right,r.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-r.top),this.updateFull()},this.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},this.setHScrollBarAlwaysVisible=function(t){this.setOption("hScrollBarAlwaysVisible",t)},this.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},this.setVScrollBarAlwaysVisible=function(t){this.setOption("vScrollBarAlwaysVisible",t)},this.$updateScrollBarV=function(){var t=this.layerConfig.maxHeight,e=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(t-=(e-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>t-e&&(t=this.scrollTop+e,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(t+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},this.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},this.$frozen=!1,this.freeze=function(){this.$frozen=!0},this.unfreeze=function(){this.$frozen=!1},this.$renderChanges=function(t,e){if(this.$changes&&(t|=this.$changes,this.$changes=0),!this.session||!this.container.offsetWidth||this.$frozen||!t&&!e)return void(this.$changes|=t);if(this.$size.$dirty)return this.$changes|=t,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender");var n=this.layerConfig;if(t&this.CHANGE_FULL||t&this.CHANGE_SIZE||t&this.CHANGE_TEXT||t&this.CHANGE_LINES||t&this.CHANGE_SCROLL||t&this.CHANGE_H_SCROLL){if(t|=this.$computeLayerConfig(),n.firstRow!=this.layerConfig.firstRow&&n.firstRowScreen==this.layerConfig.firstRowScreen){var i=this.scrollTop+(n.firstRow-this.layerConfig.firstRow)*this.lineHeight;i>0&&(this.scrollTop=i,t|=this.CHANGE_SCROLL,t|=this.$computeLayerConfig())}n=this.layerConfig,this.$updateScrollBarV(),t&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),this.$gutterLayer.element.style.marginTop=-n.offset+"px",this.content.style.marginTop=-n.offset+"px",this.content.style.width=n.width+2*this.$padding+"px",this.content.style.height=n.minHeight+"px"}return t&this.CHANGE_H_SCROLL&&(this.content.style.marginLeft=-this.scrollLeft+"px",this.scroller.className=this.scrollLeft<=0?"ace_scroller":"ace_scroller ace_scroll-left"),t&this.CHANGE_FULL?(this.$textLayer.update(n),this.$showGutter&&this.$gutterLayer.update(n),this.$markerBack.update(n),this.$markerFront.update(n),this.$cursorLayer.update(n),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight(),void this._signal("afterRender")):t&this.CHANGE_SCROLL?(t&this.CHANGE_TEXT||t&this.CHANGE_LINES?this.$textLayer.update(n):this.$textLayer.scrollLines(n),this.$showGutter&&this.$gutterLayer.update(n),this.$markerBack.update(n),this.$markerFront.update(n),this.$cursorLayer.update(n),this.$highlightGutterLine&&this.$updateGutterLineHighlight(),this.$moveTextAreaToCursor(),void this._signal("afterRender")):(t&this.CHANGE_TEXT?(this.$textLayer.update(n),this.$showGutter&&this.$gutterLayer.update(n)):t&this.CHANGE_LINES?(this.$updateLines()||t&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(n):(t&this.CHANGE_TEXT||t&this.CHANGE_GUTTER)&&this.$showGutter&&this.$gutterLayer.update(n),t&this.CHANGE_CURSOR&&(this.$cursorLayer.update(n),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight()),t&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(n),t&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(n),void this._signal("afterRender"))},this.$autosize=function(){var t=this.session.getScreenLength()*this.lineHeight,e=this.$maxLines*this.lineHeight,n=Math.max((this.$minLines||1)*this.lineHeight,Math.min(e,t))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(n+=this.scrollBarH.getHeight());var i=t>e;if(n!=this.desiredHeight||this.$size.height!=this.desiredHeight||i!=this.$vScroll){i!=this.$vScroll&&(this.$vScroll=i,this.scrollBarV.setVisible(i));var r=this.container.clientWidth;this.container.style.height=n+"px",this.$updateCachedSize(!0,this.$gutterWidth,r,n),this.desiredHeight=n,this._signal("autosize")}},this.$computeLayerConfig=function(){var t=this.session,e=this.$size,n=e.height<=2*this.lineHeight,i=this.session.getScreenLength(),r=i*this.lineHeight,o=this.$getLongestLine(),s=!n&&(this.$hScrollBarAlwaysVisible||e.scrollerWidth-o-2*this.$padding<0),a=this.$horizScroll!==s;a&&(this.$horizScroll=s,this.scrollBarH.setVisible(s));var l=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var u=this.scrollTop%this.lineHeight,c=e.scrollerHeight+this.lineHeight,h=!this.$maxLines&&this.$scrollPastEnd?(e.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;r+=h;var d=this.scrollMargin;this.session.setScrollTop(Math.max(-d.top,Math.min(this.scrollTop,r-e.scrollerHeight+d.bottom))),this.session.setScrollLeft(Math.max(-d.left,Math.min(this.scrollLeft,o+2*this.$padding-e.scrollerWidth+d.right)));var f=!n&&(this.$vScrollBarAlwaysVisible||e.scrollerHeight-r+h<0||this.scrollTop>d.top),p=l!==f;p&&(this.$vScroll=f,this.scrollBarV.setVisible(f));var g,m,v=Math.ceil(c/this.lineHeight)-1,y=Math.max(0,Math.round((this.scrollTop-u)/this.lineHeight)),w=y+v,b=this.lineHeight;y=t.screenToDocumentRow(y,0);var A=t.getFoldLine(y);A&&(y=A.start.row),g=t.documentToScreenRow(y,0),m=t.getRowLength(y)*b,w=Math.min(t.screenToDocumentRow(w,0),t.getLength()-1),c=e.scrollerHeight+t.getRowLength(w)*b+m,u=this.scrollTop-g*b;var C=0;return this.layerConfig.width!=o&&(C=this.CHANGE_H_SCROLL),(a||p)&&(C=this.$updateCachedSize(!0,this.gutterWidth,e.width,e.height),this._signal("scrollbarVisibilityChanged"),p&&(o=this.$getLongestLine())),this.layerConfig={width:o,padding:this.$padding,firstRow:y,firstRowScreen:g,lastRow:w,lineHeight:b,characterWidth:this.characterWidth,minHeight:c,maxHeight:r,offset:u,gutterOffset:Math.max(0,Math.ceil((u+e.height-e.scrollerHeight)/b)),height:this.$size.scrollerHeight},C},this.$updateLines=function(){var t=this.$changedLines.firstRow,e=this.$changedLines.lastRow;this.$changedLines=null;var n=this.layerConfig;return t>n.lastRow+1||e<n.firstRow?void 0:e===1/0?(this.$showGutter&&this.$gutterLayer.update(n),void this.$textLayer.update(n)):(this.$textLayer.updateLines(n,t,e),!0)},this.$getLongestLine=function(){var t=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(t+=1),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(t*this.characterWidth))},this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},this.addGutterDecoration=function(t,e){this.$gutterLayer.addGutterDecoration(t,e)},this.removeGutterDecoration=function(t,e){this.$gutterLayer.removeGutterDecoration(t,e)},this.updateBreakpoints=function(t){this.$loop.schedule(this.CHANGE_GUTTER)},this.setAnnotations=function(t){this.$gutterLayer.setAnnotations(t),this.$loop.schedule(this.CHANGE_GUTTER)},this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},this.hideCursor=function(){this.$cursorLayer.hideCursor()},this.showCursor=function(){this.$cursorLayer.showCursor()},this.scrollSelectionIntoView=function(t,e,n){this.scrollCursorIntoView(t,n),this.scrollCursorIntoView(e,n)},this.scrollCursorIntoView=function(t,e,n){if(0!==this.$size.scrollerHeight){var i=this.$cursorLayer.getPixelPosition(t),r=i.left,o=i.top,s=n&&n.top||0,a=n&&n.bottom||0,l=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;l+s>o?(e&&l+s>o+this.lineHeight&&(o-=e*this.$size.scrollerHeight),0===o&&(o=-this.scrollMargin.top),this.session.setScrollTop(o)):l+this.$size.scrollerHeight-a<o+this.lineHeight&&(e&&l+this.$size.scrollerHeight-a<o-this.lineHeight&&(o+=e*this.$size.scrollerHeight),this.session.setScrollTop(o+this.lineHeight-this.$size.scrollerHeight));var u=this.scrollLeft;u>r?(r<this.$padding+2*this.layerConfig.characterWidth&&(r=-this.scrollMargin.left),this.session.setScrollLeft(r)):u+this.$size.scrollerWidth<r+this.characterWidth?this.session.setScrollLeft(Math.round(r+this.characterWidth-this.$size.scrollerWidth)):u<=this.$padding&&r-u<this.characterWidth&&this.session.setScrollLeft(0)}},this.getScrollTop=function(){return this.session.getScrollTop()},this.getScrollLeft=function(){return this.session.getScrollLeft()},this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},this.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},this.scrollToRow=function(t){this.session.setScrollTop(t*this.lineHeight)},this.alignCursor=function(t,e){"number"==typeof t&&(t={row:t,column:0});var n=this.$cursorLayer.getPixelPosition(t),i=this.$size.scrollerHeight-this.lineHeight,r=n.top-i*(e||0);return this.session.setScrollTop(r),r},this.STEPS=8,this.$calcSteps=function(t,e){var n=0,i=this.STEPS,r=[],o=function(t,e,n){return n*(Math.pow(t-1,3)+1)+e};for(n=0;i>n;++n)r.push(o(n/this.STEPS,t,e-t));return r},this.scrollToLine=function(t,e,n,i){var r=this.$cursorLayer.getPixelPosition({row:t,column:0}),o=r.top;e&&(o-=this.$size.scrollerHeight/2);var s=this.scrollTop;this.session.setScrollTop(o),n!==!1&&this.animateScrolling(s,i)},this.animateScrolling=function(t,e){var n=this.scrollTop;if(this.$animatedScroll){var i=this;if(t!=n){if(this.$scrollAnimation){var r=this.$scrollAnimation.steps;if(r.length&&(t=r[0],t==n))return}var o=i.$calcSteps(t,n);this.$scrollAnimation={from:t,to:n,steps:o},clearInterval(this.$timer),i.session.setScrollTop(o.shift()),i.session.$scrollTop=n,this.$timer=setInterval(function(){o.length?(i.session.setScrollTop(o.shift()),i.session.$scrollTop=n):null!=n?(i.session.$scrollTop=-1,i.session.setScrollTop(n),n=null):(i.$timer=clearInterval(i.$timer),i.$scrollAnimation=null,e&&e())},10)}}},this.scrollToY=function(t){this.scrollTop!==t&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=t)},this.scrollToX=function(t){this.scrollLeft!==t&&(this.scrollLeft=t),this.$loop.schedule(this.CHANGE_H_SCROLL)},this.scrollTo=function(t,e){this.session.setScrollTop(e),this.session.setScrollLeft(e)},this.scrollBy=function(t,e){e&&this.session.setScrollTop(this.session.getScrollTop()+e),t&&this.session.setScrollLeft(this.session.getScrollLeft()+t)},this.isScrollableBy=function(t,e){return 0>e&&this.session.getScrollTop()>=1-this.scrollMargin.top?!0:e>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom?!0:0>t&&this.session.getScrollLeft()>=1-this.scrollMargin.left?!0:t>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right?!0:void 0},this.pixelToScreenCoordinates=function(t,e){var n=this.scroller.getBoundingClientRect(),i=(t+this.scrollLeft-n.left-this.$padding)/this.characterWidth,r=Math.floor((e+this.scrollTop-n.top)/this.lineHeight),o=Math.round(i);return{row:r,column:o,side:i-o>0?1:-1}},this.screenToTextCoordinates=function(t,e){var n=this.scroller.getBoundingClientRect(),i=Math.round((t+this.scrollLeft-n.left-this.$padding)/this.characterWidth),r=(e+this.scrollTop-n.top)/this.lineHeight;return this.session.screenToDocumentPosition(r,Math.max(i,0))},this.textToScreenCoordinates=function(t,e){var n=this.scroller.getBoundingClientRect(),i=this.session.documentToScreenPosition(t,e),r=this.$padding+Math.round(i.column*this.characterWidth),o=i.row*this.lineHeight;return{pageX:n.left+r-this.scrollLeft,pageY:n.top+o-this.scrollTop}},this.visualizeFocus=function(){r.addCssClass(this.container,"ace_focus")},this.visualizeBlur=function(){r.removeCssClass(this.container,"ace_focus")},this.showComposition=function(t){this.$composition||(this.$composition={keepTextAreaAtCursor:this.$keepTextAreaAtCursor,cssText:this.textarea.style.cssText}),this.$keepTextAreaAtCursor=!0,r.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor()},this.setCompositionText=function(t){this.$moveTextAreaToCursor()},this.hideComposition=function(){this.$composition&&(r.removeCssClass(this.textarea,"ace_composition"),this.$keepTextAreaAtCursor=this.$composition.keepTextAreaAtCursor,this.textarea.style.cssText=this.$composition.cssText,this.$composition=null)},this.setTheme=function(t,e){function n(n){if(i.$themeId!=t)return e&&e();if(n.cssClass){r.importCssString(n.cssText,n.cssClass,i.container.ownerDocument),i.theme&&r.removeCssClass(i.container,i.theme.cssClass);var o="padding"in n?n.padding:"padding"in(i.theme||{})?4:i.$padding;i.$padding&&o!=i.$padding&&i.setPadding(o),i.$theme=n.cssClass,i.theme=n,r.addCssClass(i.container,n.cssClass),r.setCssClass(i.container,"ace_dark",n.isDark),i.$size&&(i.$size.width=0,i.$updateSizeAsync()),i._dispatchEvent("themeLoaded",{theme:n}),e&&e()}}var i=this;if(this.$themeId=t,i._dispatchEvent("themeChange",{theme:t}),t&&"string"!=typeof t)n(t);else{var s=t||this.$options.theme.initialValue;o.loadModule(["theme",s],n)}},this.getTheme=function(){return this.$themeId},this.setStyle=function(t,e){r.setCssClass(this.container,t,e!==!1)},this.unsetStyle=function(t){r.removeCssClass(this.container,t)},this.setCursorStyle=function(t){this.scroller.style.cursor!=t&&(this.scroller.style.cursor=t)},this.setMouseCursor=function(t){this.scroller.style.cursor=t},this.destroy=function(){this.$textLayer.destroy(),this.$cursorLayer.destroy()}}).call(v.prototype),o.defineOptions(v.prototype,"renderer",{animatedScroll:{initialValue:!1},showInvisibles:{set:function(t){this.$textLayer.setShowInvisibles(t)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(t){"number"==typeof t&&(this.$printMarginColumn=t),this.$showPrintMargin=!!t,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(t){this.$gutter.style.display=t?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},fadeFoldWidgets:{set:function(t){r.setCssClass(this.$gutter,"ace_fade-fold-widgets",t)},initialValue:!1},showFoldWidgets:{set:function(t){this.$gutterLayer.setShowFoldWidgets(t)},initialValue:!0},showLineNumbers:{set:function(t){this.$gutterLayer.setShowLineNumbers(t),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(t){this.$textLayer.setDisplayIndentGuides(t)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightGutterLine:{set:function(t){return this.$gutterLineHighlight?(this.$gutterLineHighlight.style.display=t?"":"none",void(this.$cursorLayer.$pixelPos&&this.$updateGutterLineHighlight())):(this.$gutterLineHighlight=r.createElement("div"),this.$gutterLineHighlight.className="ace_gutter-active-line",void this.$gutter.appendChild(this.$gutterLineHighlight))},initialValue:!1,value:!0},hScrollBarAlwaysVisible:{set:function(t){this.$hScrollBarAlwaysVisible&&this.$horizScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(t){this.$vScrollBarAlwaysVisible&&this.$vScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(t){"number"==typeof t&&(t+="px"),this.container.style.fontSize=t,this.updateFontSize()},initialValue:12},fontFamily:{set:function(t){this.container.style.fontFamily=t,this.updateFontSize()}},maxLines:{set:function(t){this.updateFull()}},minLines:{set:function(t){this.updateFull()}},scrollPastEnd:{set:function(t){t=+t||0,this.$scrollPastEnd!=t&&(this.$scrollPastEnd=t,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(t){this.$gutterLayer.$fixedWidth=!!t,this.$loop.schedule(this.CHANGE_GUTTER)}},theme:{set:function(t){this.setTheme(t)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0}}),e.VirtualRenderer=v}),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(t,e,n){"use strict";var i=t("../lib/oop"),r=t("../lib/net"),o=t("../lib/event_emitter").EventEmitter,s=t("../config"),a=function(e,n,i,r){if(this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),t.nameToUrl&&!t.toUrl&&(t.toUrl=t.nameToUrl),s.get("packaged")||!t.toUrl)r=r||s.moduleUrl(n,"worker");else{var o=this.$normalizePath;r=r||o(t.toUrl("ace/worker/worker.js",null,"_"));var a={};e.forEach(function(e){a[e]=o(t.toUrl(e,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}try{this.$worker=new Worker(r)}catch(l){if(!(l instanceof window.DOMException))throw l;var u=this.$workerBlob(r),c=window.URL||window.webkitURL,h=c.createObjectURL(u);this.$worker=new Worker(h),c.revokeObjectURL(h)}this.$worker.postMessage({init:!0,tlns:a,module:n,classname:i}),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){i.implement(this,o),this.onMessage=function(t){var e=t.data;switch(e.type){case"event":this._signal(e.name,{data:e.data});break;case"call":var n=this.callbacks[e.id];n&&(n(e.data),delete this.callbacks[e.id]);break;case"error":this.reportError(e.data);break;case"log":window.console&&console.log&&console.log.apply(console,e.data)}},this.reportError=function(t){window.console&&console.error&&console.error(t)},this.$normalizePath=function(t){return r.qualifyURL(t)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(t,e){this.$worker.postMessage({command:t,args:e})},this.call=function(t,e,n){if(n){var i=this.callbackId++;this.callbacks[i]=n,e.push(i)}this.send(t,e)},this.emit=function(t,e){try{this.$worker.postMessage({event:t,data:{data:e.data}})}catch(n){console.error(n.stack)}},this.attachToDocument=function(t){this.$doc&&this.terminate(),this.$doc=t,this.call("setValue",[t.getValue()]),t.on("change",this.changeListener)},this.changeListener=function(t){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),"insert"==t.action?this.deltaQueue.push(t.start,t.lines):this.deltaQueue.push(t.start,t.end)},this.$sendDeltaQueue=function(){var t=this.deltaQueue;t&&(this.deltaQueue=null,t.length>50&&t.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:t}))},this.$workerBlob=function(t){var e="importScripts('"+r.qualifyURL(t)+"');";try{return new Blob([e],{type:"application/javascript"})}catch(n){var i=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,o=new i;return o.append(e),o.getBlob("application/javascript")}}}).call(a.prototype);var l=function(t,e,n){this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.callbackId=1,this.callbacks={},this.messageBuffer=[];var i=null,r=!1,a=Object.create(o),l=this;this.$worker={},this.$worker.terminate=function(){},this.$worker.postMessage=function(t){l.messageBuffer.push(t),i&&(r?setTimeout(u):u())},this.setEmitSync=function(t){r=t};var u=function(){var t=l.messageBuffer.shift();t.command?i[t.command].apply(i,t.args):t.event&&a._signal(t.event,t.data)};a.postMessage=function(t){l.onMessage({data:t})},a.callback=function(t,e){this.postMessage({type:"call",id:e,data:t})},a.emit=function(t,e){this.postMessage({type:"event",name:t,data:e})},s.loadModule(["worker",e],function(t){for(i=new t[n](a);l.messageBuffer.length;)u()})};l.prototype=a.prototype,e.UIWorkerClient=l,e.WorkerClient=a}),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(t,e,n){"use strict";var i=t("./range").Range,r=t("./lib/event_emitter").EventEmitter,o=t("./lib/oop"),s=function(t,e,n,i,r,o){var s=this;this.length=e,this.session=t,this.doc=t.getDocument(),this.mainClass=r,this.othersClass=o,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate),this.$others=i,this.$onCursorChange=function(){setTimeout(function(){s.onCursorChange()})},this.$pos=n;var a=t.getUndoManager().$undoStack||t.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=a.length,this.setup(),t.selection.on("changeCursor",this.$onCursorChange)};(function(){o.implement(this,r),this.setup=function(){var t=this,e=this.doc,n=this.session;this.selectionBefore=n.selection.toJSON(),n.selection.inMultiSelectMode&&n.selection.toSingleRange(),this.pos=e.createAnchor(this.$pos.row,this.$pos.column);var r=this.pos;r.$insertRight=!0,r.detach(),r.markerId=n.addMarker(new i(r.row,r.column,r.row,r.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach(function(n){var i=e.createAnchor(n.row,n.column);i.$insertRight=!0,i.detach(),t.others.push(i)}),n.setUndoSelect(!1)},this.showOtherMarkers=function(){if(!this.othersActive){var t=this.session,e=this;this.othersActive=!0,this.others.forEach(function(n){n.markerId=t.addMarker(new i(n.row,n.column,n.row,n.column+e.length),e.othersClass,null,!1)})}},this.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var t=0;t<this.others.length;t++)this.session.removeMarker(this.others[t].markerId)}},this.onUpdate=function(t){if(this.$updating)return this.updateAnchors(t);var e=t;if(e.start.row===e.end.row&&e.start.row===this.pos.row){this.$updating=!0;
var n="insert"===t.action?e.end.column-e.start.column:e.start.column-e.end.column,r=e.start.column>=this.pos.column&&e.start.column<=this.pos.column+this.length+1,o=e.start.column-this.pos.column;if(this.updateAnchors(t),r&&(this.length+=n),r&&!this.session.$fromUndo)if("insert"===t.action)for(var s=this.others.length-1;s>=0;s--){var a=this.others[s],l={row:a.row,column:a.column+o};this.doc.insertMergedLines(l,t.lines)}else if("remove"===t.action)for(var s=this.others.length-1;s>=0;s--){var a=this.others[s],l={row:a.row,column:a.column+o};this.doc.remove(new i(l.row,l.column,l.row,l.column-n))}this.$updating=!1,this.updateMarkers()}},this.updateAnchors=function(t){this.pos.onChange(t);for(var e=this.others.length;e--;)this.others[e].onChange(t);this.updateMarkers()},this.updateMarkers=function(){if(!this.$updating){var t=this,e=this.session,n=function(n,r){e.removeMarker(n.markerId),n.markerId=e.addMarker(new i(n.row,n.column,n.row,n.column+t.length),r,null,!1)};n(this.pos,this.mainClass);for(var r=this.others.length;r--;)n(this.others[r],this.othersClass)}},this.onCursorChange=function(t){if(!this.$updating&&this.session){var e=this.session.selection.getCursor();e.row===this.pos.row&&e.column>=this.pos.column&&e.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",t)):(this.hideOtherMarkers(),this._emit("cursorLeave",t))}},this.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.removeEventListener("change",this.$onUpdate),this.session.selection.removeEventListener("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},this.cancel=function(){if(-1!==this.$undoStackDepth){for(var t=this.session.getUndoManager(),e=(t.$undoStack||t.$undostack).length-this.$undoStackDepth,n=0;e>n;n++)t.undo(!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}}}).call(s.prototype),e.PlaceHolder=s}),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(t,e,n){function i(t,e){return t.row==e.row&&t.column==e.column}function r(t){var e=t.domEvent,n=e.altKey,r=e.shiftKey,a=e.ctrlKey,l=t.getAccelKey(),u=t.getButton();if(a&&s.isMac&&(u=e.button),t.editor.inMultiSelectMode&&2==u)return void t.editor.textInput.onContextMenu(t.domEvent);if(!a&&!n&&!l)return void(0===u&&t.editor.inMultiSelectMode&&t.editor.exitMultiSelectMode());if(0===u){var c,h=t.editor,d=h.selection,f=h.inMultiSelectMode,p=t.getDocumentPosition(),g=d.getCursor(),m=t.inSelection()||d.isEmpty()&&i(p,g),v=t.x,y=t.y,w=function(t){v=t.clientX,y=t.clientY},b=h.session,A=h.renderer.pixelToScreenCoordinates(v,y),C=A;if(h.$mouseHandler.$enableJumpToDef)a&&n||l&&n?c=r?"block":"add":n&&h.$blockSelectEnabled&&(c="block");else if(l&&!n){if(c="add",!f&&r)return}else n&&h.$blockSelectEnabled&&(c="block");if(c&&s.isMac&&e.ctrlKey&&h.$mouseHandler.cancelContextMenu(),"add"==c){if(!f&&m)return;if(!f){var x=d.toOrientedRange();h.addSelectionMarker(x)}var E=d.rangeList.rangeAtPoint(p);h.$blockScrolling++,h.inVirtualSelectionMode=!0,r&&(E=null,x=d.ranges[0]||x,h.removeSelectionMarker(x)),h.once("mouseup",function(){var t=d.toOrientedRange();E&&t.isEmpty()&&i(E.cursor,t.cursor)?d.substractPoint(t.cursor):(r?d.substractPoint(x.cursor):x&&(h.removeSelectionMarker(x),d.addRange(x)),d.addRange(t)),h.$blockScrolling--,h.inVirtualSelectionMode=!1})}else if("block"==c){t.stop(),h.inVirtualSelectionMode=!0;var _,F=[],k=function(){var t=h.renderer.pixelToScreenCoordinates(v,y),e=b.screenToDocumentPosition(t.row,t.column);i(C,t)&&i(e,d.lead)||(C=t,h.$blockScrolling++,h.selection.moveToPosition(e),h.renderer.scrollCursorIntoView(),h.removeSelectionMarkers(F),F=d.rectangularRangeBlock(C,A),h.$mouseHandler.$clickSelection&&1==F.length&&F[0].isEmpty()&&(F[0]=h.$mouseHandler.$clickSelection.clone()),F.forEach(h.addSelectionMarker,h),h.updateSelectionMarkers(),h.$blockScrolling--)};h.$blockScrolling++,f&&!l?d.toSingleRange():!f&&l&&(_=d.toOrientedRange(),h.addSelectionMarker(_)),r?A=b.documentToScreenPosition(d.lead):d.moveToPosition(p),h.$blockScrolling--,C={row:-1,column:-1};var S=function(t){clearInterval(M),h.removeSelectionMarkers(F),F.length||(F=[d.toOrientedRange()]),h.$blockScrolling++,_&&(h.removeSelectionMarker(_),d.toSingleRange(_));for(var e=0;e<F.length;e++)d.addRange(F[e]);h.inVirtualSelectionMode=!1,h.$mouseHandler.$clickSelection=null,h.$blockScrolling--},D=k;o.capture(h.container,w,S);var M=setInterval(function(){D()},20);return t.preventDefault()}}}var o=t("../lib/event"),s=t("../lib/useragent");e.onMouseDown=r}),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(t,e,n){e.defaultCommands=[{name:"addCursorAbove",exec:function(t){t.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",exec:function(t){t.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",exec:function(t){t.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",exec:function(t){t.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",exec:function(t){t.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",exec:function(t){t.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",exec:function(t){t.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",exec:function(t){t.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"splitIntoLines",exec:function(t){t.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"alignCursors",exec:function(t){t.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",exec:function(t){t.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],e.multiSelectCommands=[{name:"singleSelection",bindKey:"esc",exec:function(t){t.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(t){return t&&t.inMultiSelectMode}}];var i=t("../keyboard/hash_handler").HashHandler;e.keyboardHandler=new i(e.multiSelectCommands)}),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(t,e,n){function i(t,e,n){return g.$options.wrap=!0,g.$options.needle=e,g.$options.backwards=-1==n,g.find(t)}function r(t,e){return t.row==e.row&&t.column==e.column}function o(t){t.$multiselectOnSessionChange||(t.$onAddRange=t.$onAddRange.bind(t),t.$onRemoveRange=t.$onRemoveRange.bind(t),t.$onMultiSelect=t.$onMultiSelect.bind(t),t.$onSingleSelect=t.$onSingleSelect.bind(t),t.$multiselectOnSessionChange=e.onSessionChange.bind(t),t.$checkMultiselectChange=t.$checkMultiselectChange.bind(t),t.$multiselectOnSessionChange(t),t.on("changeSession",t.$multiselectOnSessionChange),t.on("mousedown",c),t.commands.addCommands(f.defaultCommands),s(t))}function s(t){function e(e){i&&(t.renderer.setMouseCursor(""),i=!1)}var n=t.textInput.getElement(),i=!1;h.addListener(n,"keydown",function(n){var r=18==n.keyCode&&!(n.ctrlKey||n.shiftKey||n.metaKey);t.$blockSelectEnabled&&r?i||(t.renderer.setMouseCursor("crosshair"),i=!0):i&&e()}),h.addListener(n,"keyup",e),h.addListener(n,"blur",e)}var a=t("./range_list").RangeList,l=t("./range").Range,u=t("./selection").Selection,c=t("./mouse/multi_select_handler").onMouseDown,h=t("./lib/event"),d=t("./lib/lang"),f=t("./commands/multi_select_commands");e.commands=f.defaultCommands.concat(f.multiSelectCommands);var p=t("./search").Search,g=new p,m=t("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(m.prototype),function(){this.ranges=null,this.rangeList=null,this.addRange=function(t,e){if(t){if(!this.inMultiSelectMode&&0===this.rangeCount){var n=this.toOrientedRange();if(this.rangeList.add(n),this.rangeList.add(t),2!=this.rangeList.ranges.length)return this.rangeList.removeAll(),e||this.fromOrientedRange(t);this.rangeList.removeAll(),this.rangeList.add(n),this.$onAddRange(n)}t.cursor||(t.cursor=t.end);var i=this.rangeList.add(t);return this.$onAddRange(t),i.length&&this.$onRemoveRange(i),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),e||this.fromOrientedRange(t)}},this.toSingleRange=function(t){t=t||this.ranges[0];var e=this.rangeList.removeAll();e.length&&this.$onRemoveRange(e),t&&this.fromOrientedRange(t)},this.substractPoint=function(t){var e=this.rangeList.substractPoint(t);return e?(this.$onRemoveRange(e),e[0]):void 0},this.mergeOverlappingRanges=function(){var t=this.rangeList.merge();t.length?this.$onRemoveRange(t):this.ranges[0]&&this.fromOrientedRange(this.ranges[0])},this.$onAddRange=function(t){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(t),this._signal("addRange",{range:t})},this.$onRemoveRange=function(t){if(this.rangeCount=this.rangeList.ranges.length,1==this.rangeCount&&this.inMultiSelectMode){var e=this.rangeList.ranges.pop();t.push(e),this.rangeCount=0}for(var n=t.length;n--;){var i=this.ranges.indexOf(t[n]);this.ranges.splice(i,1)}this._signal("removeRange",{ranges:t}),0===this.rangeCount&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),e=e||this.ranges[0],e&&!e.isEqual(this.getRange())&&this.fromOrientedRange(e)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new a,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){if(this.rangeCount>1){var t=this.rangeList.ranges,e=t[t.length-1],n=l.fromPoints(t[0].start,e.end);this.toSingleRange(),this.setSelectionRange(n,e.cursor==e.start)}else{var n=this.getRange(),i=this.isBackwards(),r=n.start.row,o=n.end.row;if(r==o){if(i)var s=n.end,a=n.start;else var s=n.start,a=n.end;return this.addRange(l.fromPoints(a,a)),void this.addRange(l.fromPoints(s,s))}var u=[],c=this.getLineRange(r,!0);c.start.column=n.start.column,u.push(c);for(var h=r+1;o>h;h++)u.push(this.getLineRange(h,!0));c=this.getLineRange(o,!0),c.end.column=n.end.column,u.push(c),u.forEach(this.addRange,this)}},this.toggleBlockSelection=function(){if(this.rangeCount>1){var t=this.rangeList.ranges,e=t[t.length-1],n=l.fromPoints(t[0].start,e.end);this.toSingleRange(),this.setSelectionRange(n,e.cursor==e.start)}else{var i=this.session.documentToScreenPosition(this.selectionLead),r=this.session.documentToScreenPosition(this.selectionAnchor),o=this.rectangularRangeBlock(i,r);o.forEach(this.addRange,this)}},this.rectangularRangeBlock=function(t,e,n){var i=[],o=t.column<e.column;if(o)var s=t.column,a=e.column;else var s=e.column,a=t.column;var u=t.row<e.row;if(u)var c=t.row,h=e.row;else var c=e.row,h=t.row;0>s&&(s=0),0>c&&(c=0),c==h&&(n=!0);for(var d=c;h>=d;d++){var f=l.fromPoints(this.session.screenToDocumentPosition(d,s),this.session.screenToDocumentPosition(d,a));if(f.isEmpty()){if(p&&r(f.end,p))break;var p=f.end}f.cursor=o?f.start:f.end,i.push(f)}if(u&&i.reverse(),!n){for(var g=i.length-1;i[g].isEmpty()&&g>0;)g--;if(g>0)for(var m=0;i[m].isEmpty();)m++;for(var v=g;v>=m;v--)i[v].isEmpty()&&i.splice(v,1)}return i}}.call(u.prototype);var v=t("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(t){t.cursor||(t.cursor=t.end);var e=this.getSelectionStyle();return t.marker=this.session.addMarker(t,"ace_selection",e),this.session.$selectionMarkers.push(t),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,t},this.removeSelectionMarker=function(t){if(t.marker){this.session.removeMarker(t.marker);var e=this.session.$selectionMarkers.indexOf(t);-1!=e&&this.session.$selectionMarkers.splice(e,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(t){for(var e=this.session.$selectionMarkers,n=t.length;n--;){var i=t[n];if(i.marker){this.session.removeMarker(i.marker);var r=e.indexOf(i);-1!=r&&e.splice(r,1)}}this.session.selectionMarkerCount=e.length},this.$onAddRange=function(t){this.addSelectionMarker(t.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(t){this.removeSelectionMarkers(t.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(t){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(f.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(t){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(f.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(t){var e=t.command,n=t.editor;if(n.multiSelect){if(e.multiSelectAction)"forEach"==e.multiSelectAction?i=n.forEachSelection(e,t.args):"forEachLine"==e.multiSelectAction?i=n.forEachSelection(e,t.args,!0):"single"==e.multiSelectAction?(n.exitMultiSelectMode(),i=e.exec(n,t.args||{})):i=e.multiSelectAction(n,t.args||{});else{var i=e.exec(n,t.args||{});n.multiSelect.addRange(n.multiSelect.toOrientedRange()),n.multiSelect.mergeOverlappingRanges()}return i}},this.forEachSelection=function(t,e,n){if(!this.inVirtualSelectionMode){var i,r=n&&n.keepOrder,o=1==n||n&&n.$byLines,s=this.session,a=this.selection,l=a.rangeList,c=(r?a:l).ranges;if(!c.length)return t.exec?t.exec(this,e||{}):t(this,e||{});var h=a._eventRegistry;a._eventRegistry={};var d=new u(s);this.inVirtualSelectionMode=!0;for(var f=c.length;f--;){if(o)for(;f>0&&c[f].start.row==c[f-1].end.row;)f--;d.fromOrientedRange(c[f]),d.index=f,this.selection=s.selection=d;var p=t.exec?t.exec(this,e||{}):t(this,e||{});i||void 0===p||(i=p),d.toOrientedRange(c[f])}d.detach(),this.selection=s.selection=a,this.inVirtualSelectionMode=!1,a._eventRegistry=h,a.mergeOverlappingRanges();var g=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),g&&g.from==g.to&&this.renderer.animateScrolling(g.from),i}},this.exitMultiSelectMode=function(){this.inMultiSelectMode&&!this.inVirtualSelectionMode&&this.multiSelect.toSingleRange()},this.getSelectedText=function(){var t="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var e=this.multiSelect.rangeList.ranges,n=[],i=0;i<e.length;i++)n.push(this.session.getTextRange(e[i]));var r=this.session.getDocument().getNewLineCharacter();t=n.join(r),t.length==(n.length-1)*r.length&&(t="")}else this.selection.isEmpty()||(t=this.session.getTextRange(this.getSelectionRange()));return t},this.$checkMultiselectChange=function(t,e){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var n=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&e==this.multiSelect.anchor)return;var i=e==this.multiSelect.anchor?n.cursor==n.start?n.end:n.start:n.cursor;i.row==e.row&&this.session.$clipPositionToDocument(i.row,i.column).column==e.column||this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange())}},this.findAll=function(t,e,n){if(e=e||{},e.needle=t||e.needle,void 0==e.needle){var i=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();e.needle=this.session.getTextRange(i)}this.$search.set(e);var r=this.$search.findAll(this.session);if(!r.length)return 0;this.$blockScrolling+=1;var o=this.multiSelect;n||o.toSingleRange(r[0]);for(var s=r.length;s--;)o.addRange(r[s],!0);return i&&o.rangeList.rangeAtPoint(i.start)&&o.addRange(i,!0),this.$blockScrolling-=1,r.length},this.selectMoreLines=function(t,e){var n=this.selection.toOrientedRange(),i=n.cursor==n.end,r=this.session.documentToScreenPosition(n.cursor);this.selection.$desiredColumn&&(r.column=this.selection.$desiredColumn);var o=this.session.screenToDocumentPosition(r.row+t,r.column);if(n.isEmpty())var s=o;else var a=this.session.documentToScreenPosition(i?n.end:n.start),s=this.session.screenToDocumentPosition(a.row+t,a.column);if(i){var u=l.fromPoints(o,s);u.cursor=u.start}else{var u=l.fromPoints(s,o);u.cursor=u.end}if(u.desiredColumn=r.column,this.selection.inMultiSelectMode){if(e)var c=n.cursor}else this.selection.addRange(n);this.selection.addRange(u),c&&this.selection.substractPoint(c)},this.transposeSelections=function(t){for(var e=this.session,n=e.multiSelect,i=n.ranges,r=i.length;r--;){var o=i[r];if(o.isEmpty()){var s=e.getWordRange(o.start.row,o.start.column);o.start.row=s.start.row,o.start.column=s.start.column,o.end.row=s.end.row,o.end.column=s.end.column}}n.mergeOverlappingRanges();for(var a=[],r=i.length;r--;){var o=i[r];a.unshift(e.getTextRange(o))}0>t?a.unshift(a.pop()):a.push(a.shift());for(var r=i.length;r--;){var o=i[r],s=o.clone();e.replace(o,a[r]),o.start.row=s.start.row,o.start.column=s.start.column}},this.selectMore=function(t,e,n){var r=this.session,o=r.multiSelect,s=o.toOrientedRange();if(!s.isEmpty()||(s=r.getWordRange(s.start.row,s.start.column),s.cursor=-1==t?s.start:s.end,this.multiSelect.addRange(s),!n)){var a=r.getTextRange(s),l=i(r,a,t);l&&(l.cursor=-1==t?l.start:l.end,this.$blockScrolling+=1,this.session.unfold(l),this.multiSelect.addRange(l),this.$blockScrolling-=1,this.renderer.scrollCursorIntoView(null,.5)),e&&this.multiSelect.substractPoint(s.cursor)}},this.alignCursors=function(){var t=this.session,e=t.multiSelect,n=e.ranges,i=-1,r=n.filter(function(t){return t.cursor.row==i?!0:void(i=t.cursor.row)});if(n.length&&r.length!=n.length-1){r.forEach(function(t){e.substractPoint(t.cursor)});var o=0,s=1/0,a=n.map(function(e){var n=e.cursor,i=t.getLine(n.row),r=i.substr(n.column).search(/\S/g);return-1==r&&(r=0),n.column>o&&(o=n.column),s>r&&(s=r),r});n.forEach(function(e,n){var i=e.cursor,r=o-i.column,u=a[n]-s;r>u?t.insert(i,d.stringRepeat(" ",r-u)):t.remove(new l(i.row,i.column,i.row,i.column-r+u)),e.start.column=e.end.column=o,e.start.row=e.end.row=i.row,e.cursor=e.end}),e.fromOrientedRange(n[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}else{var u=this.selection.getRange(),c=u.start.row,h=u.end.row,f=c==h;if(f){var p,g=this.session.getLength();do p=this.session.getLine(h);while(/[=:]/.test(p)&&++h<g);do p=this.session.getLine(c);while(/[=:]/.test(p)&&--c>0);0>c&&(c=0),h>=g&&(h=g-1)}var m=this.session.removeFullLines(c,h);m=this.$reAlignText(m,f),this.session.insert({row:c,column:0},m.join("\n")+"\n"),f||(u.start.column=0,u.end.column=m[m.length-1].length),this.selection.setRange(u)}},this.$reAlignText=function(t,e){function n(t){return d.stringRepeat(" ",t)}function i(t){return t[2]?n(s)+t[2]+n(a-t[2].length+l)+t[4].replace(/^([=:])\s+/,"$1 "):t[0]}function r(t){return t[2]?n(s+a-t[2].length)+t[2]+n(l," ")+t[4].replace(/^([=:])\s+/,"$1 "):t[0]}function o(t){return t[2]?n(s)+t[2]+n(l)+t[4].replace(/^([=:])\s+/,"$1 "):t[0]}var s,a,l,u=!0,c=!0;return t.map(function(t){var e=t.match(/(\s*)(.*?)(\s*)([=:].*)/);return e?null==s?(s=e[1].length,a=e[2].length,l=e[3].length,e):(s+a+l!=e[1].length+e[2].length+e[3].length&&(c=!1),s!=e[1].length&&(u=!1),s>e[1].length&&(s=e[1].length),a<e[2].length&&(a=e[2].length),l>e[3].length&&(l=e[3].length),e):[t]}).map(e?i:u?c?r:i:o)}}).call(v.prototype),e.onSessionChange=function(t){var e=t.session;e&&!e.multiSelect&&(e.$selectionMarkers=[],e.selection.$initRangeList(),e.multiSelect=e.selection),this.multiSelect=e&&e.multiSelect;var n=t.oldSession;n&&(n.multiSelect.off("addRange",this.$onAddRange),n.multiSelect.off("removeRange",this.$onRemoveRange),n.multiSelect.off("multiSelect",this.$onMultiSelect),n.multiSelect.off("singleSelect",this.$onSingleSelect),n.multiSelect.lead.off("change",this.$checkMultiselectChange),n.multiSelect.anchor.off("change",this.$checkMultiselectChange)),e&&(e.multiSelect.on("addRange",this.$onAddRange),e.multiSelect.on("removeRange",this.$onRemoveRange),e.multiSelect.on("multiSelect",this.$onMultiSelect),e.multiSelect.on("singleSelect",this.$onSingleSelect),e.multiSelect.lead.on("change",this.$checkMultiselectChange),e.multiSelect.anchor.on("change",this.$checkMultiselectChange)),e&&this.inMultiSelectMode!=e.selection.inMultiSelectMode&&(e.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())},e.MultiSelect=o,t("./config").defineOptions(v.prototype,"editor",{enableMultiselect:{set:function(t){o(this),t?(this.on("changeSession",this.$multiselectOnSessionChange),this.on("mousedown",c)):(this.off("changeSession",this.$multiselectOnSessionChange),this.off("mousedown",c))},value:!0},enableBlockSelect:{set:function(t){this.$blockSelectEnabled=t},value:!0}})}),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(t,e,n){"use strict";var i=t("../../range").Range,r=e.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(t,e,n){var i=t.getLine(n);return this.foldingStartMarker.test(i)?"start":"markbeginend"==e&&this.foldingStopMarker&&this.foldingStopMarker.test(i)?"end":""},this.getFoldWidgetRange=function(t,e,n){return null},this.indentationBlock=function(t,e,n){var r=/\S/,o=t.getLine(e),s=o.search(r);if(-1!=s){for(var a=n||o.length,l=t.getLength(),u=e,c=e;++e<l;){var h=t.getLine(e).search(r);if(-1!=h){if(s>=h)break;c=e}}if(c>u){var d=t.getLine(c).length;return new i(u,a,c,d)}}},this.openingBracketBlock=function(t,e,n,r,o){var s={row:n,column:r+1},a=t.$findClosingBracket(e,s,o);if(a){var l=t.foldWidgets[a.row];return null==l&&(l=t.getFoldWidget(a.row)),"start"==l&&a.row>s.row&&(a.row--,a.column=t.getLine(a.row).length),i.fromPoints(s,a)}},this.closingBracketBlock=function(t,e,n,r,o){var s={row:n,column:r},a=t.$findOpeningBracket(e,s);return a?(a.column++,s.column--,i.fromPoints(a,s)):void 0}}).call(r.prototype)}),ace.define("ace/theme/textmate",["require","exports","module","ace/lib/dom"],function(t,e,n){"use strict";e.isDark=!1,e.cssClass="ace-tm",e.cssText='.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;color: black;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}';var i=t("../lib/dom");i.importCssString(e.cssText,e.cssClass)}),ace.define("ace/line_widgets",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/range"],function(t,e,n){"use strict";function i(t){this.session=t,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}var r=(t("./lib/oop"),t("./lib/dom"));t("./range").Range;(function(){this.getRowLength=function(t){var e;return e=this.lineWidgets?this.lineWidgets[t]&&this.lineWidgets[t].rowCount||0:0,this.$useWrapMode&&this.$wrapData[t]?this.$wrapData[t].length+1+e:1+e},this.$getWidgetScreenLength=function(){var t=0;return this.lineWidgets.forEach(function(e){e&&e.rowCount&&!e.hidden&&(t+=e.rowCount)}),t},this.$onChangeEditor=function(t){this.attach(t.editor)},this.attach=function(t){t&&t.widgetManager&&t.widgetManager!=this&&t.widgetManager.detach(),this.editor!=t&&(this.detach(),this.editor=t,t&&(t.widgetManager=this,t.renderer.on("beforeRender",this.measureWidgets),t.renderer.on("afterRender",this.renderWidgets)))},this.detach=function(t){var e=this.editor;if(e){this.editor=null,e.widgetManager=null,e.renderer.off("beforeRender",this.measureWidgets),e.renderer.off("afterRender",this.renderWidgets);var n=this.session.lineWidgets;n&&n.forEach(function(t){t&&t.el&&t.el.parentNode&&(t._inDocument=!1,t.el.parentNode.removeChild(t.el))})}},this.updateOnFold=function(t,e){var n=e.lineWidgets;if(n&&t.action){for(var i=t.data,r=i.start.row,o=i.end.row,s="add"==t.action,a=r+1;o>a;a++)n[a]&&(n[a].hidden=s);n[o]&&(s?n[r]?n[o].hidden=s:n[r]=n[o]:(n[r]==n[o]&&(n[r]=void 0),n[o].hidden=s))}},this.updateOnChange=function(t){var e=this.session.lineWidgets;if(e){var n=t.start.row,i=t.end.row-n;if(0===i);else if("remove"==t.action){var r=e.splice(n+1,i);r.forEach(function(t){t&&this.removeLineWidget(t)},this),this.$updateRows()}else{var o=new Array(i);o.unshift(n,0),e.splice.apply(e,o),this.$updateRows()}}},this.$updateRows=function(){var t=this.session.lineWidgets;if(t){var e=!0;t.forEach(function(t,n){if(t)for(e=!1,t.row=n;t.$oldWidget;)t.$oldWidget.row=n,t=t.$oldWidget}),e&&(this.session.lineWidgets=null)}},this.addLineWidget=function(t){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var e=this.session.lineWidgets[t.row];e&&(t.$oldWidget=e,e.el&&e.el.parentNode&&(e.el.parentNode.removeChild(e.el),e._inDocument=!1)),this.session.lineWidgets[t.row]=t,t.session=this.session;var n=this.editor.renderer;t.html&&!t.el&&(t.el=r.createElement("div"),t.el.innerHTML=t.html),t.el&&(r.addCssClass(t.el,"ace_lineWidgetContainer"),t.el.style.position="absolute",t.el.style.zIndex=5,n.container.appendChild(t.el),t._inDocument=!0),t.coverGutter||(t.el.style.zIndex=3),t.pixelHeight||(t.pixelHeight=t.el.offsetHeight),null==t.rowCount&&(t.rowCount=t.pixelHeight/n.layerConfig.lineHeight);var i=this.session.getFoldAt(t.row,0);if(t.$fold=i,i){var o=this.session.lineWidgets;t.row!=i.end.row||o[i.start.row]?t.hidden=!0:o[i.start.row]=t}return this.session._emit("changeFold",{data:{start:{row:t.row}}}),this.$updateRows(),this.renderWidgets(null,n),this.onWidgetChanged(t),t},this.removeLineWidget=function(t){if(t._inDocument=!1,t.session=null,t.el&&t.el.parentNode&&t.el.parentNode.removeChild(t.el),t.editor&&t.editor.destroy)try{t.editor.destroy()}catch(e){}if(this.session.lineWidgets){var n=this.session.lineWidgets[t.row];if(n==t)this.session.lineWidgets[t.row]=t.$oldWidget,t.$oldWidget&&this.onWidgetChanged(t.$oldWidget);else for(;n;){if(n.$oldWidget==t){n.$oldWidget=t.$oldWidget;break}n=n.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:t.row}}}),this.$updateRows()},this.getWidgetsAtRow=function(t){for(var e=this.session.lineWidgets,n=e&&e[t],i=[];n;)i.push(n),n=n.$oldWidget;return i},this.onWidgetChanged=function(t){this.session._changedWidgets.push(t),this.editor&&this.editor.renderer.updateFull()},this.measureWidgets=function(t,e){var n=this.session._changedWidgets,i=e.layerConfig;if(n&&n.length){for(var r=1/0,o=0;o<n.length;o++){var s=n[o];if(s&&s.el&&s.session==this.session){if(!s._inDocument){if(this.session.lineWidgets[s.row]!=s)continue;s._inDocument=!0,e.container.appendChild(s.el)}s.h=s.el.offsetHeight,s.fixedWidth||(s.w=s.el.offsetWidth,s.screenWidth=Math.ceil(s.w/i.characterWidth));var a=s.h/i.lineHeight;s.coverLine&&(a-=this.session.getRowLineCount(s.row),0>a&&(a=0)),s.rowCount!=a&&(s.rowCount=a,s.row<r&&(r=s.row))}}r!=1/0&&(this.session._emit("changeFold",{data:{start:{row:r}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},this.renderWidgets=function(t,e){var n=e.layerConfig,i=this.session.lineWidgets;if(i){for(var r=Math.min(this.firstRow,n.firstRow),o=Math.max(this.lastRow,n.lastRow,i.length);r>0&&!i[r];)r--;this.firstRow=n.firstRow,this.lastRow=n.lastRow,e.$cursorLayer.config=n;for(var s=r;o>=s;s++){var a=i[s];if(a&&a.el)if(a.hidden)a.el.style.top=-100-(a.pixelHeight||0)+"px";else{a._inDocument||(a._inDocument=!0,e.container.appendChild(a.el));var l=e.$cursorLayer.getPixelPosition({row:s,column:0},!0).top;a.coverLine||(l+=n.lineHeight*this.session.getRowLineCount(a.row)),a.el.style.top=l-n.offset+"px";var u=a.coverGutter?0:e.gutterWidth;a.fixedWidth||(u-=e.scrollLeft),a.el.style.left=u+"px",a.fullWidth&&a.screenWidth&&(a.el.style.minWidth=n.width+2*n.padding+"px"),a.fixedWidth?a.el.style.right=e.scrollBar.getWidth()+"px":a.el.style.right=""}}}}}).call(i.prototype),e.LineWidgets=i}),ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range"],function(t,e,n){"use strict";function i(t,e,n){for(var i=0,r=t.length-1;r>=i;){var o=i+r>>1,s=n(e,t[o]);if(s>0)i=o+1;else{if(!(0>s))return o;r=o-1}}return-(i+1)}function r(t,e,n){var r=t.getAnnotations().sort(a.comparePoints);if(r.length){var o=i(r,{row:e,column:-1},a.comparePoints);0>o&&(o=-o-1),o>=r.length?o=n>0?0:r.length-1:0===o&&0>n&&(o=r.length-1);var s=r[o];if(s&&n){if(s.row===e){do s=r[o+=n];while(s&&s.row===e);if(!s)return r.slice()}var l=[];e=s.row;do l[0>n?"unshift":"push"](s),s=r[o+=n];while(s&&s.row==e);return l.length&&l}}}var o=t("../line_widgets").LineWidgets,s=t("../lib/dom"),a=t("../range").Range;e.showErrorMarker=function(t,e){var n=t.session;n.widgetManager||(n.widgetManager=new o(n),
n.widgetManager.attach(t));var i=t.getCursorPosition(),a=i.row,l=n.widgetManager.getWidgetsAtRow(a).filter(function(t){return"errorMarker"==t.type})[0];l?l.destroy():a-=e;var u,c=r(n,a,e);if(c){var h=c[0];i.column=(h.pos&&"number"!=typeof h.column?h.pos.sc:h.column)||0,i.row=h.row,u=t.renderer.$gutterLayer.$annotations[i.row]}else{if(l)return;u={text:["Looks good!"],className:"ace_ok"}}t.session.unfold(i.row),t.selection.moveToPosition(i);var d={row:i.row,fixedWidth:!0,coverGutter:!0,el:s.createElement("div"),type:"errorMarker"},f=d.el.appendChild(s.createElement("div")),p=d.el.appendChild(s.createElement("div"));p.className="error_widget_arrow "+u.className;var g=t.renderer.$cursorLayer.getPixelPosition(i).left;p.style.left=g+t.renderer.gutterWidth-5+"px",d.el.className="error_widget_wrapper",f.className="error_widget "+u.className,f.innerHTML=u.text.join("<br>"),f.appendChild(s.createElement("div"));var m=function(t,e,n){return 0!==e||"esc"!==n&&"return"!==n?void 0:(d.destroy(),{command:"null"})};d.destroy=function(){t.$mouseHandler.isMousePressed||(t.keyBinding.removeKeyboardHandler(m),n.widgetManager.removeLineWidget(d),t.off("changeSelection",d.destroy),t.off("changeSession",d.destroy),t.off("mouseup",d.destroy),t.off("change",d.destroy))},t.keyBinding.addKeyboardHandler(m),t.on("changeSelection",d.destroy),t.on("changeSession",d.destroy),t.on("mouseup",d.destroy),t.on("change",d.destroy),t.session.widgetManager.addLineWidget(d),d.el.onmousedown=t.focus.bind(t),t.renderer.scrollCursorIntoView(null,.5,{bottom:d.el.offsetHeight})},s.importCssString("    .error_widget_wrapper {        background: inherit;        color: inherit;        border:none    }    .error_widget {        border-top: solid 2px;        border-bottom: solid 2px;        margin: 5px 0;        padding: 10px 40px;        white-space: pre-wrap;    }    .error_widget.ace_error, .error_widget_arrow.ace_error{        border-color: #ff5a5a    }    .error_widget.ace_warning, .error_widget_arrow.ace_warning{        border-color: #F1D817    }    .error_widget.ace_info, .error_widget_arrow.ace_info{        border-color: #5a5a5a    }    .error_widget.ace_ok, .error_widget_arrow.ace_ok{        border-color: #5aaa5a    }    .error_widget_arrow {        position: absolute;        border: solid 5px;        border-top-color: transparent!important;        border-right-color: transparent!important;        border-left-color: transparent!important;        top: -5px;    }","")}),ace.define("ace/ace",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/dom","ace/lib/event","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config"],function(t,e,n){"use strict";t("./lib/fixoldbrowsers");var i=t("./lib/dom"),r=t("./lib/event"),o=t("./editor").Editor,s=t("./edit_session").EditSession,a=t("./undomanager").UndoManager,l=t("./virtual_renderer").VirtualRenderer;t("./worker/worker_client"),t("./keyboard/hash_handler"),t("./placeholder"),t("./multi_select"),t("./mode/folding/fold_mode"),t("./theme/textmate"),t("./ext/error_marker"),e.config=t("./config"),e.require=t,e.edit=function(t){if("string"==typeof t){var n=t;if(t=document.getElementById(n),!t)throw new Error("ace.edit can't find div #"+n)}if(t&&t.env&&t.env.editor instanceof o)return t.env.editor;var s="";if(t&&/input|textarea/i.test(t.tagName)){var a=t;s=a.value,t=i.createElement("pre"),a.parentNode.replaceChild(t,a)}else t&&(s=i.getInnerText(t),t.innerHTML="");var u=e.createEditSession(s),c=new o(new l(t));c.setSession(u);var h={document:u,editor:c,onResize:c.resize.bind(c,null)};return a&&(h.textarea=a),r.addListener(window,"resize",h.onResize),c.on("destroy",function(){r.removeListener(window,"resize",h.onResize),h.editor.container.env=null}),c.container.env=c.env=h,c},e.createEditSession=function(t,e){var n=new s(t,e);return n.setUndoManager(new a),n},e.EditSession=s,e.UndoManager=a,e.version="1.2.3"}),function(){ace.require(["ace/ace"],function(t){t&&t.config.init(!0),window.ace||(window.ace=t);for(var e in t)t.hasOwnProperty(e)&&(window.ace[e]=t[e])})}(),ace.define("ace/theme/merbivore_soft",["require","exports","module","ace/lib/dom"],function(t,e,n){e.isDark=!0,e.cssClass="ace-merbivore-soft",e.cssText=".ace-merbivore-soft .ace_gutter {background: #262424;color: #E6E1DC}.ace-merbivore-soft .ace_print-margin {width: 1px;background: #262424}.ace-merbivore-soft {background-color: #1C1C1C;color: #E6E1DC}.ace-merbivore-soft .ace_cursor {color: #FFFFFF}.ace-merbivore-soft .ace_marker-layer .ace_selection {background: #494949}.ace-merbivore-soft.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px #1C1C1C;}.ace-merbivore-soft .ace_marker-layer .ace_step {background: rgb(102, 82, 0)}.ace-merbivore-soft .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid #404040}.ace-merbivore-soft .ace_marker-layer .ace_active-line {background: #333435}.ace-merbivore-soft .ace_gutter-active-line {background-color: #333435}.ace-merbivore-soft .ace_marker-layer .ace_selected-word {border: 1px solid #494949}.ace-merbivore-soft .ace_invisible {color: #404040}.ace-merbivore-soft .ace_entity.ace_name.ace_tag,.ace-merbivore-soft .ace_keyword,.ace-merbivore-soft .ace_meta,.ace-merbivore-soft .ace_meta.ace_tag,.ace-merbivore-soft .ace_storage {color: #FC803A}.ace-merbivore-soft .ace_constant,.ace-merbivore-soft .ace_constant.ace_character,.ace-merbivore-soft .ace_constant.ace_character.ace_escape,.ace-merbivore-soft .ace_constant.ace_other,.ace-merbivore-soft .ace_support.ace_type {color: #68C1D8}.ace-merbivore-soft .ace_constant.ace_character.ace_escape {color: #B3E5B4}.ace-merbivore-soft .ace_constant.ace_language {color: #E1C582}.ace-merbivore-soft .ace_constant.ace_library,.ace-merbivore-soft .ace_string,.ace-merbivore-soft .ace_support.ace_constant {color: #8EC65F}.ace-merbivore-soft .ace_constant.ace_numeric {color: #7FC578}.ace-merbivore-soft .ace_invalid,.ace-merbivore-soft .ace_invalid.ace_deprecated {color: #FFFFFF;background-color: #FE3838}.ace-merbivore-soft .ace_fold {background-color: #FC803A;border-color: #E6E1DC}.ace-merbivore-soft .ace_comment,.ace-merbivore-soft .ace_meta {font-style: italic;color: #AC4BB8}.ace-merbivore-soft .ace_entity.ace_other.ace_attribute-name {color: #EAF1A3}.ace-merbivore-soft .ace_indent-guide {background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWOQkpLyZfD09PwPAAfYAnaStpHRAAAAAElFTkSuQmCC) right repeat-y}";var i=t("../lib/dom");i.importCssString(e.cssText,e.cssClass)}),function(t){function e(t,e,r){var o=t[0],s=/er/.test(r)?_indeterminate:/bl/.test(r)?p:d,a=r==_update?{checked:o[d],disabled:o[p],indeterminate:"true"==t.attr(_indeterminate)||"false"==t.attr(_determinate)}:o[s];if(/^(ch|di|in)/.test(r)&&!a)n(t,s);else if(/^(un|en|de)/.test(r)&&a)i(t,s);else if(r==_update)for(var l in a)a[l]?n(t,l,!0):i(t,l,!0);else e&&"toggle"!=r||(e||t[_callback]("ifClicked"),a?o[_type]!==h&&i(t,s):n(t,s))}function n(e,n,r){var c=e[0],g=e.parent(),m=n==d,v=n==_indeterminate,y=n==p,w=v?_determinate:m?f:"enabled",b=o(e,w+s(c[_type])),A=o(e,n+s(c[_type]));if(c[n]!==!0){if(!r&&n==d&&c[_type]==h&&c.name){var C=e.closest("form"),x='input[name="'+c.name+'"]';x=C.length?C.find(x):t(x),x.each(function(){this!==c&&t(this).data(l)&&i(t(this),n)})}v?(c[n]=!0,c[d]&&i(e,d,"force")):(r||(c[n]=!0),m&&c[_indeterminate]&&i(e,_indeterminate,!1)),a(e,m,n,r)}c[p]&&o(e,_cursor,!0)&&g.find("."+u).css(_cursor,"default"),g[_add](A||o(e,n)||""),g.attr("role")&&!v&&g.attr("aria-"+(y?p:d),"true"),g[_remove](b||o(e,w)||"")}function i(t,e,n){var i=t[0],r=t.parent(),l=e==d,c=e==_indeterminate,h=e==p,g=c?_determinate:l?f:"enabled",m=o(t,g+s(i[_type])),v=o(t,e+s(i[_type]));i[e]!==!1&&(!c&&n&&"force"!=n||(i[e]=!1),a(t,l,g,n)),!i[p]&&o(t,_cursor,!0)&&r.find("."+u).css(_cursor,"pointer"),r[_remove](v||o(t,e)||""),r.attr("role")&&!c&&r.attr("aria-"+(h?p:d),"false"),r[_add](m||o(t,g)||"")}function r(e,n){e.data(l)&&(e.parent().html(e.attr("style",e.data(l).s||"")),n&&e[_callback](n),e.off(".i").unwrap(),t(_label+'[for="'+e[0].id+'"]').add(e.closest(_label)).off(".i"))}function o(t,e,n){return t.data(l)?t.data(l).o[e+(n?"":"Class")]:void 0}function s(t){return t.charAt(0).toUpperCase()+t.slice(1)}function a(t,e,n,i){i||(e&&t[_callback]("ifToggled"),t[_callback]("ifChanged")[_callback]("if"+s(n)))}var l="iCheck",u=l+"-helper",c="checkbox",h="radio",d="checked",f="un"+d,p="disabled";_determinate="determinate",_indeterminate="in"+_determinate,_update="update",_type="type",_click="click",_touch="touchbegin.i touchend.i",_add="addClass",_remove="removeClass",_callback="trigger",_label="label",_cursor="cursor",_mobile=/ipad|iphone|ipod|android|blackberry|windows phone|opera mini|silk/i.test(navigator.userAgent),t.fn[l]=function(o,s){var a='input[type="'+c+'"], input[type="'+h+'"]',f=t(),g=function(e){e.each(function(){var e=t(this);f=e.is(a)?f.add(e):f.add(e.find(a))})};if(/^(check|uncheck|toggle|indeterminate|determinate|disable|enable|update|destroy)$/i.test(o))return o=o.toLowerCase(),g(this),f.each(function(){var n=t(this);"destroy"==o?r(n,"ifDestroyed"):e(n,!0,o),t.isFunction(s)&&s()});if("object"!=typeof o&&o)return this;var m=t.extend({checkedClass:d,disabledClass:p,indeterminateClass:_indeterminate,labelHover:!0},o),v=m.handle,y=m.hoverClass||"hover",w=m.focusClass||"focus",b=m.activeClass||"active",A=!!m.labelHover,C=m.labelHoverClass||"hover",x=0|(""+m.increaseArea).replace("%","");return v!=c&&v!=h||(a='input[type="'+v+'"]'),-50>x&&(x=-50),g(this),f.each(function(){var o=t(this);r(o);var s,a=this,f=a.id,g=-x+"%",v=100+2*x+"%",E={position:"absolute",top:g,left:g,display:"block",width:v,height:v,margin:0,padding:0,background:"#fff",border:0,opacity:0},_=_mobile?{position:"absolute",visibility:"hidden"}:x?E:{position:"absolute",opacity:0},F=a[_type]==c?m.checkboxClass||"i"+c:m.radioClass||"i"+h,k=t(_label+'[for="'+f+'"]').add(o.closest(_label)),S=!!m.aria,D=l+"-"+Math.random().toString(36).substr(2,6),M='<div class="'+F+'" '+(S?'role="'+a[_type]+'" ':"");S&&k.each(function(){M+='aria-labelledby="',this.id?M+=this.id:(this.id=D,M+=D),M+='"'}),M=o.wrap(M+"/>")[_callback]("ifCreated").parent().append(m.insert),s=t('<ins class="'+u+'"/>').css(E).appendTo(M),o.data(l,{o:m,s:o.attr("style")}).css(_),!!m.inheritClass&&M[_add](a.className||""),!!m.inheritID&&f&&M.attr("id",l+"-"+f),"static"==M.css("position")&&M.css("position","relative"),e(o,!0,_update),k.length&&k.on(_click+".i mouseover.i mouseout.i "+_touch,function(n){var i=n[_type],r=t(this);if(!a[p]){if(i==_click){if(t(n.target).is("a"))return;e(o,!1,!0)}else A&&(/ut|nd/.test(i)?(M[_remove](y),r[_remove](C)):(M[_add](y),r[_add](C)));if(!_mobile)return!1;n.stopPropagation()}}),o.on(_click+".i focus.i blur.i keyup.i keydown.i keypress.i",function(t){var e=t[_type],r=t.keyCode;return e==_click?!1:"keydown"==e&&32==r?(a[_type]==h&&a[d]||(a[d]?i(o,d):n(o,d)),!1):void("keyup"==e&&a[_type]==h?!a[d]&&n(o,d):/us|ur/.test(e)&&M["blur"==e?_remove:_add](w))}),s.on(_click+" mousedown mouseup mouseover mouseout "+_touch,function(t){var n=t[_type],i=/wn|up/.test(n)?b:y;if(!a[p]){if(n==_click?e(o,!1,!0):(/wn|er|in/.test(n)?M[_add](i):M[_remove](i+" "+b),k.length&&A&&i==y&&k[/ut|nd/.test(n)?_remove:_add](C)),!_mobile)return!1;t.stopPropagation()}})})}}(window.jQuery||window.Zepto),!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.Clipboard=t()}}(function(){var t;return function e(t,n,i){function r(s,a){if(!n[s]){if(!t[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[s]={exports:{}};t[s][0].call(c.exports,function(e){var n=t[s][1][e];return r(n?n:e)},c,c.exports,e,t,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(t,e,n){var i=t("matches-selector");e.exports=function(t,e,n){for(var r=n?t:t.parentNode;r&&r!==document;){if(i(r,e))return r;r=r.parentNode}}},{"matches-selector":5}],2:[function(t,e,n){function i(t,e,n,i,o){var s=r.apply(this,arguments);return t.addEventListener(n,s,o),{destroy:function(){t.removeEventListener(n,s,o)}}}function r(t,e,n,i){return function(n){n.delegateTarget=o(n.target,e,!0),n.delegateTarget&&i.call(t,n)}}var o=t("closest");e.exports=i},{closest:1}],3:[function(t,e,n){n.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},n.nodeList=function(t){var e=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===e||"[object HTMLCollection]"===e)&&"length"in t&&(0===t.length||n.node(t[0]))},n.string=function(t){return"string"==typeof t||t instanceof String},n.fn=function(t){var e=Object.prototype.toString.call(t);return"[object Function]"===e}},{}],4:[function(t,e,n){function i(t,e,n){if(!t&&!e&&!n)throw new Error("Missing required arguments");if(!a.string(e))throw new TypeError("Second argument must be a String");if(!a.fn(n))throw new TypeError("Third argument must be a Function");if(a.node(t))return r(t,e,n);if(a.nodeList(t))return o(t,e,n);if(a.string(t))return s(t,e,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function r(t,e,n){return t.addEventListener(e,n),{destroy:function(){t.removeEventListener(e,n)}}}function o(t,e,n){return Array.prototype.forEach.call(t,function(t){t.addEventListener(e,n)}),{destroy:function(){Array.prototype.forEach.call(t,function(t){t.removeEventListener(e,n)})}}}function s(t,e,n){return l(document.body,t,e,n)}var a=t("./is"),l=t("delegate");e.exports=i},{"./is":3,delegate:2}],5:[function(t,e,n){function i(t,e){if(o)return o.call(t,e);for(var n=t.parentNode.querySelectorAll(e),i=0;i<n.length;++i)if(n[i]==t)return!0;return!1}var r=Element.prototype,o=r.matchesSelector||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector;e.exports=i},{}],6:[function(t,e,n){function i(t){var e;if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName)t.focus(),t.setSelectionRange(0,t.value.length),e=t.value;else{t.hasAttribute("contenteditable")&&t.focus();var n=window.getSelection(),i=document.createRange();i.selectNodeContents(t),n.removeAllRanges(),n.addRange(i),e=n.toString()}return e}e.exports=i},{}],7:[function(t,e,n){function i(){}i.prototype={on:function(t,e,n){var i=this.e||(this.e={});return(i[t]||(i[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){function i(){r.off(t,i),e.apply(n,arguments)}var r=this;return i._=e,this.on(t,i,n)},emit:function(t){var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),i=0,r=n.length;for(i;r>i;i++)n[i].fn.apply(n[i].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),i=n[t],r=[];if(i&&e)for(var o=0,s=i.length;s>o;o++)i[o].fn!==e&&i[o].fn._!==e&&r.push(i[o]);return r.length?n[t]=r:delete n[t],this}},e.exports=i},{}],8:[function(e,n,i){!function(r,o){if("function"==typeof t&&t.amd)t(["module","select"],o);else if("undefined"!=typeof i)o(n,e("select"));else{var s={exports:{}};o(s,r.select),r.clipboardAction=s.exports}}(this,function(t,e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=n(e),o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=function(){function t(e){i(this,t),this.resolveOptions(e),this.initSelection()}return t.prototype.resolveOptions=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.action=t.action,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""},t.prototype.initSelection=function(){this.text?this.selectFake():this.target&&this.selectTarget()},t.prototype.selectFake=function(){var t=this,e="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandler=document.body.addEventListener("click",function(){return t.removeFake()}),this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="fixed",this.fakeElem.style[e?"right":"left"]="-9999px",this.fakeElem.style.top=(window.pageYOffset||document.documentElement.scrollTop)+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,document.body.appendChild(this.fakeElem),this.selectedText=(0,r["default"])(this.fakeElem),this.copyText()},t.prototype.removeFake=function(){this.fakeHandler&&(document.body.removeEventListener("click"),this.fakeHandler=null),this.fakeElem&&(document.body.removeChild(this.fakeElem),this.fakeElem=null)},t.prototype.selectTarget=function(){this.selectedText=(0,r["default"])(this.target),this.copyText()},t.prototype.copyText=function(){var t=void 0;try{t=document.execCommand(this.action)}catch(e){t=!1}this.handleResult(t)},t.prototype.handleResult=function(t){t?this.emitter.emit("success",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)}):this.emitter.emit("error",{action:this.action,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})},t.prototype.clearSelection=function(){this.target&&this.target.blur(),window.getSelection().removeAllRanges()},t.prototype.destroy=function(){this.removeFake()},s(t,[{key:"action",set:function(){var t=arguments.length<=0||void 0===arguments[0]?"copy":arguments[0];if(this._action=t,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(t){if(void 0!==t){if(!t||"object"!==("undefined"==typeof t?"undefined":o(t))||1!==t.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(t.hasAttribute("readonly")||t.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=t}},get:function(){return this._target}}]),t}();t.exports=a})},{select:6}],9:[function(e,n,i){!function(r,o){if("function"==typeof t&&t.amd)t(["module","./clipboard-action","tiny-emitter","good-listener"],o);else if("undefined"!=typeof i)o(n,e("./clipboard-action"),e("tiny-emitter"),e("good-listener"));else{var s={exports:{}};o(s,r.clipboardAction,r.tinyEmitter,r.goodListener),r.clipboard=s.exports}}(this,function(t,e,n,i){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t,e){var n="data-clipboard-"+t;return e.hasAttribute(n)?e.getAttribute(n):void 0}var u=r(e),c=r(n),h=r(i),d=function(t){function e(n,i){o(this,e);var r=s(this,t.call(this));return r.resolveOptions(i),r.listenClick(n),r}return a(e,t),e.prototype.resolveOptions=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText},e.prototype.listenClick=function(t){var e=this;this.listener=(0,h["default"])(t,"click",function(t){return e.onClick(t)})},e.prototype.onClick=function(t){var e=t.delegateTarget||t.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new u["default"]({action:this.action(e),target:this.target(e),text:this.text(e),trigger:e,emitter:this})},e.prototype.defaultAction=function(t){return l("action",t)},e.prototype.defaultTarget=function(t){var e=l("target",t);return e?document.querySelector(e):void 0},e.prototype.defaultText=function(t){return l("text",t)},e.prototype.destroy=function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)},e}(c["default"]);t.exports=d})},{"./clipboard-action":8,"good-listener":4,"tiny-emitter":7}]},{},[9])(9)}),!function(){function t(t){return t&&(t.ownerDocument||t.document||t).documentElement}function e(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}function n(t,e){return e>t?-1:t>e?1:t>=e?0:NaN}function i(t){return null===t?NaN:+t}function r(t){return!isNaN(t)}function o(t){return{left:function(e,n,i,r){for(arguments.length<3&&(i=0),arguments.length<4&&(r=e.length);r>i;){var o=i+r>>>1;t(e[o],n)<0?i=o+1:r=o}return i},right:function(e,n,i,r){for(arguments.length<3&&(i=0),arguments.length<4&&(r=e.length);r>i;){var o=i+r>>>1;t(e[o],n)>0?r=o:i=o+1}return i}}}function s(t){return t.length}function a(t){for(var e=1;t*e%1;)e*=10;return e}function l(t,e){for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}function u(){this._=Object.create(null)}function c(t){return(t+="")===As||t[0]===Cs?Cs+t:t}function h(t){return(t+="")[0]===Cs?t.slice(1):t}function d(t){return c(t)in this._}function f(t){return(t=c(t))in this._&&delete this._[t]}function p(){var t=[];for(var e in this._)t.push(h(e));return t}function g(){var t=0;for(var e in this._)++t;return t}function m(){for(var t in this._)return!1;return!0}function v(){this._=Object.create(null)}function y(t){return t}function w(t,e,n){return function(){var i=n.apply(e,arguments);return i===e?t:i}}function b(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,i=xs.length;i>n;++n){var r=xs[n]+e;if(r in t)return r}}function A(){}function C(){}function x(t){function e(){for(var e,i=n,r=-1,o=i.length;++r<o;)(e=i[r].on)&&e.apply(this,arguments);return t}var n=[],i=new u;return e.on=function(e,r){var o,s=i.get(e);return arguments.length<2?s&&s.on:(s&&(s.on=null,n=n.slice(0,o=n.indexOf(s)).concat(n.slice(o+1)),i.remove(e)),r&&n.push(i.set(e,{on:r})),t)},e}function E(){ls.event.preventDefault()}function _(){for(var t,e=ls.event;t=e.sourceEvent;)e=t;return e}function F(t){for(var e=new C,n=0,i=arguments.length;++n<i;)e[arguments[n]]=x(e);return e.of=function(n,i){return function(r){try{var o=r.sourceEvent=ls.event;r.target=t,ls.event=r,e[r.type].apply(n,i)}finally{ls.event=o}}},e}function k(t){return _s(t,Ds),t}function S(t){return"function"==typeof t?t:function(){return Fs(t,this)}}function D(t){return"function"==typeof t?t:function(){return ks(t,this)}}function M(t,e){function n(){this.removeAttribute(t)}function i(){this.removeAttributeNS(t.space,t.local)}function r(){this.setAttribute(t,e)}function o(){this.setAttributeNS(t.space,t.local,e)}function s(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}function a(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}return t=ls.ns.qualify(t),null==e?t.local?i:n:"function"==typeof e?t.local?a:s:t.local?o:r}function T(t){return t.trim().replace(/\s+/g," ")}function $(t){return new RegExp("(?:^|\\s+)"+ls.requote(t)+"(?:\\s+|$)","g")}function L(t){return(t+"").trim().split(/^|\s+/)}function B(t,e){function n(){for(var n=-1;++n<r;)t[n](this,e)}function i(){for(var n=-1,i=e.apply(this,arguments);++n<r;)t[n](this,i)}t=L(t).map(R);var r=t.length;return"function"==typeof e?i:n}function R(t){var e=$(t);return function(n,i){if(r=n.classList)return i?r.add(t):r.remove(t);var r=n.getAttribute("class")||"";i?(e.lastIndex=0,e.test(r)||n.setAttribute("class",T(r+" "+t))):n.setAttribute("class",T(r.replace(e," ")))}}function N(t,e,n){function i(){this.style.removeProperty(t)}function r(){this.style.setProperty(t,e,n)}function o(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}return null==e?i:"function"==typeof e?o:r}function O(t,e){function n(){delete this[t]}function i(){this[t]=e}function r(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}return null==e?n:"function"==typeof e?r:i}function I(t){function e(){var e=this.ownerDocument,n=this.namespaceURI;return n===Ms&&e.documentElement.namespaceURI===Ms?e.createElement(t):e.createElementNS(n,t)}function n(){return this.ownerDocument.createElementNS(t.space,t.local)}return"function"==typeof t?t:(t=ls.ns.qualify(t)).local?n:e}function P(){var t=this.parentNode;t&&t.removeChild(this)}function z(t){return{__data__:t}}function j(t){return function(){return Ss(this,t)}}function H(t){return arguments.length||(t=n),function(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}}function W(t,e){for(var n=0,i=t.length;i>n;n++)for(var r,o=t[n],s=0,a=o.length;a>s;s++)(r=o[s])&&e(r,s,n);return t}function U(t){return _s(t,$s),t}function q(t){var e,n;return function(i,r,o){var s,a=t[o].update,l=a.length;for(o!=n&&(n=o,e=0),r>=e&&(e=r+1);!(s=a[e])&&++e<l;);return s}}function V(t,e,n){function i(){var e=this[s];e&&(this.removeEventListener(t,e,e.$),delete this[s])}function r(){var r=l(e,cs(arguments));i.call(this),this.addEventListener(t,this[s]=r,r.$=n),r._=e}function o(){var e,n=new RegExp("^__on([^.]+)"+ls.requote(t)+"$");for(var i in this)if(e=i.match(n)){var r=this[i];this.removeEventListener(e[1],r,r.$),delete this[i]}}var s="__on"+t,a=t.indexOf("."),l=G;a>0&&(t=t.slice(0,a));var u=Ls.get(t);return u&&(t=u,l=K),a?e?r:i:e?A:o}function G(t,e){return function(n){var i=ls.event;ls.event=n,e[0]=this.__data__;try{t.apply(this,e)}finally{ls.event=i}}}function K(t,e){var n=G(t,e);return function(t){var e=this,i=t.relatedTarget;i&&(i===e||8&i.compareDocumentPosition(e))||n.call(e,t)}}function Y(n){var i=".dragsuppress-"+ ++Rs,r="click"+i,o=ls.select(e(n)).on("touchmove"+i,E).on("dragstart"+i,E).on("selectstart"+i,E);if(null==Bs&&(Bs="onselectstart"in n?!1:b(n.style,"userSelect")),Bs){var s=t(n).style,a=s[Bs];s[Bs]="none"}return function(t){if(o.on(i,null),Bs&&(s[Bs]=a),t){var e=function(){o.on(r,null)};o.on(r,function(){E(),e()},!0),setTimeout(e,0)}}}function X(t,n){n.changedTouches&&(n=n.changedTouches[0]);var i=t.ownerSVGElement||t;if(i.createSVGPoint){var r=i.createSVGPoint();if(0>Ns){var o=e(t);if(o.scrollX||o.scrollY){i=ls.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var s=i[0][0].getScreenCTM();Ns=!(s.f||s.e),i.remove()}}return Ns?(r.x=n.pageX,r.y=n.pageY):(r.x=n.clientX,r.y=n.clientY),r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}var a=t.getBoundingClientRect();return[n.clientX-a.left-t.clientLeft,n.clientY-a.top-t.clientTop]}function Q(){return ls.event.changedTouches[0].identifier}function J(t){return t>0?1:0>t?-1:0}function Z(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function tt(t){return t>1?0:-1>t?Ps:Math.acos(t)}function et(t){return t>1?Hs:-1>t?-Hs:Math.asin(t)}function nt(t){return((t=Math.exp(t))-1/t)/2}function it(t){return((t=Math.exp(t))+1/t)/2}function rt(t){return((t=Math.exp(2*t))-1)/(t+1)}function ot(t){return(t=Math.sin(t/2))*t}function st(){}function at(t,e,n){return this instanceof at?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof at?new at(t.h,t.s,t.l):At(""+t,Ct,at):new at(t,e,n)}function lt(t,e,n){function i(t){return t>360?t-=360:0>t&&(t+=360),60>t?o+(s-o)*t/60:180>t?s:240>t?o+(s-o)*(240-t)/60:o}function r(t){return Math.round(255*i(t))}var o,s;return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:0>e?0:e>1?1:e,n=0>n?0:n>1?1:n,s=.5>=n?n*(1+e):n+e-n*e,o=2*n-s,new vt(r(t+120),r(t),r(t-120))}function ut(t,e,n){return this instanceof ut?(this.h=+t,this.c=+e,void(this.l=+n)):arguments.length<2?t instanceof ut?new ut(t.h,t.c,t.l):t instanceof ht?ft(t.l,t.a,t.b):ft((t=xt((t=ls.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new ut(t,e,n)}function ct(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new ht(n,Math.cos(t*=Ws)*e,Math.sin(t)*e)}function ht(t,e,n){return this instanceof ht?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof ht?new ht(t.l,t.a,t.b):t instanceof ut?ct(t.h,t.c,t.l):xt((t=vt(t)).r,t.g,t.b):new ht(t,e,n)}function dt(t,e,n){var i=(t+16)/116,r=i+e/500,o=i-n/200;return r=pt(r)*ta,i=pt(i)*ea,o=pt(o)*na,new vt(mt(3.2404542*r-1.5371385*i-.4985314*o),mt(-.969266*r+1.8760108*i+.041556*o),mt(.0556434*r-.2040259*i+1.0572252*o))}function ft(t,e,n){return t>0?new ut(Math.atan2(n,e)*Us,Math.sqrt(e*e+n*n),t):new ut(NaN,NaN,t)}function pt(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function gt(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function mt(t){return Math.round(255*(.00304>=t?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function vt(t,e,n){return this instanceof vt?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof vt?new vt(t.r,t.g,t.b):At(""+t,vt,lt):new vt(t,e,n)}function yt(t){return new vt(t>>16,t>>8&255,255&t)}function wt(t){return yt(t)+""}function bt(t){return 16>t?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function At(t,e,n){var i,r,o,s=0,a=0,l=0;if(i=/([a-z]+)\((.*)\)/.exec(t=t.toLowerCase()))switch(r=i[2].split(","),i[1]){case"hsl":return n(parseFloat(r[0]),parseFloat(r[1])/100,parseFloat(r[2])/100);case"rgb":return e(_t(r[0]),_t(r[1]),_t(r[2]))}return(o=oa.get(t))?e(o.r,o.g,o.b):(null==t||"#"!==t.charAt(0)||isNaN(o=parseInt(t.slice(1),16))||(4===t.length?(s=(3840&o)>>4,s=s>>4|s,a=240&o,a=a>>4|a,l=15&o,l=l<<4|l):7===t.length&&(s=(16711680&o)>>16,a=(65280&o)>>8,l=255&o)),e(s,a,l))}function Ct(t,e,n){var i,r,o=Math.min(t/=255,e/=255,n/=255),s=Math.max(t,e,n),a=s-o,l=(s+o)/2;return a?(r=.5>l?a/(s+o):a/(2-s-o),i=t==s?(e-n)/a+(n>e?6:0):e==s?(n-t)/a+2:(t-e)/a+4,i*=60):(i=NaN,r=l>0&&1>l?0:i),new at(i,r,l)}function xt(t,e,n){t=Et(t),e=Et(e),n=Et(n);var i=gt((.4124564*t+.3575761*e+.1804375*n)/ta),r=gt((.2126729*t+.7151522*e+.072175*n)/ea),o=gt((.0193339*t+.119192*e+.9503041*n)/na);return ht(116*r-16,500*(i-r),200*(r-o))}function Et(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function _t(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}function Ft(t){return"function"==typeof t?t:function(){return t}}function kt(t){return function(e,n,i){return 2===arguments.length&&"function"==typeof n&&(i=n,n=null),St(e,n,t,i)}}function St(t,e,n,i){function r(){var t,e=l.status;if(!e&&Mt(l)||e>=200&&300>e||304===e){try{t=n.call(o,l)}catch(i){return void s.error.call(o,i)}s.load.call(o,t)}else s.error.call(o,l)}var o={},s=ls.dispatch("beforesend","progress","load","error"),a={},l=new XMLHttpRequest,u=null;return!this.XDomainRequest||"withCredentials"in l||!/^(http(s)?:)?\/\//.test(t)||(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=r:l.onreadystatechange=function(){l.readyState>3&&r()},l.onprogress=function(t){var e=ls.event;ls.event=t;try{s.progress.call(o,l)}finally{ls.event=e}},o.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?a[t]:(null==e?delete a[t]:a[t]=e+"",o)},o.mimeType=function(t){
return arguments.length?(e=null==t?null:t+"",o):e},o.responseType=function(t){return arguments.length?(u=t,o):u},o.response=function(t){return n=t,o},["get","post"].forEach(function(t){o[t]=function(){return o.send.apply(o,[t].concat(cs(arguments)))}}),o.send=function(n,i,r){if(2===arguments.length&&"function"==typeof i&&(r=i,i=null),l.open(n,t,!0),null==e||"accept"in a||(a.accept=e+",*/*"),l.setRequestHeader)for(var c in a)l.setRequestHeader(c,a[c]);return null!=e&&l.overrideMimeType&&l.overrideMimeType(e),null!=u&&(l.responseType=u),null!=r&&o.on("error",r).on("load",function(t){r(null,t)}),s.beforesend.call(o,l),l.send(null==i?null:i),o},o.abort=function(){return l.abort(),o},ls.rebind(o,s,"on"),null==i?o:o.get(Dt(i))}function Dt(t){return 1===t.length?function(e,n){t(null==e?n:null)}:t}function Mt(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}function Tt(t,e,n){var i=arguments.length;2>i&&(e=0),3>i&&(n=Date.now());var r=n+e,o={c:t,t:r,n:null};return aa?aa.n=o:sa=o,aa=o,la||(ua=clearTimeout(ua),la=1,ca($t)),o}function $t(){var t=Lt(),e=Bt()-t;e>24?(isFinite(e)&&(clearTimeout(ua),ua=setTimeout($t,e)),la=0):(la=1,ca($t))}function Lt(){for(var t=Date.now(),e=sa;e;)t>=e.t&&e.c(t-e.t)&&(e.c=null),e=e.n;return t}function Bt(){for(var t,e=sa,n=1/0;e;)e.c?(e.t<n&&(n=e.t),e=(t=e).n):e=t?t.n=e.n:sa=e.n;return aa=t,n}function Rt(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}function Nt(t,e){var n=Math.pow(10,3*bs(8-e));return{scale:e>8?function(t){return t/n}:function(t){return t*n},symbol:t}}function Ot(t){var e=t.decimal,n=t.thousands,i=t.grouping,r=t.currency,o=i&&n?function(t,e){for(var r=t.length,o=[],s=0,a=i[0],l=0;r>0&&a>0&&(l+a+1>e&&(a=Math.max(1,e-l)),o.push(t.substring(r-=a,r+a)),!((l+=a+1)>e));)a=i[s=(s+1)%i.length];return o.reverse().join(n)}:y;return function(t){var n=da.exec(t),i=n[1]||" ",s=n[2]||">",a=n[3]||"-",l=n[4]||"",u=n[5],c=+n[6],h=n[7],d=n[8],f=n[9],p=1,g="",m="",v=!1,y=!0;switch(d&&(d=+d.substring(1)),(u||"0"===i&&"="===s)&&(u=i="0",s="="),f){case"n":h=!0,f="g";break;case"%":p=100,m="%",f="f";break;case"p":p=100,m="%",f="r";break;case"b":case"o":case"x":case"X":"#"===l&&(g="0"+f.toLowerCase());case"c":y=!1;case"d":v=!0,d=0;break;case"s":p=-1,f="r"}"$"===l&&(g=r[0],m=r[1]),"r"!=f||d||(f="g"),null!=d&&("g"==f?d=Math.max(1,Math.min(21,d)):"e"!=f&&"f"!=f||(d=Math.max(0,Math.min(20,d)))),f=fa.get(f)||It;var w=u&&h;return function(t){var n=m;if(v&&t%1)return"";var r=0>t||0===t&&0>1/t?(t=-t,"-"):"-"===a?"":a;if(0>p){var l=ls.formatPrefix(t,d);t=l.scale(t),n=l.symbol+m}else t*=p;t=f(t,d);var b,A,C=t.lastIndexOf(".");if(0>C){var x=y?t.lastIndexOf("e"):-1;0>x?(b=t,A=""):(b=t.substring(0,x),A=t.substring(x))}else b=t.substring(0,C),A=e+t.substring(C+1);!u&&h&&(b=o(b,1/0));var E=g.length+b.length+A.length+(w?0:r.length),_=c>E?new Array(E=c-E+1).join(i):"";return w&&(b=o(_+b,_.length?c-A.length:1/0)),r+=g,t=b+A,("<"===s?r+t+_:">"===s?_+r+t:"^"===s?_.substring(0,E>>=1)+r+t+_.substring(E):r+(w?t:_+t))+n}}}function It(t){return t+""}function Pt(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function zt(t,e,n){function i(e){var n=t(e),i=o(n,1);return i-e>e-n?n:i}function r(n){return e(n=t(new ga(n-1)),1),n}function o(t,n){return e(t=new ga(+t),n),t}function s(t,i,o){var s=r(t),a=[];if(o>1)for(;i>s;)n(s)%o||a.push(new Date(+s)),e(s,1);else for(;i>s;)a.push(new Date(+s)),e(s,1);return a}function a(t,e,n){try{ga=Pt;var i=new Pt;return i._=t,s(i,e,n)}finally{ga=Date}}t.floor=t,t.round=i,t.ceil=r,t.offset=o,t.range=s;var l=t.utc=jt(t);return l.floor=l,l.round=jt(i),l.ceil=jt(r),l.offset=jt(o),l.range=a,t}function jt(t){return function(e,n){try{ga=Pt;var i=new Pt;return i._=e,t(i,n)._}finally{ga=Date}}}function Ht(t){function e(t){function e(e){for(var n,r,o,s=[],a=-1,l=0;++a<i;)37===t.charCodeAt(a)&&(s.push(t.slice(l,a)),null!=(r=va[n=t.charAt(++a)])&&(n=t.charAt(++a)),(o=S[n])&&(n=o(e,null==r?"e"===n?" ":"0":r)),s.push(n),l=a+1);return s.push(t.slice(l,a)),s.join("")}var i=t.length;return e.parse=function(e){var i={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},r=n(i,t,e,0);if(r!=e.length)return null;"p"in i&&(i.H=i.H%12+12*i.p);var o=null!=i.Z&&ga!==Pt,s=new(o?Pt:ga);return"j"in i?s.setFullYear(i.y,0,i.j):"W"in i||"U"in i?("w"in i||(i.w="W"in i?1:0),s.setFullYear(i.y,0,1),s.setFullYear(i.y,0,"W"in i?(i.w+6)%7+7*i.W-(s.getDay()+5)%7:i.w+7*i.U-(s.getDay()+6)%7)):s.setFullYear(i.y,i.m,i.d),s.setHours(i.H+(i.Z/100|0),i.M+i.Z%100,i.S,i.L),o?s._:s},e.toString=function(){return t},e}function n(t,e,n,i){for(var r,o,s,a=0,l=e.length,u=n.length;l>a;){if(i>=u)return-1;if(r=e.charCodeAt(a++),37===r){if(s=e.charAt(a++),o=D[s in va?e.charAt(a++):s],!o||(i=o(t,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}function i(t,e,n){C.lastIndex=0;var i=C.exec(e.slice(n));return i?(t.w=x.get(i[0].toLowerCase()),n+i[0].length):-1}function r(t,e,n){b.lastIndex=0;var i=b.exec(e.slice(n));return i?(t.w=A.get(i[0].toLowerCase()),n+i[0].length):-1}function o(t,e,n){F.lastIndex=0;var i=F.exec(e.slice(n));return i?(t.m=k.get(i[0].toLowerCase()),n+i[0].length):-1}function s(t,e,n){E.lastIndex=0;var i=E.exec(e.slice(n));return i?(t.m=_.get(i[0].toLowerCase()),n+i[0].length):-1}function a(t,e,i){return n(t,S.c.toString(),e,i)}function l(t,e,i){return n(t,S.x.toString(),e,i)}function u(t,e,i){return n(t,S.X.toString(),e,i)}function c(t,e,n){var i=w.get(e.slice(n,n+=2).toLowerCase());return null==i?-1:(t.p=i,n)}var h=t.dateTime,d=t.date,f=t.time,p=t.periods,g=t.days,m=t.shortDays,v=t.months,y=t.shortMonths;e.utc=function(t){function n(t){try{ga=Pt;var e=new ga;return e._=t,i(e)}finally{ga=Date}}var i=e(t);return n.parse=function(t){try{ga=Pt;var e=i.parse(t);return e&&e._}finally{ga=Date}},n.toString=i.toString,n},e.multi=e.utc.multi=le;var w=ls.map(),b=Ut(g),A=qt(g),C=Ut(m),x=qt(m),E=Ut(v),_=qt(v),F=Ut(y),k=qt(y);p.forEach(function(t,e){w.set(t.toLowerCase(),e)});var S={a:function(t){return m[t.getDay()]},A:function(t){return g[t.getDay()]},b:function(t){return y[t.getMonth()]},B:function(t){return v[t.getMonth()]},c:e(h),d:function(t,e){return Wt(t.getDate(),e,2)},e:function(t,e){return Wt(t.getDate(),e,2)},H:function(t,e){return Wt(t.getHours(),e,2)},I:function(t,e){return Wt(t.getHours()%12||12,e,2)},j:function(t,e){return Wt(1+pa.dayOfYear(t),e,3)},L:function(t,e){return Wt(t.getMilliseconds(),e,3)},m:function(t,e){return Wt(t.getMonth()+1,e,2)},M:function(t,e){return Wt(t.getMinutes(),e,2)},p:function(t){return p[+(t.getHours()>=12)]},S:function(t,e){return Wt(t.getSeconds(),e,2)},U:function(t,e){return Wt(pa.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return Wt(pa.mondayOfYear(t),e,2)},x:e(d),X:e(f),y:function(t,e){return Wt(t.getFullYear()%100,e,2)},Y:function(t,e){return Wt(t.getFullYear()%1e4,e,4)},Z:se,"%":function(){return"%"}},D={a:i,A:r,b:o,B:s,c:a,d:te,e:te,H:ne,I:ne,j:ee,L:oe,m:Zt,M:ie,p:c,S:re,U:Gt,w:Vt,W:Kt,x:l,X:u,y:Xt,Y:Yt,Z:Qt,"%":ae};return e}function Wt(t,e,n){var i=0>t?"-":"",r=(i?-t:t)+"",o=r.length;return i+(n>o?new Array(n-o+1).join(e)+r:r)}function Ut(t){return new RegExp("^(?:"+t.map(ls.requote).join("|")+")","i")}function qt(t){for(var e=new u,n=-1,i=t.length;++n<i;)e.set(t[n].toLowerCase(),n);return e}function Vt(t,e,n){ya.lastIndex=0;var i=ya.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function Gt(t,e,n){ya.lastIndex=0;var i=ya.exec(e.slice(n));return i?(t.U=+i[0],n+i[0].length):-1}function Kt(t,e,n){ya.lastIndex=0;var i=ya.exec(e.slice(n));return i?(t.W=+i[0],n+i[0].length):-1}function Yt(t,e,n){ya.lastIndex=0;var i=ya.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function Xt(t,e,n){ya.lastIndex=0;var i=ya.exec(e.slice(n,n+2));return i?(t.y=Jt(+i[0]),n+i[0].length):-1}function Qt(t,e,n){return/^[+-]\d{4}$/.test(e=e.slice(n,n+5))?(t.Z=-e,n+5):-1}function Jt(t){return t+(t>68?1900:2e3)}function Zt(t,e,n){ya.lastIndex=0;var i=ya.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function te(t,e,n){ya.lastIndex=0;var i=ya.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function ee(t,e,n){ya.lastIndex=0;var i=ya.exec(e.slice(n,n+3));return i?(t.j=+i[0],n+i[0].length):-1}function ne(t,e,n){ya.lastIndex=0;var i=ya.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function ie(t,e,n){ya.lastIndex=0;var i=ya.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function re(t,e,n){ya.lastIndex=0;var i=ya.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function oe(t,e,n){ya.lastIndex=0;var i=ya.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function se(t){var e=t.getTimezoneOffset(),n=e>0?"-":"+",i=bs(e)/60|0,r=bs(e)%60;return n+Wt(i,"0",2)+Wt(r,"0",2)}function ae(t,e,n){wa.lastIndex=0;var i=wa.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function le(t){for(var e=t.length,n=-1;++n<e;)t[n][0]=this(t[n][0]);return function(e){for(var n=0,i=t[n];!i[1](e);)i=t[++n];return i[0](e)}}function ue(){}function ce(t,e,n){var i=n.s=t+e,r=i-t,o=i-r;n.t=t-o+(e-r)}function he(t,e){t&&xa.hasOwnProperty(t.type)&&xa[t.type](t,e)}function de(t,e,n){var i,r=-1,o=t.length-n;for(e.lineStart();++r<o;)i=t[r],e.point(i[0],i[1],i[2]);e.lineEnd()}function fe(t,e){var n=-1,i=t.length;for(e.polygonStart();++n<i;)de(t[n],e,1);e.polygonEnd()}function pe(){function t(t,e){t*=Ws,e=e*Ws/2+Ps/4;var n=t-i,s=n>=0?1:-1,a=s*n,l=Math.cos(e),u=Math.sin(e),c=o*u,h=r*l+c*Math.cos(a),d=c*s*Math.sin(a);_a.add(Math.atan2(d,h)),i=t,r=l,o=u}var e,n,i,r,o;Fa.point=function(s,a){Fa.point=t,i=(e=s)*Ws,r=Math.cos(a=(n=a)*Ws/2+Ps/4),o=Math.sin(a)},Fa.lineEnd=function(){t(e,n)}}function ge(t){var e=t[0],n=t[1],i=Math.cos(n);return[i*Math.cos(e),i*Math.sin(e),Math.sin(n)]}function me(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function ve(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function ye(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function we(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function be(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Ae(t){return[Math.atan2(t[1],t[0]),et(t[2])]}function Ce(t,e){return bs(t[0]-e[0])<Os&&bs(t[1]-e[1])<Os}function xe(t,e){t*=Ws;var n=Math.cos(e*=Ws);Ee(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function Ee(t,e,n){++ka,Da+=(t-Da)/ka,Ma+=(e-Ma)/ka,Ta+=(n-Ta)/ka}function _e(){function t(t,r){t*=Ws;var o=Math.cos(r*=Ws),s=o*Math.cos(t),a=o*Math.sin(t),l=Math.sin(r),u=Math.atan2(Math.sqrt((u=n*l-i*a)*u+(u=i*s-e*l)*u+(u=e*a-n*s)*u),e*s+n*a+i*l);Sa+=u,$a+=u*(e+(e=s)),La+=u*(n+(n=a)),Ba+=u*(i+(i=l)),Ee(e,n,i)}var e,n,i;Ia.point=function(r,o){r*=Ws;var s=Math.cos(o*=Ws);e=s*Math.cos(r),n=s*Math.sin(r),i=Math.sin(o),Ia.point=t,Ee(e,n,i)}}function Fe(){Ia.point=xe}function ke(){function t(t,e){t*=Ws;var n=Math.cos(e*=Ws),s=n*Math.cos(t),a=n*Math.sin(t),l=Math.sin(e),u=r*l-o*a,c=o*s-i*l,h=i*a-r*s,d=Math.sqrt(u*u+c*c+h*h),f=i*s+r*a+o*l,p=d&&-tt(f)/d,g=Math.atan2(d,f);Ra+=p*u,Na+=p*c,Oa+=p*h,Sa+=g,$a+=g*(i+(i=s)),La+=g*(r+(r=a)),Ba+=g*(o+(o=l)),Ee(i,r,o)}var e,n,i,r,o;Ia.point=function(s,a){e=s,n=a,Ia.point=t,s*=Ws;var l=Math.cos(a*=Ws);i=l*Math.cos(s),r=l*Math.sin(s),o=Math.sin(a),Ee(i,r,o)},Ia.lineEnd=function(){t(e,n),Ia.lineEnd=Fe,Ia.point=xe}}function Se(t,e){function n(n,i){return n=t(n,i),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,i){return n=e.invert(n,i),n&&t.invert(n[0],n[1])}),n}function De(){return!0}function Me(t,e,n,i,r){var o=[],s=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],i=t[e];if(Ce(n,i)){r.lineStart();for(var a=0;e>a;++a)r.point((n=t[a])[0],n[1]);return void r.lineEnd()}var l=new $e(n,t,null,!0),u=new $e(n,null,l,!1);l.o=u,o.push(l),s.push(u),l=new $e(i,t,null,!1),u=new $e(i,null,l,!0),l.o=u,o.push(l),s.push(u)}}),s.sort(e),Te(o),Te(s),o.length){for(var a=0,l=n,u=s.length;u>a;++a)s[a].e=l=!l;for(var c,h,d=o[0];;){for(var f=d,p=!0;f.v;)if((f=f.n)===d)return;c=f.z,r.lineStart();do{if(f.v=f.o.v=!0,f.e){if(p)for(var a=0,u=c.length;u>a;++a)r.point((h=c[a])[0],h[1]);else i(f.x,f.n.x,1,r);f=f.n}else{if(p){c=f.p.z;for(var a=c.length-1;a>=0;--a)r.point((h=c[a])[0],h[1])}else i(f.x,f.p.x,-1,r);f=f.p}f=f.o,c=f.z,p=!p}while(!f.v);r.lineEnd()}}}function Te(t){if(e=t.length){for(var e,n,i=0,r=t[0];++i<e;)r.n=n=t[i],n.p=r,r=n;r.n=n=t[0],n.p=r}}function $e(t,e,n,i){this.x=t,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function Le(t,e,n,i){return function(r,o){function s(e,n){var i=r(e,n);t(e=i[0],n=i[1])&&o.point(e,n)}function a(t,e){var n=r(t,e);m.point(n[0],n[1])}function l(){y.point=a,m.lineStart()}function u(){y.point=s,m.lineEnd()}function c(t,e){g.push([t,e]);var n=r(t,e);b.point(n[0],n[1])}function h(){b.lineStart(),g=[]}function d(){c(g[0][0],g[0][1]),b.lineEnd();var t,e=b.clean(),n=w.buffer(),i=n.length;if(g.pop(),p.push(g),g=null,i)if(1&e){t=n[0];var r,i=t.length-1,s=-1;if(i>0){for(A||(o.polygonStart(),A=!0),o.lineStart();++s<i;)o.point((r=t[s])[0],r[1]);o.lineEnd()}}else i>1&&2&e&&n.push(n.pop().concat(n.shift())),f.push(n.filter(Be))}var f,p,g,m=e(o),v=r.invert(i[0],i[1]),y={point:s,lineStart:l,lineEnd:u,polygonStart:function(){y.point=c,y.lineStart=h,y.lineEnd=d,f=[],p=[]},polygonEnd:function(){y.point=s,y.lineStart=l,y.lineEnd=u,f=ls.merge(f);var t=ze(v,p);f.length?(A||(o.polygonStart(),A=!0),Me(f,Ne,t,n,o)):t&&(A||(o.polygonStart(),A=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),A&&(o.polygonEnd(),A=!1),f=p=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}},w=Re(),b=e(w),A=!1;return y}}function Be(t){return t.length>1}function Re(){var t,e=[];return{lineStart:function(){e.push(t=[])},point:function(e,n){t.push([e,n])},lineEnd:A,buffer:function(){var n=e;return e=[],t=null,n},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function Ne(t,e){return((t=t.x)[0]<0?t[1]-Hs-Os:Hs-t[1])-((e=e.x)[0]<0?e[1]-Hs-Os:Hs-e[1])}function Oe(t){var e,n=NaN,i=NaN,r=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,s){var a=o>0?Ps:-Ps,l=bs(o-n);bs(l-Ps)<Os?(t.point(n,i=(i+s)/2>0?Hs:-Hs),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(a,i),t.point(o,i),e=0):r!==a&&l>=Ps&&(bs(n-r)<Os&&(n-=r*Os),bs(o-a)<Os&&(o-=a*Os),i=Ie(n,i,o,s),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(a,i),e=0),t.point(n=o,i=s),r=a},lineEnd:function(){t.lineEnd(),n=i=NaN},clean:function(){return 2-e}}}function Ie(t,e,n,i){var r,o,s=Math.sin(t-n);return bs(s)>Os?Math.atan((Math.sin(e)*(o=Math.cos(i))*Math.sin(n)-Math.sin(i)*(r=Math.cos(e))*Math.sin(t))/(r*o*s)):(e+i)/2}function Pe(t,e,n,i){var r;if(null==t)r=n*Hs,i.point(-Ps,r),i.point(0,r),i.point(Ps,r),i.point(Ps,0),i.point(Ps,-r),i.point(0,-r),i.point(-Ps,-r),i.point(-Ps,0),i.point(-Ps,r);else if(bs(t[0]-e[0])>Os){var o=t[0]<e[0]?Ps:-Ps;r=n*o/2,i.point(-o,r),i.point(0,r),i.point(o,r)}else i.point(e[0],e[1])}function ze(t,e){var n=t[0],i=t[1],r=[Math.sin(n),-Math.cos(n),0],o=0,s=0;_a.reset();for(var a=0,l=e.length;l>a;++a){var u=e[a],c=u.length;if(c)for(var h=u[0],d=h[0],f=h[1]/2+Ps/4,p=Math.sin(f),g=Math.cos(f),m=1;;){m===c&&(m=0),t=u[m];var v=t[0],y=t[1]/2+Ps/4,w=Math.sin(y),b=Math.cos(y),A=v-d,C=A>=0?1:-1,x=C*A,E=x>Ps,_=p*w;if(_a.add(Math.atan2(_*C*Math.sin(x),g*b+_*Math.cos(x))),o+=E?A+C*zs:A,E^d>=n^v>=n){var F=ve(ge(h),ge(t));be(F);var k=ve(r,F);be(k);var S=(E^A>=0?-1:1)*et(k[2]);(i>S||i===S&&(F[0]||F[1]))&&(s+=E^A>=0?1:-1)}if(!m++)break;d=v,p=w,g=b,h=t}}return(-Os>o||Os>o&&-Os>_a)^1&s}function je(t){function e(t,e){return Math.cos(t)*Math.cos(e)>o}function n(t){var n,o,l,u,c;return{lineStart:function(){u=l=!1,c=1},point:function(h,d){var f,p=[h,d],g=e(h,d),m=s?g?0:r(h,d):g?r(h+(0>h?Ps:-Ps),d):0;if(!n&&(u=l=g)&&t.lineStart(),g!==l&&(f=i(n,p),(Ce(n,f)||Ce(p,f))&&(p[0]+=Os,p[1]+=Os,g=e(p[0],p[1]))),g!==l)c=0,g?(t.lineStart(),f=i(p,n),t.point(f[0],f[1])):(f=i(n,p),t.point(f[0],f[1]),t.lineEnd()),n=f;else if(a&&n&&s^g){var v;m&o||!(v=i(p,n,!0))||(c=0,s?(t.lineStart(),t.point(v[0][0],v[0][1]),t.point(v[1][0],v[1][1]),t.lineEnd()):(t.point(v[1][0],v[1][1]),t.lineEnd(),t.lineStart(),t.point(v[0][0],v[0][1])))}!g||n&&Ce(n,p)||t.point(p[0],p[1]),n=p,l=g,o=m},lineEnd:function(){l&&t.lineEnd(),n=null},clean:function(){return c|(u&&l)<<1}}}function i(t,e,n){var i=ge(t),r=ge(e),s=[1,0,0],a=ve(i,r),l=me(a,a),u=a[0],c=l-u*u;if(!c)return!n&&t;var h=o*l/c,d=-o*u/c,f=ve(s,a),p=we(s,h),g=we(a,d);ye(p,g);var m=f,v=me(p,m),y=me(m,m),w=v*v-y*(me(p,p)-1);if(!(0>w)){var b=Math.sqrt(w),A=we(m,(-v-b)/y);if(ye(A,p),A=Ae(A),!n)return A;var C,x=t[0],E=e[0],_=t[1],F=e[1];x>E&&(C=x,x=E,E=C);var k=E-x,S=bs(k-Ps)<Os,D=S||Os>k;if(!S&&_>F&&(C=_,_=F,F=C),D?S?_+F>0^A[1]<(bs(A[0]-x)<Os?_:F):_<=A[1]&&A[1]<=F:k>Ps^(x<=A[0]&&A[0]<=E)){var M=we(m,(-v+b)/y);return ye(M,p),[A,Ae(M)]}}}function r(e,n){var i=s?t:Ps-t,r=0;return-i>e?r|=1:e>i&&(r|=2),-i>n?r|=4:n>i&&(r|=8),r}var o=Math.cos(t),s=o>0,a=bs(o)>Os,l=gn(t,6*Ws);return Le(e,n,l,s?[0,-t]:[-Ps,t-Ps])}function He(t,e,n,i){return function(r){var o,s=r.a,a=r.b,l=s.x,u=s.y,c=a.x,h=a.y,d=0,f=1,p=c-l,g=h-u;if(o=t-l,p||!(o>0)){if(o/=p,0>p){if(d>o)return;f>o&&(f=o)}else if(p>0){if(o>f)return;o>d&&(d=o)}if(o=n-l,p||!(0>o)){if(o/=p,0>p){if(o>f)return;o>d&&(d=o)}else if(p>0){if(d>o)return;f>o&&(f=o)}if(o=e-u,g||!(o>0)){if(o/=g,0>g){if(d>o)return;f>o&&(f=o)}else if(g>0){if(o>f)return;o>d&&(d=o)}if(o=i-u,g||!(0>o)){if(o/=g,0>g){if(o>f)return;o>d&&(d=o)}else if(g>0){if(d>o)return;f>o&&(f=o)}return d>0&&(r.a={x:l+d*p,y:u+d*g}),1>f&&(r.b={x:l+f*p,y:u+f*g}),r}}}}}}function We(t,e,n,i){function r(i,r){return bs(i[0]-t)<Os?r>0?0:3:bs(i[0]-n)<Os?r>0?2:1:bs(i[1]-e)<Os?r>0?1:0:r>0?3:2}function o(t,e){return s(t.x,e.x)}function s(t,e){var n=r(t,1),i=r(e,1);return n!==i?n-i:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(a){function l(t){for(var e=0,n=m.length,i=t[1],r=0;n>r;++r)for(var o,s=1,a=m[r],l=a.length,u=a[0];l>s;++s)o=a[s],u[1]<=i?o[1]>i&&Z(u,o,t)>0&&++e:o[1]<=i&&Z(u,o,t)<0&&--e,u=o;return 0!==e}function u(o,a,l,u){var c=0,h=0;if(null==o||(c=r(o,l))!==(h=r(a,l))||s(o,a)<0^l>0){do u.point(0===c||3===c?t:n,c>1?i:e);while((c=(c+l+4)%4)!==h)}else u.point(a[0],a[1])}function c(r,o){return r>=t&&n>=r&&o>=e&&i>=o}function h(t,e){c(t,e)&&a.point(t,e)}function d(){D.point=p,m&&m.push(v=[]),E=!0,x=!1,A=C=NaN}function f(){g&&(p(y,w),b&&x&&k.rejoin(),g.push(k.buffer())),D.point=h,x&&a.lineEnd()}function p(t,e){t=Math.max(-za,Math.min(za,t)),e=Math.max(-za,Math.min(za,e));var n=c(t,e);if(m&&v.push([t,e]),E)y=t,w=e,b=n,E=!1,n&&(a.lineStart(),a.point(t,e));else if(n&&x)a.point(t,e);else{var i={a:{x:A,y:C},b:{x:t,y:e}};S(i)?(x||(a.lineStart(),a.point(i.a.x,i.a.y)),a.point(i.b.x,i.b.y),n||a.lineEnd(),_=!1):n&&(a.lineStart(),a.point(t,e),_=!1)}A=t,C=e,x=n}var g,m,v,y,w,b,A,C,x,E,_,F=a,k=Re(),S=He(t,e,n,i),D={point:h,lineStart:d,lineEnd:f,polygonStart:function(){a=k,g=[],m=[],_=!0},polygonEnd:function(){a=F,g=ls.merge(g);var e=l([t,i]),n=_&&e,r=g.length;(n||r)&&(a.polygonStart(),n&&(a.lineStart(),u(null,null,1,a),a.lineEnd()),r&&Me(g,o,e,u,a),a.polygonEnd()),g=m=v=null}};return D}}function Ue(t){var e=0,n=Ps/3,i=an(t),r=i(e,n);return r.parallels=function(t){return arguments.length?i(e=t[0]*Ps/180,n=t[1]*Ps/180):[e/Ps*180,n/Ps*180]},r}function qe(t,e){function n(t,e){var n=Math.sqrt(o-2*r*Math.sin(e))/r;return[n*Math.sin(t*=r),s-n*Math.cos(t)]}var i=Math.sin(t),r=(i+Math.sin(e))/2,o=1+i*(2*r-i),s=Math.sqrt(o)/r;return n.invert=function(t,e){var n=s-e;return[Math.atan2(t,n)/r,et((o-(t*t+n*n)*r*r)/(2*r))]},n}function Ve(){function t(t,e){Ha+=r*t-i*e,i=t,r=e}var e,n,i,r;Ga.point=function(o,s){Ga.point=t,e=i=o,n=r=s},Ga.lineEnd=function(){t(e,n)}}function Ge(t,e){Wa>t&&(Wa=t),t>qa&&(qa=t),Ua>e&&(Ua=e),e>Va&&(Va=e)}function Ke(){function t(t,e){s.push("M",t,",",e,o)}function e(t,e){s.push("M",t,",",e),a.point=n}function n(t,e){s.push("L",t,",",e)}function i(){a.point=t}function r(){s.push("Z")}var o=Ye(4.5),s=[],a={point:t,lineStart:function(){a.point=e},lineEnd:i,polygonStart:function(){a.lineEnd=r},polygonEnd:function(){a.lineEnd=i,a.point=t},pointRadius:function(t){return o=Ye(t),a},result:function(){if(s.length){var t=s.join("");return s=[],t}}};return a}function Ye(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Xe(t,e){Da+=t,Ma+=e,++Ta}function Qe(){function t(t,i){var r=t-e,o=i-n,s=Math.sqrt(r*r+o*o);$a+=s*(e+t)/2,La+=s*(n+i)/2,Ba+=s,Xe(e=t,n=i)}var e,n;Ya.point=function(i,r){Ya.point=t,Xe(e=i,n=r)}}function Je(){Ya.point=Xe}function Ze(){function t(t,e){var n=t-i,o=e-r,s=Math.sqrt(n*n+o*o);$a+=s*(i+t)/2,La+=s*(r+e)/2,Ba+=s,s=r*t-i*e,Ra+=s*(i+t),Na+=s*(r+e),Oa+=3*s,Xe(i=t,r=e)}var e,n,i,r;Ya.point=function(o,s){Ya.point=t,Xe(e=i=o,n=r=s)},Ya.lineEnd=function(){t(e,n)}}function tn(t){function e(e,n){t.moveTo(e+s,n),t.arc(e,n,s,0,zs)}function n(e,n){t.moveTo(e,n),a.point=i}function i(e,n){t.lineTo(e,n)}function r(){a.point=e}function o(){t.closePath()}var s=4.5,a={point:e,lineStart:function(){a.point=n},lineEnd:r,polygonStart:function(){a.lineEnd=o},polygonEnd:function(){a.lineEnd=r,a.point=e},pointRadius:function(t){return s=t,a},result:A};return a}function en(t){function e(t){return(a?i:n)(t)}function n(e){return on(e,function(n,i){n=t(n,i),e.point(n[0],n[1])})}function i(e){function n(n,i){n=t(n,i),e.point(n[0],n[1])}function i(){w=NaN,E.point=o,e.lineStart()}function o(n,i){var o=ge([n,i]),s=t(n,i);r(w,b,y,A,C,x,w=s[0],b=s[1],y=n,A=o[0],C=o[1],x=o[2],a,e),e.point(w,b)}function s(){E.point=n,e.lineEnd()}function l(){i(),E.point=u,E.lineEnd=c}function u(t,e){o(h=t,d=e),f=w,p=b,g=A,m=C,v=x,E.point=o}function c(){r(w,b,y,A,C,x,f,p,h,g,m,v,a,e),E.lineEnd=s,s()}var h,d,f,p,g,m,v,y,w,b,A,C,x,E={point:n,lineStart:i,lineEnd:s,polygonStart:function(){e.polygonStart(),E.lineStart=l},polygonEnd:function(){e.polygonEnd(),E.lineStart=i}};return E}function r(e,n,i,a,l,u,c,h,d,f,p,g,m,v){var y=c-e,w=h-n,b=y*y+w*w;if(b>4*o&&m--){var A=a+f,C=l+p,x=u+g,E=Math.sqrt(A*A+C*C+x*x),_=Math.asin(x/=E),F=bs(bs(x)-1)<Os||bs(i-d)<Os?(i+d)/2:Math.atan2(C,A),k=t(F,_),S=k[0],D=k[1],M=S-e,T=D-n,$=w*M-y*T;($*$/b>o||bs((y*M+w*T)/b-.5)>.3||s>a*f+l*p+u*g)&&(r(e,n,i,a,l,u,S,D,F,A/=E,C/=E,x,m,v),v.point(S,D),r(S,D,F,A,C,x,c,h,d,f,p,g,m,v))}}var o=.5,s=Math.cos(30*Ws),a=16;return e.precision=function(t){return arguments.length?(a=(o=t*t)>0&&16,e):Math.sqrt(o)},e}function nn(t){var e=en(function(e,n){return t([e*Us,n*Us])});return function(t){return ln(e(t))}}function rn(t){this.stream=t}function on(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function sn(t){return an(function(){return t})()}function an(t){function e(t){return t=a(t[0]*Ws,t[1]*Ws),[t[0]*d+l,u-t[1]*d]}function n(t){return t=a.invert((t[0]-l)/d,(u-t[1])/d),t&&[t[0]*Us,t[1]*Us]}function i(){a=Se(s=hn(v,w,b),o);var t=o(g,m);return l=f-t[0]*d,u=p+t[1]*d,r()}function r(){return c&&(c.valid=!1,c=null),e}var o,s,a,l,u,c,h=en(function(t,e){return t=o(t,e),[t[0]*d+l,u-t[1]*d]}),d=150,f=480,p=250,g=0,m=0,v=0,w=0,b=0,A=Pa,C=y,x=null,E=null;return e.stream=function(t){return c&&(c.valid=!1),c=ln(A(s,h(C(t)))),c.valid=!0,c},e.clipAngle=function(t){return arguments.length?(A=null==t?(x=t,Pa):je((x=+t)*Ws),r()):x},e.clipExtent=function(t){return arguments.length?(E=t,C=t?We(t[0][0],t[0][1],t[1][0],t[1][1]):y,r()):E},e.scale=function(t){return arguments.length?(d=+t,i()):d},e.translate=function(t){return arguments.length?(f=+t[0],p=+t[1],i()):[f,p]},e.center=function(t){return arguments.length?(g=t[0]%360*Ws,m=t[1]%360*Ws,i()):[g*Us,m*Us]},e.rotate=function(t){return arguments.length?(v=t[0]%360*Ws,w=t[1]%360*Ws,b=t.length>2?t[2]%360*Ws:0,i()):[v*Us,w*Us,b*Us]},ls.rebind(e,h,"precision"),function(){return o=t.apply(this,arguments),e.invert=o.invert&&n,i()}}function ln(t){return on(t,function(e,n){t.point(e*Ws,n*Ws)})}function un(t,e){return[t,e]}function cn(t,e){return[t>Ps?t-zs:-Ps>t?t+zs:t,e]}function hn(t,e,n){return t?e||n?Se(fn(t),pn(e,n)):fn(t):e||n?pn(e,n):cn}function dn(t){return function(e,n){return e+=t,[e>Ps?e-zs:-Ps>e?e+zs:e,n]}}function fn(t){var e=dn(t);return e.invert=dn(-t),e}function pn(t,e){function n(t,e){var n=Math.cos(e),a=Math.cos(t)*n,l=Math.sin(t)*n,u=Math.sin(e),c=u*i+a*r;return[Math.atan2(l*o-c*s,a*i-u*r),et(c*o+l*s)]}var i=Math.cos(t),r=Math.sin(t),o=Math.cos(e),s=Math.sin(e);return n.invert=function(t,e){var n=Math.cos(e),a=Math.cos(t)*n,l=Math.sin(t)*n,u=Math.sin(e),c=u*o-l*s;return[Math.atan2(l*o+u*s,a*i+c*r),et(c*i-a*r)]},n}function gn(t,e){var n=Math.cos(t),i=Math.sin(t);return function(r,o,s,a){var l=s*e;null!=r?(r=mn(n,r),o=mn(n,o),(s>0?o>r:r>o)&&(r+=s*zs)):(r=t+s*zs,o=t-.5*l);for(var u,c=r;s>0?c>o:o>c;c-=l)a.point((u=Ae([n,-i*Math.cos(c),-i*Math.sin(c)]))[0],u[1])}}function mn(t,e){var n=ge(e);n[0]-=t,be(n);var i=tt(-n[1]);return((-n[2]<0?-i:i)+2*Math.PI-Os)%(2*Math.PI)}function vn(t,e,n){var i=ls.range(t,e-Os,n).concat(e);return function(t){return i.map(function(e){return[t,e]})}}function yn(t,e,n){var i=ls.range(t,e-Os,n).concat(e);return function(t){return i.map(function(e){return[e,t]})}}function wn(t){return t.source}function bn(t){return t.target}function An(t,e,n,i){var r=Math.cos(e),o=Math.sin(e),s=Math.cos(i),a=Math.sin(i),l=r*Math.cos(t),u=r*Math.sin(t),c=s*Math.cos(n),h=s*Math.sin(n),d=2*Math.asin(Math.sqrt(ot(i-e)+r*s*ot(n-t))),f=1/Math.sin(d),p=d?function(t){var e=Math.sin(t*=d)*f,n=Math.sin(d-t)*f,i=n*l+e*c,r=n*u+e*h,s=n*o+e*a;return[Math.atan2(r,i)*Us,Math.atan2(s,Math.sqrt(i*i+r*r))*Us]}:function(){return[t*Us,e*Us]};return p.distance=d,p}function Cn(){function t(t,r){var o=Math.sin(r*=Ws),s=Math.cos(r),a=bs((t*=Ws)-e),l=Math.cos(a);Xa+=Math.atan2(Math.sqrt((a=s*Math.sin(a))*a+(a=i*o-n*s*l)*a),n*o+i*s*l),e=t,n=o,i=s}var e,n,i;Qa.point=function(r,o){e=r*Ws,n=Math.sin(o*=Ws),i=Math.cos(o),Qa.point=t},Qa.lineEnd=function(){Qa.point=Qa.lineEnd=A}}function xn(t,e){function n(e,n){var i=Math.cos(e),r=Math.cos(n),o=t(i*r);return[o*r*Math.sin(e),o*Math.sin(n)]}return n.invert=function(t,n){var i=Math.sqrt(t*t+n*n),r=e(i),o=Math.sin(r),s=Math.cos(r);return[Math.atan2(t*o,i*s),Math.asin(i&&n*o/i)]},n}function En(t,e){function n(t,e){s>0?-Hs+Os>e&&(e=-Hs+Os):e>Hs-Os&&(e=Hs-Os);var n=s/Math.pow(r(e),o);return[n*Math.sin(o*t),s-n*Math.cos(o*t)]}var i=Math.cos(t),r=function(t){return Math.tan(Ps/4+t/2)},o=t===e?Math.sin(t):Math.log(i/Math.cos(e))/Math.log(r(e)/r(t)),s=i*Math.pow(r(t),o)/o;return o?(n.invert=function(t,e){var n=s-e,i=J(o)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/o,2*Math.atan(Math.pow(s/i,1/o))-Hs]},n):Fn}function _n(t,e){function n(t,e){var n=o-e;return[n*Math.sin(r*t),o-n*Math.cos(r*t)]}var i=Math.cos(t),r=t===e?Math.sin(t):(i-Math.cos(e))/(e-t),o=i/r+t;return bs(r)<Os?un:(n.invert=function(t,e){var n=o-e;return[Math.atan2(t,n)/r,o-J(r)*Math.sqrt(t*t+n*n)]},n)}function Fn(t,e){return[t,Math.log(Math.tan(Ps/4+e/2))]}function kn(t){var e,n=sn(t),i=n.scale,r=n.translate,o=n.clipExtent;return n.scale=function(){var t=i.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.translate=function(){var t=r.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.clipExtent=function(t){var s=o.apply(n,arguments);if(s===n){if(e=null==t){var a=Ps*i(),l=r();o([[l[0]-a,l[1]-a],[l[0]+a,l[1]+a]])}}else e&&(s=null);return s},n.clipExtent(null)}function Sn(t,e){return[Math.log(Math.tan(Ps/4+e/2)),-t]}function Dn(t){return t[0]}function Mn(t){return t[1]}function Tn(t){for(var e=t.length,n=[0,1],i=2,r=2;e>r;r++){for(;i>1&&Z(t[n[i-2]],t[n[i-1]],t[r])<=0;)--i;n[i++]=r}return n.slice(0,i)}function $n(t,e){return t[0]-e[0]||t[1]-e[1]}function Ln(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function Bn(t,e,n,i){var r=t[0],o=n[0],s=e[0]-r,a=i[0]-o,l=t[1],u=n[1],c=e[1]-l,h=i[1]-u,d=(a*(l-u)-h*(r-o))/(h*s-a*c);return[r+d*s,l+d*c]}function Rn(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}function Nn(){ii(this),this.edge=this.site=this.circle=null}function On(t){var e=ul.pop()||new Nn;return e.site=t,e}function In(t){Kn(t),sl.remove(t),ul.push(t),ii(t)}function Pn(t){var e=t.circle,n=e.x,i=e.cy,r={x:n,y:i},o=t.P,s=t.N,a=[t];In(t);for(var l=o;l.circle&&bs(n-l.circle.x)<Os&&bs(i-l.circle.cy)<Os;)o=l.P,a.unshift(l),In(l),l=o;a.unshift(l),Kn(l);for(var u=s;u.circle&&bs(n-u.circle.x)<Os&&bs(i-u.circle.cy)<Os;)s=u.N,a.push(u),In(u),u=s;a.push(u),Kn(u);var c,h=a.length;for(c=1;h>c;++c)u=a[c],l=a[c-1],ti(u.edge,l.site,u.site,r);l=a[0],u=a[h-1],u.edge=Jn(l.site,u.site,null,r),Gn(l),Gn(u)}function zn(t){for(var e,n,i,r,o=t.x,s=t.y,a=sl._;a;)if(i=jn(a,s)-o,i>Os)a=a.L;else{if(r=o-Hn(a,s),!(r>Os)){i>-Os?(e=a.P,n=a):r>-Os?(e=a,n=a.N):e=n=a;break}if(!a.R){e=a;break}a=a.R}var l=On(t);if(sl.insert(e,l),e||n){if(e===n)return Kn(e),n=On(e.site),sl.insert(l,n),l.edge=n.edge=Jn(e.site,l.site),Gn(e),void Gn(n);if(!n)return void(l.edge=Jn(e.site,l.site));Kn(e),Kn(n);var u=e.site,c=u.x,h=u.y,d=t.x-c,f=t.y-h,p=n.site,g=p.x-c,m=p.y-h,v=2*(d*m-f*g),y=d*d+f*f,w=g*g+m*m,b={x:(m*y-f*w)/v+c,y:(d*w-g*y)/v+h};ti(n.edge,u,p,b),l.edge=Jn(u,t,null,b),n.edge=Jn(t,p,null,b),Gn(e),Gn(n)}}function jn(t,e){var n=t.site,i=n.x,r=n.y,o=r-e;if(!o)return i;var s=t.P;if(!s)return-(1/0);n=s.site;var a=n.x,l=n.y,u=l-e;if(!u)return a;var c=a-i,h=1/o-1/u,d=c/u;return h?(-d+Math.sqrt(d*d-2*h*(c*c/(-2*u)-l+u/2+r-o/2)))/h+i:(i+a)/2}function Hn(t,e){var n=t.N;if(n)return jn(n,e);var i=t.site;return i.y===e?i.x:1/0}function Wn(t){this.site=t,this.edges=[]}function Un(t){for(var e,n,i,r,o,s,a,l,u,c,h=t[0][0],d=t[1][0],f=t[0][1],p=t[1][1],g=ol,m=g.length;m--;)if(o=g[m],o&&o.prepare())for(a=o.edges,l=a.length,s=0;l>s;)c=a[s].end(),i=c.x,r=c.y,u=a[++s%l].start(),e=u.x,n=u.y,(bs(i-e)>Os||bs(r-n)>Os)&&(a.splice(s,0,new ei(Zn(o.site,c,bs(i-h)<Os&&p-r>Os?{x:h,y:bs(e-h)<Os?n:p}:bs(r-p)<Os&&d-i>Os?{x:bs(n-p)<Os?e:d,y:p}:bs(i-d)<Os&&r-f>Os?{x:d,y:bs(e-d)<Os?n:f}:bs(r-f)<Os&&i-h>Os?{x:bs(n-f)<Os?e:h,y:f}:null),o.site,null)),++l)}function qn(t,e){return e.angle-t.angle}function Vn(){ii(this),this.x=this.y=this.arc=this.site=this.cy=null}function Gn(t){var e=t.P,n=t.N;if(e&&n){var i=e.site,r=t.site,o=n.site;if(i!==o){var s=r.x,a=r.y,l=i.x-s,u=i.y-a,c=o.x-s,h=o.y-a,d=2*(l*h-u*c);if(!(d>=-Is)){var f=l*l+u*u,p=c*c+h*h,g=(h*f-u*p)/d,m=(l*p-c*f)/d,h=m+a,v=cl.pop()||new Vn;v.arc=t,v.site=r,v.x=g+s,v.y=h+Math.sqrt(g*g+m*m),v.cy=h,t.circle=v;for(var y=null,w=ll._;w;)if(v.y<w.y||v.y===w.y&&v.x<=w.x){if(!w.L){y=w.P;break}w=w.L}else{if(!w.R){y=w;break}w=w.R}ll.insert(y,v),y||(al=v)}}}}function Kn(t){var e=t.circle;e&&(e.P||(al=e.N),ll.remove(e),cl.push(e),ii(e),t.circle=null)}function Yn(t){for(var e,n=rl,i=He(t[0][0],t[0][1],t[1][0],t[1][1]),r=n.length;r--;)e=n[r],(!Xn(e,t)||!i(e)||bs(e.a.x-e.b.x)<Os&&bs(e.a.y-e.b.y)<Os)&&(e.a=e.b=null,n.splice(r,1))}function Xn(t,e){var n=t.b;if(n)return!0;var i,r,o=t.a,s=e[0][0],a=e[1][0],l=e[0][1],u=e[1][1],c=t.l,h=t.r,d=c.x,f=c.y,p=h.x,g=h.y,m=(d+p)/2,v=(f+g)/2;if(g===f){if(s>m||m>=a)return;if(d>p){if(o){if(o.y>=u)return}else o={x:m,y:l};n={x:m,y:u}}else{if(o){if(o.y<l)return}else o={x:m,y:u};n={x:m,y:l}}}else if(i=(d-p)/(g-f),r=v-i*m,-1>i||i>1)if(d>p){if(o){if(o.y>=u)return}else o={x:(l-r)/i,y:l};n={x:(u-r)/i,y:u}}else{if(o){if(o.y<l)return}else o={x:(u-r)/i,y:u};n={x:(l-r)/i,y:l}}else if(g>f){if(o){if(o.x>=a)return}else o={x:s,y:i*s+r};n={x:a,y:i*a+r}}else{if(o){if(o.x<s)return}else o={x:a,y:i*a+r};n={x:s,y:i*s+r}}return t.a=o,t.b=n,!0}function Qn(t,e){this.l=t,this.r=e,this.a=this.b=null}function Jn(t,e,n,i){var r=new Qn(t,e);return rl.push(r),n&&ti(r,t,e,n),i&&ti(r,e,t,i),ol[t.i].edges.push(new ei(r,t,e)),ol[e.i].edges.push(new ei(r,e,t)),r}function Zn(t,e,n){var i=new Qn(t,null);return i.a=e,i.b=n,rl.push(i),i}function ti(t,e,n,i){t.a||t.b?t.l===n?t.b=i:t.a=i:(t.a=i,t.l=e,t.r=n)}function ei(t,e,n){var i=t.a,r=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(r.x-i.x,i.y-r.y):Math.atan2(i.x-r.x,r.y-i.y)}function ni(){this._=null}function ii(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function ri(t,e){var n=e,i=e.R,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.R=i.L,n.R&&(n.R.U=n),i.L=n}function oi(t,e){var n=e,i=e.L,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.L=i.R,
n.L&&(n.L.U=n),i.R=n}function si(t){for(;t.L;)t=t.L;return t}function ai(t,e){var n,i,r,o=t.sort(li).pop();for(rl=[],ol=new Array(t.length),sl=new ni,ll=new ni;;)if(r=al,o&&(!r||o.y<r.y||o.y===r.y&&o.x<r.x))o.x===n&&o.y===i||(ol[o.i]=new Wn(o),zn(o),n=o.x,i=o.y),o=t.pop();else{if(!r)break;Pn(r.arc)}e&&(Yn(e),Un(e));var s={cells:ol,edges:rl};return sl=ll=rl=ol=null,s}function li(t,e){return e.y-t.y||e.x-t.x}function ui(t,e,n){return(t.x-n.x)*(e.y-t.y)-(t.x-e.x)*(n.y-t.y)}function ci(t){return t.x}function hi(t){return t.y}function di(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function fi(t,e,n,i,r,o){if(!t(e,n,i,r,o)){var s=.5*(n+r),a=.5*(i+o),l=e.nodes;l[0]&&fi(t,l[0],n,i,s,a),l[1]&&fi(t,l[1],s,i,r,a),l[2]&&fi(t,l[2],n,a,s,o),l[3]&&fi(t,l[3],s,a,r,o)}}function pi(t,e,n,i,r,o,s){var a,l=1/0;return function u(t,c,h,d,f){if(!(c>o||h>s||i>d||r>f)){if(p=t.point){var p,g=e-t.x,m=n-t.y,v=g*g+m*m;if(l>v){var y=Math.sqrt(l=v);i=e-y,r=n-y,o=e+y,s=n+y,a=p}}for(var w=t.nodes,b=.5*(c+d),A=.5*(h+f),C=e>=b,x=n>=A,E=x<<1|C,_=E+4;_>E;++E)if(t=w[3&E])switch(3&E){case 0:u(t,c,h,b,A);break;case 1:u(t,b,h,d,A);break;case 2:u(t,c,A,b,f);break;case 3:u(t,b,A,d,f)}}}(t,i,r,o,s),a}function gi(t,e){t=ls.rgb(t),e=ls.rgb(e);var n=t.r,i=t.g,r=t.b,o=e.r-n,s=e.g-i,a=e.b-r;return function(t){return"#"+bt(Math.round(n+o*t))+bt(Math.round(i+s*t))+bt(Math.round(r+a*t))}}function mi(t,e){var n,i={},r={};for(n in t)n in e?i[n]=wi(t[n],e[n]):r[n]=t[n];for(n in e)n in t||(r[n]=e[n]);return function(t){for(n in i)r[n]=i[n](t);return r}}function vi(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function yi(t,e){var n,i,r,o=dl.lastIndex=fl.lastIndex=0,s=-1,a=[],l=[];for(t+="",e+="";(n=dl.exec(t))&&(i=fl.exec(e));)(r=i.index)>o&&(r=e.slice(o,r),a[s]?a[s]+=r:a[++s]=r),(n=n[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:vi(n,i)})),o=fl.lastIndex;return o<e.length&&(r=e.slice(o),a[s]?a[s]+=r:a[++s]=r),a.length<2?l[0]?(e=l[0].x,function(t){return e(t)+""}):function(){return e}:(e=l.length,function(t){for(var n,i=0;e>i;++i)a[(n=l[i]).i]=n.x(t);return a.join("")})}function wi(t,e){for(var n,i=ls.interpolators.length;--i>=0&&!(n=ls.interpolators[i](t,e)););return n}function bi(t,e){var n,i=[],r=[],o=t.length,s=e.length,a=Math.min(t.length,e.length);for(n=0;a>n;++n)i.push(wi(t[n],e[n]));for(;o>n;++n)r[n]=t[n];for(;s>n;++n)r[n]=e[n];return function(t){for(n=0;a>n;++n)r[n]=i[n](t);return r}}function Ai(t){return function(e){return 0>=e?0:e>=1?1:t(e)}}function Ci(t){return function(e){return 1-t(1-e)}}function xi(t){return function(e){return.5*(.5>e?t(2*e):2-t(2-2*e))}}function Ei(t){return t*t}function _i(t){return t*t*t}function Fi(t){if(0>=t)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(.5>t?n:3*(t-e)+n-.75)}function ki(t){return function(e){return Math.pow(e,t)}}function Si(t){return 1-Math.cos(t*Hs)}function Di(t){return Math.pow(2,10*(t-1))}function Mi(t){return 1-Math.sqrt(1-t*t)}function Ti(t,e){var n;return arguments.length<2&&(e=.45),arguments.length?n=e/zs*Math.asin(1/t):(t=1,n=e/4),function(i){return 1+t*Math.pow(2,-10*i)*Math.sin((i-n)*zs/e)}}function $i(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}}function Li(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function Bi(t,e){t=ls.hcl(t),e=ls.hcl(e);var n=t.h,i=t.c,r=t.l,o=e.h-n,s=e.c-i,a=e.l-r;return isNaN(s)&&(s=0,i=isNaN(i)?e.c:i),isNaN(o)?(o=0,n=isNaN(n)?e.h:n):o>180?o-=360:-180>o&&(o+=360),function(t){return ct(n+o*t,i+s*t,r+a*t)+""}}function Ri(t,e){t=ls.hsl(t),e=ls.hsl(e);var n=t.h,i=t.s,r=t.l,o=e.h-n,s=e.s-i,a=e.l-r;return isNaN(s)&&(s=0,i=isNaN(i)?e.s:i),isNaN(o)?(o=0,n=isNaN(n)?e.h:n):o>180?o-=360:-180>o&&(o+=360),function(t){return lt(n+o*t,i+s*t,r+a*t)+""}}function Ni(t,e){t=ls.lab(t),e=ls.lab(e);var n=t.l,i=t.a,r=t.b,o=e.l-n,s=e.a-i,a=e.b-r;return function(t){return dt(n+o*t,i+s*t,r+a*t)+""}}function Oi(t,e){return e-=t,function(n){return Math.round(t+e*n)}}function Ii(t){var e=[t.a,t.b],n=[t.c,t.d],i=zi(e),r=Pi(e,n),o=zi(ji(n,e,-r))||0;e[0]*n[1]<n[0]*e[1]&&(e[0]*=-1,e[1]*=-1,i*=-1,r*=-1),this.rotate=(i?Math.atan2(e[1],e[0]):Math.atan2(-n[0],n[1]))*Us,this.translate=[t.e,t.f],this.scale=[i,o],this.skew=o?Math.atan2(r,o)*Us:0}function Pi(t,e){return t[0]*e[0]+t[1]*e[1]}function zi(t){var e=Math.sqrt(Pi(t,t));return e&&(t[0]/=e,t[1]/=e),e}function ji(t,e,n){return t[0]+=n*e[0],t[1]+=n*e[1],t}function Hi(t){return t.length?t.pop()+",":""}function Wi(t,e,n,i){if(t[0]!==e[0]||t[1]!==e[1]){var r=n.push("translate(",null,",",null,")");i.push({i:r-4,x:vi(t[0],e[0])},{i:r-2,x:vi(t[1],e[1])})}else(e[0]||e[1])&&n.push("translate("+e+")")}function Ui(t,e,n,i){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),i.push({i:n.push(Hi(n)+"rotate(",null,")")-2,x:vi(t,e)})):e&&n.push(Hi(n)+"rotate("+e+")")}function qi(t,e,n,i){t!==e?i.push({i:n.push(Hi(n)+"skewX(",null,")")-2,x:vi(t,e)}):e&&n.push(Hi(n)+"skewX("+e+")")}function Vi(t,e,n,i){if(t[0]!==e[0]||t[1]!==e[1]){var r=n.push(Hi(n)+"scale(",null,",",null,")");i.push({i:r-4,x:vi(t[0],e[0])},{i:r-2,x:vi(t[1],e[1])})}else 1===e[0]&&1===e[1]||n.push(Hi(n)+"scale("+e+")")}function Gi(t,e){var n=[],i=[];return t=ls.transform(t),e=ls.transform(e),Wi(t.translate,e.translate,n,i),Ui(t.rotate,e.rotate,n,i),qi(t.skew,e.skew,n,i),Vi(t.scale,e.scale,n,i),t=e=null,function(t){for(var e,r=-1,o=i.length;++r<o;)n[(e=i[r]).i]=e.x(t);return n.join("")}}function Ki(t,e){return e=(e-=t=+t)||1/e,function(n){return(n-t)/e}}function Yi(t,e){return e=(e-=t=+t)||1/e,function(n){return Math.max(0,Math.min(1,(n-t)/e))}}function Xi(t){for(var e=t.source,n=t.target,i=Ji(e,n),r=[e];e!==i;)e=e.parent,r.push(e);for(var o=r.length;n!==i;)r.splice(o,0,n),n=n.parent;return r}function Qi(t){for(var e=[],n=t.parent;null!=n;)e.push(t),t=n,n=n.parent;return e.push(t),e}function Ji(t,e){if(t===e)return t;for(var n=Qi(t),i=Qi(e),r=n.pop(),o=i.pop(),s=null;r===o;)s=r,r=n.pop(),o=i.pop();return s}function Zi(t){t.fixed|=2}function tr(t){t.fixed&=-7}function er(t){t.fixed|=4,t.px=t.x,t.py=t.y}function nr(t){t.fixed&=-5}function ir(t,e,n){var i=0,r=0;if(t.charge=0,!t.leaf)for(var o,s=t.nodes,a=s.length,l=-1;++l<a;)o=s[l],null!=o&&(ir(o,e,n),t.charge+=o.charge,i+=o.charge*o.cx,r+=o.charge*o.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var u=e*n[t.point.index];t.charge+=t.pointCharge=u,i+=u*t.point.x,r+=u*t.point.y}t.cx=i/t.charge,t.cy=r/t.charge}function rr(t,e){return ls.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=cr,t}function or(t,e){for(var n=[t];null!=(t=n.pop());)if(e(t),(r=t.children)&&(i=r.length))for(var i,r;--i>=0;)n.push(r[i])}function sr(t,e){for(var n=[t],i=[];null!=(t=n.pop());)if(i.push(t),(o=t.children)&&(r=o.length))for(var r,o,s=-1;++s<r;)n.push(o[s]);for(;null!=(t=i.pop());)e(t)}function ar(t){return t.children}function lr(t){return t.value}function ur(t,e){return e.value-t.value}function cr(t){return ls.merge(t.map(function(t){return(t.children||[]).map(function(e){return{source:t,target:e}})}))}function hr(t){return t.x}function dr(t){return t.y}function fr(t,e,n){t.y0=e,t.y=n}function pr(t){return ls.range(t.length)}function gr(t){for(var e=-1,n=t[0].length,i=[];++e<n;)i[e]=0;return i}function mr(t){for(var e,n=1,i=0,r=t[0][1],o=t.length;o>n;++n)(e=t[n][1])>r&&(i=n,r=e);return i}function vr(t){return t.reduce(yr,0)}function yr(t,e){return t+e[1]}function wr(t,e){return br(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function br(t,e){for(var n=-1,i=+t[0],r=(t[1]-i)/e,o=[];++n<=e;)o[n]=r*n+i;return o}function Ar(t){return[ls.min(t),ls.max(t)]}function Cr(t,e){return t.value-e.value}function xr(t,e){var n=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=n,n._pack_prev=e}function Er(t,e){t._pack_next=e,e._pack_prev=t}function _r(t,e){var n=e.x-t.x,i=e.y-t.y,r=t.r+e.r;return.999*r*r>n*n+i*i}function Fr(t){function e(t){c=Math.min(t.x-t.r,c),h=Math.max(t.x+t.r,h),d=Math.min(t.y-t.r,d),f=Math.max(t.y+t.r,f)}if((n=t.children)&&(u=n.length)){var n,i,r,o,s,a,l,u,c=1/0,h=-(1/0),d=1/0,f=-(1/0);if(n.forEach(kr),i=n[0],i.x=-i.r,i.y=0,e(i),u>1&&(r=n[1],r.x=r.r,r.y=0,e(r),u>2))for(o=n[2],Mr(i,r,o),e(o),xr(i,o),i._pack_prev=o,xr(o,r),r=i._pack_next,s=3;u>s;s++){Mr(i,r,o=n[s]);var p=0,g=1,m=1;for(a=r._pack_next;a!==r;a=a._pack_next,g++)if(_r(a,o)){p=1;break}if(1==p)for(l=i._pack_prev;l!==a._pack_prev&&!_r(l,o);l=l._pack_prev,m++);p?(m>g||g==m&&r.r<i.r?Er(i,r=a):Er(i=l,r),s--):(xr(i,o),r=o,e(o))}var v=(c+h)/2,y=(d+f)/2,w=0;for(s=0;u>s;s++)o=n[s],o.x-=v,o.y-=y,w=Math.max(w,o.r+Math.sqrt(o.x*o.x+o.y*o.y));t.r=w,n.forEach(Sr)}}function kr(t){t._pack_next=t._pack_prev=t}function Sr(t){delete t._pack_next,delete t._pack_prev}function Dr(t,e,n,i){var r=t.children;if(t.x=e+=i*t.x,t.y=n+=i*t.y,t.r*=i,r)for(var o=-1,s=r.length;++o<s;)Dr(r[o],e,n,i)}function Mr(t,e,n){var i=t.r+n.r,r=e.x-t.x,o=e.y-t.y;if(i&&(r||o)){var s=e.r+n.r,a=r*r+o*o;s*=s,i*=i;var l=.5+(i-s)/(2*a),u=Math.sqrt(Math.max(0,2*s*(i+a)-(i-=a)*i-s*s))/(2*a);n.x=t.x+l*r+u*o,n.y=t.y+l*o-u*r}else n.x=t.x+i,n.y=t.y}function Tr(t,e){return t.parent==e.parent?1:2}function $r(t){var e=t.children;return e.length?e[0]:t.t}function Lr(t){var e,n=t.children;return(e=n.length)?n[e-1]:t.t}function Br(t,e,n){var i=n/(e.i-t.i);e.c-=i,e.s+=n,t.c+=i,e.z+=n,e.m+=n}function Rr(t){for(var e,n=0,i=0,r=t.children,o=r.length;--o>=0;)e=r[o],e.z+=n,e.m+=n,n+=e.s+(i+=e.c)}function Nr(t,e,n){return t.a.parent===e.parent?t.a:n}function Or(t){return 1+ls.max(t,function(t){return t.y})}function Ir(t){return t.reduce(function(t,e){return t+e.x},0)/t.length}function Pr(t){var e=t.children;return e&&e.length?Pr(e[0]):t}function zr(t){var e,n=t.children;return n&&(e=n.length)?zr(n[e-1]):t}function jr(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function Hr(t,e){var n=t.x+e[3],i=t.y+e[0],r=t.dx-e[1]-e[3],o=t.dy-e[0]-e[2];return 0>r&&(n+=r/2,r=0),0>o&&(i+=o/2,o=0),{x:n,y:i,dx:r,dy:o}}function Wr(t){var e=t[0],n=t[t.length-1];return n>e?[e,n]:[n,e]}function Ur(t){return t.rangeExtent?t.rangeExtent():Wr(t.range())}function qr(t,e,n,i){var r=n(t[0],t[1]),o=i(e[0],e[1]);return function(t){return o(r(t))}}function Vr(t,e){var n,i=0,r=t.length-1,o=t[i],s=t[r];return o>s&&(n=i,i=r,r=n,n=o,o=s,s=n),t[i]=e.floor(o),t[r]=e.ceil(s),t}function Gr(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:El}function Kr(t,e,n,i){var r=[],o=[],s=0,a=Math.min(t.length,e.length)-1;for(t[a]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<=a;)r.push(n(t[s-1],t[s])),o.push(i(e[s-1],e[s]));return function(e){var n=ls.bisect(t,e,1,a)-1;return o[n](r[n](e))}}function Yr(t,e,n,i){function r(){var r=Math.min(t.length,e.length)>2?Kr:qr,l=i?Yi:Ki;return s=r(t,e,l,n),a=r(e,t,l,wi),o}function o(t){return s(t)}var s,a;return o.invert=function(t){return a(t)},o.domain=function(e){return arguments.length?(t=e.map(Number),r()):t},o.range=function(t){return arguments.length?(e=t,r()):e},o.rangeRound=function(t){return o.range(t).interpolate(Oi)},o.clamp=function(t){return arguments.length?(i=t,r()):i},o.interpolate=function(t){return arguments.length?(n=t,r()):n},o.ticks=function(e){return Zr(t,e)},o.tickFormat=function(e,n){return to(t,e,n)},o.nice=function(e){return Qr(t,e),r()},o.copy=function(){return Yr(t,e,n,i)},r()}function Xr(t,e){return ls.rebind(t,e,"range","rangeRound","interpolate","clamp")}function Qr(t,e){return Vr(t,Gr(Jr(t,e)[2])),Vr(t,Gr(Jr(t,e)[2])),t}function Jr(t,e){null==e&&(e=10);var n=Wr(t),i=n[1]-n[0],r=Math.pow(10,Math.floor(Math.log(i/e)/Math.LN10)),o=e/i*r;return.15>=o?r*=10:.35>=o?r*=5:.75>=o&&(r*=2),n[0]=Math.ceil(n[0]/r)*r,n[1]=Math.floor(n[1]/r)*r+.5*r,n[2]=r,n}function Zr(t,e){return ls.range.apply(ls,Jr(t,e))}function to(t,e,n){var i=Jr(t,e);if(n){var r=da.exec(n);if(r.shift(),"s"===r[8]){var o=ls.formatPrefix(Math.max(bs(i[0]),bs(i[1])));return r[7]||(r[7]="."+eo(o.scale(i[2]))),r[8]="f",n=ls.format(r.join("")),function(t){return n(o.scale(t))+o.symbol}}r[7]||(r[7]="."+no(r[8],i)),n=r.join("")}else n=",."+eo(i[2])+"f";return ls.format(n)}function eo(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function no(t,e){var n=eo(e[2]);return t in _l?Math.abs(n-eo(Math.max(bs(e[0]),bs(e[1]))))+ +("e"!==t):n-2*("%"===t)}function io(t,e,n,i){function r(t){return(n?Math.log(0>t?0:t):-Math.log(t>0?0:-t))/Math.log(e)}function o(t){return n?Math.pow(e,t):-Math.pow(e,-t)}function s(e){return t(r(e))}return s.invert=function(e){return o(t.invert(e))},s.domain=function(e){return arguments.length?(n=e[0]>=0,t.domain((i=e.map(Number)).map(r)),s):i},s.base=function(n){return arguments.length?(e=+n,t.domain(i.map(r)),s):e},s.nice=function(){var e=Vr(i.map(r),n?Math:kl);return t.domain(e),i=e.map(o),s},s.ticks=function(){var t=Wr(i),s=[],a=t[0],l=t[1],u=Math.floor(r(a)),c=Math.ceil(r(l)),h=e%1?2:e;if(isFinite(c-u)){if(n){for(;c>u;u++)for(var d=1;h>d;d++)s.push(o(u)*d);s.push(o(u))}else for(s.push(o(u));u++<c;)for(var d=h-1;d>0;d--)s.push(o(u)*d);for(u=0;s[u]<a;u++);for(c=s.length;s[c-1]>l;c--);s=s.slice(u,c)}return s},s.tickFormat=function(t,n){if(!arguments.length)return Fl;arguments.length<2?n=Fl:"function"!=typeof n&&(n=ls.format(n));var i=Math.max(1,e*t/s.ticks().length);return function(t){var s=t/o(Math.round(r(t)));return e-.5>s*e&&(s*=e),i>=s?n(t):""}},s.copy=function(){return io(t.copy(),e,n,i)},Xr(s,t)}function ro(t,e,n){function i(e){return t(r(e))}var r=oo(e),o=oo(1/e);return i.invert=function(e){return o(t.invert(e))},i.domain=function(e){return arguments.length?(t.domain((n=e.map(Number)).map(r)),i):n},i.ticks=function(t){return Zr(n,t)},i.tickFormat=function(t,e){return to(n,t,e)},i.nice=function(t){return i.domain(Qr(n,t))},i.exponent=function(s){return arguments.length?(r=oo(e=s),o=oo(1/e),t.domain(n.map(r)),i):e},i.copy=function(){return ro(t.copy(),e,n)},Xr(i,t)}function oo(t){return function(e){return 0>e?-Math.pow(-e,t):Math.pow(e,t)}}function so(t,e){function n(n){return o[((r.get(n)||("range"===e.t?r.set(n,t.push(n)):NaN))-1)%o.length]}function i(e,n){return ls.range(t.length).map(function(t){return e+n*t})}var r,o,s;return n.domain=function(i){if(!arguments.length)return t;t=[],r=new u;for(var o,s=-1,a=i.length;++s<a;)r.has(o=i[s])||r.set(o,t.push(o));return n[e.t].apply(n,e.a)},n.range=function(t){return arguments.length?(o=t,s=0,e={t:"range",a:arguments},n):o},n.rangePoints=function(r,a){arguments.length<2&&(a=0);var l=r[0],u=r[1],c=t.length<2?(l=(l+u)/2,0):(u-l)/(t.length-1+a);return o=i(l+c*a/2,c),s=0,e={t:"rangePoints",a:arguments},n},n.rangeRoundPoints=function(r,a){arguments.length<2&&(a=0);var l=r[0],u=r[1],c=t.length<2?(l=u=Math.round((l+u)/2),0):(u-l)/(t.length-1+a)|0;return o=i(l+Math.round(c*a/2+(u-l-(t.length-1+a)*c)/2),c),s=0,e={t:"rangeRoundPoints",a:arguments},n},n.rangeBands=function(r,a,l){arguments.length<2&&(a=0),arguments.length<3&&(l=a);var u=r[1]<r[0],c=r[u-0],h=r[1-u],d=(h-c)/(t.length-a+2*l);return o=i(c+d*l,d),u&&o.reverse(),s=d*(1-a),e={t:"rangeBands",a:arguments},n},n.rangeRoundBands=function(r,a,l){arguments.length<2&&(a=0),arguments.length<3&&(l=a);var u=r[1]<r[0],c=r[u-0],h=r[1-u],d=Math.floor((h-c)/(t.length-a+2*l));return o=i(c+Math.round((h-c-(t.length-a)*d)/2),d),u&&o.reverse(),s=Math.round(d*(1-a)),e={t:"rangeRoundBands",a:arguments},n},n.rangeBand=function(){return s},n.rangeExtent=function(){return Wr(e.a[0])},n.copy=function(){return so(t,e)},n.domain(t)}function ao(t,e){function o(){var n=0,i=e.length;for(a=[];++n<i;)a[n-1]=ls.quantile(t,n/i);return s}function s(t){return isNaN(t=+t)?void 0:e[ls.bisect(a,t)]}var a;return s.domain=function(e){return arguments.length?(t=e.map(i).filter(r).sort(n),o()):t},s.range=function(t){return arguments.length?(e=t,o()):e},s.quantiles=function(){return a},s.invertExtent=function(n){return n=e.indexOf(n),0>n?[NaN,NaN]:[n>0?a[n-1]:t[0],n<a.length?a[n]:t[t.length-1]]},s.copy=function(){return ao(t,e)},o()}function lo(t,e,n){function i(e){return n[Math.max(0,Math.min(s,Math.floor(o*(e-t))))]}function r(){return o=n.length/(e-t),s=n.length-1,i}var o,s;return i.domain=function(n){return arguments.length?(t=+n[0],e=+n[n.length-1],r()):[t,e]},i.range=function(t){return arguments.length?(n=t,r()):n},i.invertExtent=function(e){return e=n.indexOf(e),e=0>e?NaN:e/o+t,[e,e+1/o]},i.copy=function(){return lo(t,e,n)},r()}function uo(t,e){function n(n){return n>=n?e[ls.bisect(t,n)]:void 0}return n.domain=function(e){return arguments.length?(t=e,n):t},n.range=function(t){return arguments.length?(e=t,n):e},n.invertExtent=function(n){return n=e.indexOf(n),[t[n-1],t[n]]},n.copy=function(){return uo(t,e)},n}function co(t){function e(t){return+t}return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=n.map(e),e):t},e.ticks=function(e){return Zr(t,e)},e.tickFormat=function(e,n){return to(t,e,n)},e.copy=function(){return co(t)},e}function ho(){return 0}function fo(t){return t.innerRadius}function po(t){return t.outerRadius}function go(t){return t.startAngle}function mo(t){return t.endAngle}function vo(t){return t&&t.padAngle}function yo(t,e,n,i){return(t-n)*e-(e-i)*t>0?0:1}function wo(t,e,n,i,r){var o=t[0]-e[0],s=t[1]-e[1],a=(r?i:-i)/Math.sqrt(o*o+s*s),l=a*s,u=-a*o,c=t[0]+l,h=t[1]+u,d=e[0]+l,f=e[1]+u,p=(c+d)/2,g=(h+f)/2,m=d-c,v=f-h,y=m*m+v*v,w=n-i,b=c*f-d*h,A=(0>v?-1:1)*Math.sqrt(Math.max(0,w*w*y-b*b)),C=(b*v-m*A)/y,x=(-b*m-v*A)/y,E=(b*v+m*A)/y,_=(-b*m+v*A)/y,F=C-p,k=x-g,S=E-p,D=_-g;return F*F+k*k>S*S+D*D&&(C=E,x=_),[[C-l,x-u],[C*n/w,x*n/w]]}function bo(t){function e(e){function s(){u.push("M",o(t(c),a))}for(var l,u=[],c=[],h=-1,d=e.length,f=Ft(n),p=Ft(i);++h<d;)r.call(this,l=e[h],h)?c.push([+f.call(this,l,h),+p.call(this,l,h)]):c.length&&(s(),c=[]);return c.length&&s(),u.length?u.join(""):null}var n=Dn,i=Mn,r=De,o=Ao,s=o.key,a=.7;return e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(i=t,e):i},e.defined=function(t){return arguments.length?(r=t,e):r},e.interpolate=function(t){return arguments.length?(s="function"==typeof t?o=t:(o=Ll.get(t)||Ao).key,e):s},e.tension=function(t){return arguments.length?(a=t,e):a},e}function Ao(t){return t.length>1?t.join("L"):t+"Z"}function Co(t){return t.join("L")+"Z"}function xo(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("H",(i[0]+(i=t[e])[0])/2,"V",i[1]);return n>1&&r.push("H",i[0]),r.join("")}function Eo(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("V",(i=t[e])[1],"H",i[0]);return r.join("")}function _o(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("H",(i=t[e])[0],"V",i[1]);return r.join("")}function Fo(t,e){return t.length<4?Ao(t):t[1]+Do(t.slice(1,-1),Mo(t,e))}function ko(t,e){return t.length<3?Co(t):t[0]+Do((t.push(t[0]),t),Mo([t[t.length-2]].concat(t,[t[1]]),e))}function So(t,e){return t.length<3?Ao(t):t[0]+Do(t,Mo(t,e))}function Do(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return Ao(t);var n=t.length!=e.length,i="",r=t[0],o=t[1],s=e[0],a=s,l=1;if(n&&(i+="Q"+(o[0]-2*s[0]/3)+","+(o[1]-2*s[1]/3)+","+o[0]+","+o[1],r=t[1],l=2),e.length>1){a=e[1],o=t[l],l++,i+="C"+(r[0]+s[0])+","+(r[1]+s[1])+","+(o[0]-a[0])+","+(o[1]-a[1])+","+o[0]+","+o[1];for(var u=2;u<e.length;u++,l++)o=t[l],a=e[u],i+="S"+(o[0]-a[0])+","+(o[1]-a[1])+","+o[0]+","+o[1]}if(n){var c=t[l];i+="Q"+(o[0]+2*a[0]/3)+","+(o[1]+2*a[1]/3)+","+c[0]+","+c[1]}return i}function Mo(t,e){for(var n,i=[],r=(1-e)/2,o=t[0],s=t[1],a=1,l=t.length;++a<l;)n=o,o=s,s=t[a],i.push([r*(s[0]-n[0]),r*(s[1]-n[1])]);return i}function To(t){if(t.length<3)return Ao(t);var e=1,n=t.length,i=t[0],r=i[0],o=i[1],s=[r,r,r,(i=t[1])[0]],a=[o,o,o,i[1]],l=[r,",",o,"L",Ro(Nl,s),",",Ro(Nl,a)];for(t.push(t[n-1]);++e<=n;)i=t[e],s.shift(),s.push(i[0]),a.shift(),a.push(i[1]),No(l,s,a);return t.pop(),l.push("L",i),l.join("")}function $o(t){if(t.length<4)return Ao(t);for(var e,n=[],i=-1,r=t.length,o=[0],s=[0];++i<3;)e=t[i],o.push(e[0]),s.push(e[1]);for(n.push(Ro(Nl,o)+","+Ro(Nl,s)),--i;++i<r;)e=t[i],o.shift(),o.push(e[0]),s.shift(),s.push(e[1]),No(n,o,s);return n.join("")}function Lo(t){for(var e,n,i=-1,r=t.length,o=r+4,s=[],a=[];++i<4;)n=t[i%r],s.push(n[0]),a.push(n[1]);for(e=[Ro(Nl,s),",",Ro(Nl,a)],--i;++i<o;)n=t[i%r],s.shift(),s.push(n[0]),a.shift(),a.push(n[1]),No(e,s,a);return e.join("")}function Bo(t,e){var n=t.length-1;if(n)for(var i,r,o=t[0][0],s=t[0][1],a=t[n][0]-o,l=t[n][1]-s,u=-1;++u<=n;)i=t[u],r=u/n,i[0]=e*i[0]+(1-e)*(o+r*a),i[1]=e*i[1]+(1-e)*(s+r*l);return To(t)}function Ro(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function No(t,e,n){t.push("C",Ro(Bl,e),",",Ro(Bl,n),",",Ro(Rl,e),",",Ro(Rl,n),",",Ro(Nl,e),",",Ro(Nl,n))}function Oo(t,e){return(e[1]-t[1])/(e[0]-t[0])}function Io(t){for(var e=0,n=t.length-1,i=[],r=t[0],o=t[1],s=i[0]=Oo(r,o);++e<n;)i[e]=(s+(s=Oo(r=o,o=t[e+1])))/2;return i[e]=s,i}function Po(t){for(var e,n,i,r,o=[],s=Io(t),a=-1,l=t.length-1;++a<l;)e=Oo(t[a],t[a+1]),bs(e)<Os?s[a]=s[a+1]=0:(n=s[a]/e,i=s[a+1]/e,r=n*n+i*i,r>9&&(r=3*e/Math.sqrt(r),s[a]=r*n,s[a+1]=r*i));for(a=-1;++a<=l;)r=(t[Math.min(l,a+1)][0]-t[Math.max(0,a-1)][0])/(6*(1+s[a]*s[a])),o.push([r||0,s[a]*r||0]);return o}function zo(t){return t.length<3?Ao(t):t[0]+Do(t,Po(t))}function jo(t){for(var e,n,i,r=-1,o=t.length;++r<o;)e=t[r],n=e[0],i=e[1]-Hs,e[0]=n*Math.cos(i),e[1]=n*Math.sin(i);return t}function Ho(t){function e(e){function l(){g.push("M",a(t(v),h),c,u(t(m.reverse()),h),"Z")}for(var d,f,p,g=[],m=[],v=[],y=-1,w=e.length,b=Ft(n),A=Ft(r),C=n===i?function(){return f}:Ft(i),x=r===o?function(){return p}:Ft(o);++y<w;)s.call(this,d=e[y],y)?(m.push([f=+b.call(this,d,y),p=+A.call(this,d,y)]),v.push([+C.call(this,d,y),+x.call(this,d,y)])):m.length&&(l(),m=[],v=[]);return m.length&&l(),g.length?g.join(""):null}var n=Dn,i=Dn,r=0,o=Mn,s=De,a=Ao,l=a.key,u=a,c="L",h=.7;return e.x=function(t){return arguments.length?(n=i=t,e):i},e.x0=function(t){return arguments.length?(n=t,e):n},e.x1=function(t){return arguments.length?(i=t,e):i},e.y=function(t){return arguments.length?(r=o=t,e):o},e.y0=function(t){return arguments.length?(r=t,e):r},e.y1=function(t){return arguments.length?(o=t,e):o},e.defined=function(t){return arguments.length?(s=t,e):s},e.interpolate=function(t){return arguments.length?(l="function"==typeof t?a=t:(a=Ll.get(t)||Ao).key,u=a.reverse||a,c=a.closed?"M":"L",e):l},e.tension=function(t){return arguments.length?(h=t,e):h},e}function Wo(t){return t.radius}function Uo(t){return[t.x,t.y]}function qo(t){return function(){var e=t.apply(this,arguments),n=e[0],i=e[1]-Hs;return[n*Math.cos(i),n*Math.sin(i)]}}function Vo(){return 64}function Go(){return"circle"}function Ko(t){var e=Math.sqrt(t/Ps);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}function Yo(t){return function(){var e,n,i;(e=this[t])&&(i=e[n=e.active])&&(i.timer.c=null,i.timer.t=NaN,--e.count?delete e[n]:delete this[t],e.active+=.5,i.event&&i.event.interrupt.call(this,this.__data__,i.index))}}function Xo(t,e,n){return _s(t,Wl),t.namespace=e,t.id=n,t}function Qo(t,e,n,i){var r=t.id,o=t.namespace;return W(t,"function"==typeof n?function(t,s,a){t[o][r].tween.set(e,i(n.call(t,t.__data__,s,a)))}:(n=i(n),function(t){t[o][r].tween.set(e,n)}))}function Jo(t){return null==t&&(t=""),function(){this.textContent=t}}function Zo(t){return null==t?"__transition__":"__transition_"+t+"__"}function ts(t,e,n,i,r){function o(t){var e=g.delay;return c.t=e+l,t>=e?s(t-e):void(c.c=s)}function s(n){var r=p.active,o=p[r];o&&(o.timer.c=null,o.timer.t=NaN,--p.count,delete p[r],o.event&&o.event.interrupt.call(t,t.__data__,o.index));for(var s in p)if(i>+s){var u=p[s];u.timer.c=null,u.timer.t=NaN,--p.count,delete p[s]}c.c=a,Tt(function(){return c.c&&a(n||1)&&(c.c=null,c.t=NaN),1},0,l),p.active=i,g.event&&g.event.start.call(t,t.__data__,e),f=[],g.tween.forEach(function(n,i){(i=i.call(t,t.__data__,e))&&f.push(i)}),d=g.ease,h=g.duration}function a(r){for(var o=r/h,s=d(o),a=f.length;a>0;)f[--a].call(t,s);return o>=1?(g.event&&g.event.end.call(t,t.__data__,e),--p.count?delete p[i]:delete t[n],1):void 0}var l,c,h,d,f,p=t[n]||(t[n]={active:0,count:0}),g=p[i];g||(l=r.time,c=Tt(o,0,l),g=p[i]={tween:new u,time:l,timer:c,delay:r.delay,duration:r.duration,ease:r.ease,index:e},r=null,++p.count)}function es(t,e,n){t.attr("transform",function(t){var i=e(t);return"translate("+(isFinite(i)?i:n(t))+",0)"})}function ns(t,e,n){t.attr("transform",function(t){var i=e(t);return"translate(0,"+(isFinite(i)?i:n(t))+")"})}function is(t){return t.toISOString()}function rs(t,e,n){function i(e){return t(e)}function r(t,n){var i=t[1]-t[0],r=i/n,o=ls.bisect(Jl,r);return o==Jl.length?[e.year,Jr(t.map(function(t){return t/31536e6}),n)[2]]:o?e[r/Jl[o-1]<Jl[o]/r?o-1:o]:[eu,Jr(t,n)[2]]}return i.invert=function(e){return os(t.invert(e))},i.domain=function(e){return arguments.length?(t.domain(e),i):t.domain().map(os)},i.nice=function(t,e){function n(n){return!isNaN(n)&&!t.range(n,os(+n+1),e).length}var o=i.domain(),s=Wr(o),a=null==t?r(s,10):"number"==typeof t&&r(s,t);return a&&(t=a[0],e=a[1]),i.domain(Vr(o,e>1?{floor:function(e){for(;n(e=t.floor(e));)e=os(e-1);return e},ceil:function(e){for(;n(e=t.ceil(e));)e=os(+e+1);return e}}:t))},i.ticks=function(t,e){var n=Wr(i.domain()),o=null==t?r(n,10):"number"==typeof t?r(n,t):!t.range&&[{range:t},e];return o&&(t=o[0],e=o[1]),t.range(n[0],os(+n[1]+1),1>e?1:e)},i.tickFormat=function(){return n},i.copy=function(){return rs(t.copy(),e,n)},Xr(i,t)}function os(t){return new Date(t)}function ss(t){return JSON.parse(t.responseText)}function as(t){var e=hs.createRange();return e.selectNode(hs.body),e.createContextualFragment(t.responseText)}var ls={version:"3.5.17"},us=[].slice,cs=function(t){return us.call(t)},hs=this.document;if(hs)try{cs(hs.documentElement.childNodes)[0].nodeType}catch(ds){cs=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}if(Date.now||(Date.now=function(){return+new Date}),hs)try{hs.createElement("DIV").style.setProperty("opacity",0,"")}catch(fs){var ps=this.Element.prototype,gs=ps.setAttribute,ms=ps.setAttributeNS,vs=this.CSSStyleDeclaration.prototype,ys=vs.setProperty;ps.setAttribute=function(t,e){gs.call(this,t,e+"")},ps.setAttributeNS=function(t,e,n){ms.call(this,t,e,n+"")},vs.setProperty=function(t,e,n){ys.call(this,t,e+"",n)}}ls.ascending=n,ls.descending=function(t,e){return t>e?-1:e>t?1:e>=t?0:NaN},ls.min=function(t,e){var n,i,r=-1,o=t.length;if(1===arguments.length){for(;++r<o;)if(null!=(i=t[r])&&i>=i){n=i;break}for(;++r<o;)null!=(i=t[r])&&n>i&&(n=i)}else{for(;++r<o;)if(null!=(i=e.call(t,t[r],r))&&i>=i){n=i;break}for(;++r<o;)null!=(i=e.call(t,t[r],r))&&n>i&&(n=i)}return n},ls.max=function(t,e){var n,i,r=-1,o=t.length;if(1===arguments.length){for(;++r<o;)if(null!=(i=t[r])&&i>=i){n=i;break}for(;++r<o;)null!=(i=t[r])&&i>n&&(n=i)}else{for(;++r<o;)if(null!=(i=e.call(t,t[r],r))&&i>=i){n=i;break}for(;++r<o;)null!=(i=e.call(t,t[r],r))&&i>n&&(n=i)}return n},ls.extent=function(t,e){var n,i,r,o=-1,s=t.length;if(1===arguments.length){for(;++o<s;)if(null!=(i=t[o])&&i>=i){n=r=i;break}for(;++o<s;)null!=(i=t[o])&&(n>i&&(n=i),i>r&&(r=i))}else{for(;++o<s;)if(null!=(i=e.call(t,t[o],o))&&i>=i){n=r=i;break}for(;++o<s;)null!=(i=e.call(t,t[o],o))&&(n>i&&(n=i),i>r&&(r=i))}return[n,r]},ls.sum=function(t,e){var n,i=0,o=t.length,s=-1;if(1===arguments.length)for(;++s<o;)r(n=+t[s])&&(i+=n);else for(;++s<o;)r(n=+e.call(t,t[s],s))&&(i+=n);return i},ls.mean=function(t,e){var n,o=0,s=t.length,a=-1,l=s;if(1===arguments.length)for(;++a<s;)r(n=i(t[a]))?o+=n:--l;else for(;++a<s;)r(n=i(e.call(t,t[a],a)))?o+=n:--l;return l?o/l:void 0},ls.quantile=function(t,e){var n=(t.length-1)*e+1,i=Math.floor(n),r=+t[i-1],o=n-i;return o?r+o*(t[i]-r):r},ls.median=function(t,e){var o,s=[],a=t.length,l=-1;if(1===arguments.length)for(;++l<a;)r(o=i(t[l]))&&s.push(o);else for(;++l<a;)r(o=i(e.call(t,t[l],l)))&&s.push(o);return s.length?ls.quantile(s.sort(n),.5):void 0},ls.variance=function(t,e){var n,o,s=t.length,a=0,l=0,u=-1,c=0;if(1===arguments.length)for(;++u<s;)r(n=i(t[u]))&&(o=n-a,a+=o/++c,l+=o*(n-a));else for(;++u<s;)r(n=i(e.call(t,t[u],u)))&&(o=n-a,a+=o/++c,l+=o*(n-a));return c>1?l/(c-1):void 0},ls.deviation=function(){var t=ls.variance.apply(this,arguments);return t?Math.sqrt(t):t};var ws=o(n);ls.bisectLeft=ws.left,ls.bisect=ls.bisectRight=ws.right,ls.bisector=function(t){return o(1===t.length?function(e,i){return n(t(e),i)}:t)},ls.shuffle=function(t,e,n){(o=arguments.length)<3&&(n=t.length,2>o&&(e=0));for(var i,r,o=n-e;o;)r=Math.random()*o--|0,i=t[o+e],t[o+e]=t[r+e],t[r+e]=i;return t},ls.permute=function(t,e){for(var n=e.length,i=new Array(n);n--;)i[n]=t[e[n]];return i},ls.pairs=function(t){for(var e,n=0,i=t.length-1,r=t[0],o=new Array(0>i?0:i);i>n;)o[n]=[e=r,r=t[++n]];return o},ls.transpose=function(t){if(!(r=t.length))return[];for(var e=-1,n=ls.min(t,s),i=new Array(n);++e<n;)for(var r,o=-1,a=i[e]=new Array(r);++o<r;)a[o]=t[o][e];return i},ls.zip=function(){return ls.transpose(arguments)},ls.keys=function(t){var e=[];for(var n in t)e.push(n);return e},ls.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},ls.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},ls.merge=function(t){for(var e,n,i,r=t.length,o=-1,s=0;++o<r;)s+=t[o].length;for(n=new Array(s);--r>=0;)for(i=t[r],e=i.length;--e>=0;)n[--s]=i[e];return n};var bs=Math.abs;ls.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n===1/0)throw new Error("infinite range");var i,r=[],o=a(bs(n)),s=-1;if(t*=o,e*=o,n*=o,0>n)for(;(i=t+n*++s)>e;)r.push(i/o);else for(;(i=t+n*++s)<e;)r.push(i/o);return r},ls.map=function(t,e){var n=new u;if(t instanceof u)t.forEach(function(t,e){n.set(t,e)});else if(Array.isArray(t)){var i,r=-1,o=t.length;if(1===arguments.length)for(;++r<o;)n.set(r,t[r]);else for(;++r<o;)n.set(e.call(t,i=t[r],r),i)}else for(var s in t)n.set(s,t[s]);return n};var As="__proto__",Cs="\x00";l(u,{has:d,get:function(t){return this._[c(t)]},set:function(t,e){return this._[c(t)]=e},remove:f,keys:p,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:h(e),value:this._[e]});return t},size:g,empty:m,forEach:function(t){for(var e in this._)t.call(this,h(e),this._[e])}}),ls.nest=function(){function t(e,s,a){if(a>=o.length)return i?i.call(r,s):n?s.sort(n):s;for(var l,c,h,d,f=-1,p=s.length,g=o[a++],m=new u;++f<p;)(d=m.get(l=g(c=s[f])))?d.push(c):m.set(l,[c]);return e?(c=e(),h=function(n,i){c.set(n,t(e,i,a))}):(c={},h=function(n,i){c[n]=t(e,i,a)}),m.forEach(h),c}function e(t,n){if(n>=o.length)return t;var i=[],r=s[n++];return t.forEach(function(t,r){i.push({key:t,values:e(r,n)})}),r?i.sort(function(t,e){return r(t.key,e.key)}):i}var n,i,r={},o=[],s=[];return r.map=function(e,n){return t(n,e,0)},r.entries=function(n){return e(t(ls.map,n,0),0)},r.key=function(t){return o.push(t),r},r.sortKeys=function(t){return s[o.length-1]=t,r},r.sortValues=function(t){return n=t,r},r.rollup=function(t){return i=t,r},r},ls.set=function(t){var e=new v;if(t)for(var n=0,i=t.length;i>n;++n)e.add(t[n]);return e},l(v,{has:d,add:function(t){return this._[c(t+="")]=!0,t},remove:f,values:p,size:g,empty:m,forEach:function(t){for(var e in this._)t.call(this,h(e))}}),ls.behavior={},ls.rebind=function(t,e){for(var n,i=1,r=arguments.length;++i<r;)t[n=arguments[i]]=w(t,e,e[n]);return t};var xs=["webkit","ms","moz","Moz","o","O"];ls.dispatch=function(){for(var t=new C,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=x(t);return t},C.prototype.on=function(t,e){var n=t.indexOf("."),i="";if(n>=0&&(i=t.slice(n+1),t=t.slice(0,n)),t)return arguments.length<2?this[t].on(i):this[t].on(i,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(i,null);return this}},ls.event=null,ls.requote=function(t){return t.replace(Es,"\\$&")};var Es=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,_s={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]},Fs=function(t,e){return e.querySelector(t)},ks=function(t,e){return e.querySelectorAll(t)},Ss=function(t,e){var n=t.matches||t[b(t,"matchesSelector")];return(Ss=function(t,e){return n.call(t,e)})(t,e);
};"function"==typeof Sizzle&&(Fs=function(t,e){return Sizzle(t,e)[0]||null},ks=Sizzle,Ss=Sizzle.matchesSelector),ls.selection=function(){return ls.select(hs.documentElement)};var Ds=ls.selection.prototype=[];Ds.select=function(t){var e,n,i,r,o=[];t=S(t);for(var s=-1,a=this.length;++s<a;){o.push(e=[]),e.parentNode=(i=this[s]).parentNode;for(var l=-1,u=i.length;++l<u;)(r=i[l])?(e.push(n=t.call(r,r.__data__,l,s)),n&&"__data__"in r&&(n.__data__=r.__data__)):e.push(null)}return k(o)},Ds.selectAll=function(t){var e,n,i=[];t=D(t);for(var r=-1,o=this.length;++r<o;)for(var s=this[r],a=-1,l=s.length;++a<l;)(n=s[a])&&(i.push(e=cs(t.call(n,n.__data__,a,r))),e.parentNode=n);return k(i)};var Ms="http://www.w3.org/1999/xhtml",Ts={svg:"http://www.w3.org/2000/svg",xhtml:Ms,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};ls.ns={prefix:Ts,qualify:function(t){var e=t.indexOf(":"),n=t;return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),Ts.hasOwnProperty(n)?{space:Ts[n],local:t}:t}},Ds.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();return t=ls.ns.qualify(t),t.local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(M(e,t[e]));return this}return this.each(M(t,e))},Ds.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),i=(t=L(t)).length,r=-1;if(e=n.classList){for(;++r<i;)if(!e.contains(t[r]))return!1}else for(e=n.getAttribute("class");++r<i;)if(!$(t[r]).test(e))return!1;return!0}for(e in t)this.each(B(e,t[e]));return this}return this.each(B(t,e))},Ds.style=function(t,n,i){var r=arguments.length;if(3>r){if("string"!=typeof t){2>r&&(n="");for(i in t)this.each(N(i,t[i],n));return this}if(2>r){var o=this.node();return e(o).getComputedStyle(o,null).getPropertyValue(t)}i=""}return this.each(N(t,n,i))},Ds.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(O(e,t[e]));return this}return this.each(O(t,e))},Ds.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},Ds.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},Ds.append=function(t){return t=I(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},Ds.insert=function(t,e){return t=I(t),e=S(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},Ds.remove=function(){return this.each(P)},Ds.data=function(t,e){function n(t,n){var i,r,o,s=t.length,h=n.length,d=Math.min(s,h),f=new Array(h),p=new Array(h),g=new Array(s);if(e){var m,v=new u,y=new Array(s);for(i=-1;++i<s;)(r=t[i])&&(v.has(m=e.call(r,r.__data__,i))?g[i]=r:v.set(m,r),y[i]=m);for(i=-1;++i<h;)(r=v.get(m=e.call(n,o=n[i],i)))?r!==!0&&(f[i]=r,r.__data__=o):p[i]=z(o),v.set(m,!0);for(i=-1;++i<s;)i in y&&v.get(y[i])!==!0&&(g[i]=t[i])}else{for(i=-1;++i<d;)r=t[i],o=n[i],r?(r.__data__=o,f[i]=r):p[i]=z(o);for(;h>i;++i)p[i]=z(n[i]);for(;s>i;++i)g[i]=t[i]}p.update=f,p.parentNode=f.parentNode=g.parentNode=t.parentNode,a.push(p),l.push(f),c.push(g)}var i,r,o=-1,s=this.length;if(!arguments.length){for(t=new Array(s=(i=this[0]).length);++o<s;)(r=i[o])&&(t[o]=r.__data__);return t}var a=U([]),l=k([]),c=k([]);if("function"==typeof t)for(;++o<s;)n(i=this[o],t.call(i,i.parentNode.__data__,o));else for(;++o<s;)n(i=this[o],t);return l.enter=function(){return a},l.exit=function(){return c},l},Ds.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},Ds.filter=function(t){var e,n,i,r=[];"function"!=typeof t&&(t=j(t));for(var o=0,s=this.length;s>o;o++){r.push(e=[]),e.parentNode=(n=this[o]).parentNode;for(var a=0,l=n.length;l>a;a++)(i=n[a])&&t.call(i,i.__data__,a,o)&&e.push(i)}return k(r)},Ds.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,i=this[t],r=i.length-1,o=i[r];--r>=0;)(n=i[r])&&(o&&o!==n.nextSibling&&o.parentNode.insertBefore(n,o),o=n);return this},Ds.sort=function(t){t=H.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},Ds.each=function(t){return W(this,function(e,n,i){t.call(e,e.__data__,n,i)})},Ds.call=function(t){var e=cs(arguments);return t.apply(e[0]=this,e),this},Ds.empty=function(){return!this.node()},Ds.node=function(){for(var t=0,e=this.length;e>t;t++)for(var n=this[t],i=0,r=n.length;r>i;i++){var o=n[i];if(o)return o}return null},Ds.size=function(){var t=0;return W(this,function(){++t}),t};var $s=[];ls.selection.enter=U,ls.selection.enter.prototype=$s,$s.append=Ds.append,$s.empty=Ds.empty,$s.node=Ds.node,$s.call=Ds.call,$s.size=Ds.size,$s.select=function(t){for(var e,n,i,r,o,s=[],a=-1,l=this.length;++a<l;){i=(r=this[a]).update,s.push(e=[]),e.parentNode=r.parentNode;for(var u=-1,c=r.length;++u<c;)(o=r[u])?(e.push(i[u]=n=t.call(r.parentNode,o.__data__,u,a)),n.__data__=o.__data__):e.push(null)}return k(s)},$s.insert=function(t,e){return arguments.length<2&&(e=q(this)),Ds.insert.call(this,t,e)},ls.select=function(e){var n;return"string"==typeof e?(n=[Fs(e,hs)],n.parentNode=hs.documentElement):(n=[e],n.parentNode=t(e)),k([n])},ls.selectAll=function(t){var e;return"string"==typeof t?(e=cs(ks(t,hs)),e.parentNode=hs.documentElement):(e=cs(t),e.parentNode=null),k([e])},Ds.on=function(t,e,n){var i=arguments.length;if(3>i){if("string"!=typeof t){2>i&&(e=!1);for(n in t)this.each(V(n,t[n],e));return this}if(2>i)return(i=this.node()["__on"+t])&&i._;n=!1}return this.each(V(t,e,n))};var Ls=ls.map({mouseenter:"mouseover",mouseleave:"mouseout"});hs&&Ls.forEach(function(t){"on"+t in hs&&Ls.remove(t)});var Bs,Rs=0;ls.mouse=function(t){return X(t,_())};var Ns=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;ls.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=_().changedTouches),e)for(var i,r=0,o=e.length;o>r;++r)if((i=e[r]).identifier===n)return X(t,i)},ls.behavior.drag=function(){function t(){this.on("mousedown.drag",o).on("touchstart.drag",s)}function n(t,e,n,o,s){return function(){function a(){var t,n,i=e(d,g);i&&(t=i[0]-w[0],n=i[1]-w[1],p|=t|n,w=i,f({type:"drag",x:i[0]+u[0],y:i[1]+u[1],dx:t,dy:n}))}function l(){e(d,g)&&(v.on(o+m,null).on(s+m,null),y(p),f({type:"dragend"}))}var u,c=this,h=ls.event.target.correspondingElement||ls.event.target,d=c.parentNode,f=i.of(c,arguments),p=0,g=t(),m=".drag"+(null==g?"":"-"+g),v=ls.select(n(h)).on(o+m,a).on(s+m,l),y=Y(h),w=e(d,g);r?(u=r.apply(c,arguments),u=[u.x-w[0],u.y-w[1]]):u=[0,0],f({type:"dragstart"})}}var i=F(t,"drag","dragstart","dragend"),r=null,o=n(A,ls.mouse,e,"mousemove","mouseup"),s=n(Q,ls.touch,y,"touchmove","touchend");return t.origin=function(e){return arguments.length?(r=e,t):r},ls.rebind(t,i,"on")},ls.touches=function(t,e){return arguments.length<2&&(e=_().touches),e?cs(e).map(function(e){var n=X(t,e);return n.identifier=e.identifier,n}):[]};var Os=1e-6,Is=Os*Os,Ps=Math.PI,zs=2*Ps,js=zs-Os,Hs=Ps/2,Ws=Ps/180,Us=180/Ps,qs=Math.SQRT2,Vs=2,Gs=4;ls.interpolateZoom=function(t,e){var n,i,r=t[0],o=t[1],s=t[2],a=e[0],l=e[1],u=e[2],c=a-r,h=l-o,d=c*c+h*h;if(Is>d)i=Math.log(u/s)/qs,n=function(t){return[r+t*c,o+t*h,s*Math.exp(qs*t*i)]};else{var f=Math.sqrt(d),p=(u*u-s*s+Gs*d)/(2*s*Vs*f),g=(u*u-s*s-Gs*d)/(2*u*Vs*f),m=Math.log(Math.sqrt(p*p+1)-p),v=Math.log(Math.sqrt(g*g+1)-g);i=(v-m)/qs,n=function(t){var e=t*i,n=it(m),a=s/(Vs*f)*(n*rt(qs*e+m)-nt(m));return[r+a*c,o+a*h,s*n/it(qs*e+m)]}}return n.duration=1e3*i,n},ls.behavior.zoom=function(){function t(t){t.on(T,h).on(Ys+".zoom",f).on("dblclick.zoom",p).on(B,d)}function n(t){return[(t[0]-_.x)/_.k,(t[1]-_.y)/_.k]}function i(t){return[t[0]*_.k+_.x,t[1]*_.k+_.y]}function r(t){_.k=Math.max(S[0],Math.min(S[1],t))}function o(t,e){e=i(e),_.x+=t[0]-e[0],_.y+=t[1]-e[1]}function s(e,n,i,s){e.__chart__={x:_.x,y:_.y,k:_.k},r(Math.pow(2,s)),o(m=n,i),e=ls.select(e),D>0&&(e=e.transition().duration(D)),e.call(t.event)}function a(){A&&A.domain(b.range().map(function(t){return(t-_.x)/_.k}).map(b.invert)),x&&x.domain(C.range().map(function(t){return(t-_.y)/_.k}).map(C.invert))}function l(t){M++||t({type:"zoomstart"})}function u(t){a(),t({type:"zoom",scale:_.k,translate:[_.x,_.y]})}function c(t){--M||(t({type:"zoomend"}),m=null)}function h(){function t(){a=1,o(ls.mouse(r),d),u(s)}function i(){h.on($,null).on(L,null),f(a),c(s)}var r=this,s=R.of(r,arguments),a=0,h=ls.select(e(r)).on($,t).on(L,i),d=n(ls.mouse(r)),f=Y(r);Hl.call(r),l(s)}function d(){function t(){var t=ls.touches(p);return f=_.k,t.forEach(function(t){t.identifier in m&&(m[t.identifier]=n(t))}),t}function e(){var e=ls.event.target;ls.select(e).on(b,i).on(A,a),C.push(e);for(var n=ls.event.changedTouches,r=0,o=n.length;o>r;++r)m[n[r].identifier]=null;var l=t(),u=Date.now();if(1===l.length){if(500>u-w){var c=l[0];s(p,c,m[c.identifier],Math.floor(Math.log(_.k)/Math.LN2)+1),E()}w=u}else if(l.length>1){var c=l[0],h=l[1],d=c[0]-h[0],f=c[1]-h[1];v=d*d+f*f}}function i(){var t,e,n,i,s=ls.touches(p);Hl.call(p);for(var a=0,l=s.length;l>a;++a,i=null)if(n=s[a],i=m[n.identifier]){if(e)break;t=n,e=i}if(i){var c=(c=n[0]-t[0])*c+(c=n[1]-t[1])*c,h=v&&Math.sqrt(c/v);t=[(t[0]+n[0])/2,(t[1]+n[1])/2],e=[(e[0]+i[0])/2,(e[1]+i[1])/2],r(h*f)}w=null,o(t,e),u(g)}function a(){if(ls.event.touches.length){for(var e=ls.event.changedTouches,n=0,i=e.length;i>n;++n)delete m[e[n].identifier];for(var r in m)return void t()}ls.selectAll(C).on(y,null),x.on(T,h).on(B,d),F(),c(g)}var f,p=this,g=R.of(p,arguments),m={},v=0,y=".zoom-"+ls.event.changedTouches[0].identifier,b="touchmove"+y,A="touchend"+y,C=[],x=ls.select(p),F=Y(p);e(),l(g),x.on(T,null).on(B,e)}function f(){var t=R.of(this,arguments);y?clearTimeout(y):(Hl.call(this),g=n(m=v||ls.mouse(this)),l(t)),y=setTimeout(function(){y=null,c(t)},50),E(),r(Math.pow(2,.002*Ks())*_.k),o(m,g),u(t)}function p(){var t=ls.mouse(this),e=Math.log(_.k)/Math.LN2;s(this,t,n(t),ls.event.shiftKey?Math.ceil(e)-1:Math.floor(e)+1)}var g,m,v,y,w,b,A,C,x,_={x:0,y:0,k:1},k=[960,500],S=Xs,D=250,M=0,T="mousedown.zoom",$="mousemove.zoom",L="mouseup.zoom",B="touchstart.zoom",R=F(t,"zoomstart","zoom","zoomend");return Ys||(Ys="onwheel"in hs?(Ks=function(){return-ls.event.deltaY*(ls.event.deltaMode?120:1)},"wheel"):"onmousewheel"in hs?(Ks=function(){return ls.event.wheelDelta},"mousewheel"):(Ks=function(){return-ls.event.detail},"MozMousePixelScroll")),t.event=function(t){t.each(function(){var t=R.of(this,arguments),e=_;zl?ls.select(this).transition().each("start.zoom",function(){_=this.__chart__||{x:0,y:0,k:1},l(t)}).tween("zoom:zoom",function(){var n=k[0],i=k[1],r=m?m[0]:n/2,o=m?m[1]:i/2,s=ls.interpolateZoom([(r-_.x)/_.k,(o-_.y)/_.k,n/_.k],[(r-e.x)/e.k,(o-e.y)/e.k,n/e.k]);return function(e){var i=s(e),a=n/i[2];this.__chart__=_={x:r-i[0]*a,y:o-i[1]*a,k:a},u(t)}}).each("interrupt.zoom",function(){c(t)}).each("end.zoom",function(){c(t)}):(this.__chart__=_,l(t),u(t),c(t))})},t.translate=function(e){return arguments.length?(_={x:+e[0],y:+e[1],k:_.k},a(),t):[_.x,_.y]},t.scale=function(e){return arguments.length?(_={x:_.x,y:_.y,k:null},r(+e),a(),t):_.k},t.scaleExtent=function(e){return arguments.length?(S=null==e?Xs:[+e[0],+e[1]],t):S},t.center=function(e){return arguments.length?(v=e&&[+e[0],+e[1]],t):v},t.size=function(e){return arguments.length?(k=e&&[+e[0],+e[1]],t):k},t.duration=function(e){return arguments.length?(D=+e,t):D},t.x=function(e){return arguments.length?(A=e,b=e.copy(),_={x:0,y:0,k:1},t):A},t.y=function(e){return arguments.length?(x=e,C=e.copy(),_={x:0,y:0,k:1},t):x},ls.rebind(t,R,"on")};var Ks,Ys,Xs=[0,1/0];ls.color=st,st.prototype.toString=function(){return this.rgb()+""},ls.hsl=at;var Qs=at.prototype=new st;Qs.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new at(this.h,this.s,this.l/t)},Qs.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new at(this.h,this.s,t*this.l)},Qs.rgb=function(){return lt(this.h,this.s,this.l)},ls.hcl=ut;var Js=ut.prototype=new st;Js.brighter=function(t){return new ut(this.h,this.c,Math.min(100,this.l+Zs*(arguments.length?t:1)))},Js.darker=function(t){return new ut(this.h,this.c,Math.max(0,this.l-Zs*(arguments.length?t:1)))},Js.rgb=function(){return ct(this.h,this.c,this.l).rgb()},ls.lab=ht;var Zs=18,ta=.95047,ea=1,na=1.08883,ia=ht.prototype=new st;ia.brighter=function(t){return new ht(Math.min(100,this.l+Zs*(arguments.length?t:1)),this.a,this.b)},ia.darker=function(t){return new ht(Math.max(0,this.l-Zs*(arguments.length?t:1)),this.a,this.b)},ia.rgb=function(){return dt(this.l,this.a,this.b)},ls.rgb=vt;var ra=vt.prototype=new st;ra.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,i=this.b,r=30;return e||n||i?(e&&r>e&&(e=r),n&&r>n&&(n=r),i&&r>i&&(i=r),new vt(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,i/t))):new vt(r,r,r)},ra.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new vt(t*this.r,t*this.g,t*this.b)},ra.hsl=function(){return Ct(this.r,this.g,this.b)},ra.toString=function(){return"#"+bt(this.r)+bt(this.g)+bt(this.b)};var oa=ls.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});oa.forEach(function(t,e){oa.set(t,yt(e))}),ls.functor=Ft,ls.xhr=kt(y),ls.dsv=function(t,e){function n(t,n,o){arguments.length<3&&(o=n,n=null);var s=St(t,e,null==n?i:r(n),o);return s.row=function(t){return arguments.length?s.response(null==(n=t)?i:r(t)):n},s}function i(t){return n.parse(t.responseText)}function r(t){return function(e){return n.parse(e.responseText,t)}}function o(e){return e.map(s).join(t)}function s(t){return a.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var a=new RegExp('["'+t+"\n]"),l=t.charCodeAt(0);return n.parse=function(t,e){var i;return n.parseRows(t,function(t,n){if(i)return i(t,n-1);var r=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");i=e?function(t,n){return e(r(t),n)}:r})},n.parseRows=function(t,e){function n(){if(c>=u)return s;if(r)return r=!1,o;var e=c;if(34===t.charCodeAt(e)){for(var n=e;n++<u;)if(34===t.charCodeAt(n)){if(34!==t.charCodeAt(n+1))break;++n}c=n+2;var i=t.charCodeAt(n+1);return 13===i?(r=!0,10===t.charCodeAt(n+2)&&++c):10===i&&(r=!0),t.slice(e+1,n).replace(/""/g,'"')}for(;u>c;){var i=t.charCodeAt(c++),a=1;if(10===i)r=!0;else if(13===i)r=!0,10===t.charCodeAt(c)&&(++c,++a);else if(i!==l)continue;return t.slice(e,c-a)}return t.slice(e)}for(var i,r,o={},s={},a=[],u=t.length,c=0,h=0;(i=n())!==s;){for(var d=[];i!==o&&i!==s;)d.push(i),i=n();e&&null==(d=e(d,h++))||a.push(d)}return a},n.format=function(e){if(Array.isArray(e[0]))return n.formatRows(e);var i=new v,r=[];return e.forEach(function(t){for(var e in t)i.has(e)||r.push(i.add(e))}),[r.map(s).join(t)].concat(e.map(function(e){return r.map(function(t){return s(e[t])}).join(t)})).join("\n")},n.formatRows=function(t){return t.map(o).join("\n")},n},ls.csv=ls.dsv(",","text/csv"),ls.tsv=ls.dsv("	","text/tab-separated-values");var sa,aa,la,ua,ca=this[b(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};ls.timer=function(){Tt.apply(this,arguments)},ls.timer.flush=function(){Lt(),Bt()},ls.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var ha=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"].map(Nt);ls.formatPrefix=function(t,e){var n=0;return(t=+t)&&(0>t&&(t*=-1),e&&(t=ls.round(t,Rt(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),ha[8+n/3]};var da=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,fa=ls.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=ls.round(t,Rt(t,e))).toFixed(Math.max(0,Math.min(20,Rt(t*(1+1e-15),e))))}}),pa=ls.time={},ga=Date;Pt.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){ma.setUTCDate.apply(this._,arguments)},setDay:function(){ma.setUTCDay.apply(this._,arguments)},setFullYear:function(){ma.setUTCFullYear.apply(this._,arguments)},setHours:function(){ma.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){ma.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){ma.setUTCMinutes.apply(this._,arguments)},setMonth:function(){ma.setUTCMonth.apply(this._,arguments)},setSeconds:function(){ma.setUTCSeconds.apply(this._,arguments)},setTime:function(){ma.setTime.apply(this._,arguments)}};var ma=Date.prototype;pa.year=zt(function(t){return t=pa.day(t),t.setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),pa.years=pa.year.range,pa.years.utc=pa.year.utc.range,pa.day=zt(function(t){var e=new ga(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),pa.days=pa.day.range,pa.days.utc=pa.day.utc.range,pa.dayOfYear=function(t){var e=pa.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,e){e=7-e;var n=pa[t]=zt(function(t){return(t=pa.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var n=pa.year(t).getDay();return Math.floor((pa.dayOfYear(t)+(n+e)%7)/7)-(n!==e)});pa[t+"s"]=n.range,pa[t+"s"].utc=n.utc.range,pa[t+"OfYear"]=function(t){var n=pa.year(t).getDay();return Math.floor((pa.dayOfYear(t)+(n+e)%7)/7)}}),pa.week=pa.sunday,pa.weeks=pa.sunday.range,pa.weeks.utc=pa.sunday.utc.range,pa.weekOfYear=pa.sundayOfYear;var va={"-":"",_:" ",0:"0"},ya=/^\s*\d+/,wa=/^%/;ls.locale=function(t){return{numberFormat:Ot(t),timeFormat:Ht(t)}};var ba=ls.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});ls.format=ba.numberFormat,ls.geo={},ue.prototype={s:0,t:0,add:function(t){ce(t,this.t,Aa),ce(Aa.s,this.s,this),this.s?this.t+=Aa.t:this.s=Aa.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var Aa=new ue;ls.geo.stream=function(t,e){t&&Ca.hasOwnProperty(t.type)?Ca[t.type](t,e):he(t,e)};var Ca={Feature:function(t,e){he(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,r=n.length;++i<r;)he(n[i].geometry,e)}},xa={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)t=n[i],e.point(t[0],t[1],t[2])},LineString:function(t,e){de(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)de(n[i],e,0)},Polygon:function(t,e){fe(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)fe(n[i],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,r=n.length;++i<r;)he(n[i],e)}};ls.geo.area=function(t){return Ea=0,ls.geo.stream(t,Fa),Ea};var Ea,_a=new ue,Fa={sphere:function(){Ea+=4*Ps},point:A,lineStart:A,lineEnd:A,polygonStart:function(){_a.reset(),Fa.lineStart=pe},polygonEnd:function(){var t=2*_a;Ea+=0>t?4*Ps+t:t,Fa.lineStart=Fa.lineEnd=Fa.point=A}};ls.geo.bounds=function(){function t(t,e){w.push(b=[c=t,d=t]),h>e&&(h=e),e>f&&(f=e)}function e(e,n){var i=ge([e*Ws,n*Ws]);if(v){var r=ve(v,i),o=[r[1],-r[0],0],s=ve(o,r);be(s),s=Ae(s);var l=e-p,u=l>0?1:-1,g=s[0]*Us*u,m=bs(l)>180;if(m^(g>u*p&&u*e>g)){var y=s[1]*Us;y>f&&(f=y)}else if(g=(g+360)%360-180,m^(g>u*p&&u*e>g)){var y=-s[1]*Us;h>y&&(h=y)}else h>n&&(h=n),n>f&&(f=n);m?p>e?a(c,e)>a(c,d)&&(d=e):a(e,d)>a(c,d)&&(c=e):d>=c?(c>e&&(c=e),e>d&&(d=e)):e>p?a(c,e)>a(c,d)&&(d=e):a(e,d)>a(c,d)&&(c=e)}else t(e,n);v=i,p=e}function n(){A.point=e}function i(){b[0]=c,b[1]=d,A.point=t,v=null}function r(t,n){if(v){var i=t-p;y+=bs(i)>180?i+(i>0?360:-360):i}else g=t,m=n;Fa.point(t,n),e(t,n)}function o(){Fa.lineStart()}function s(){r(g,m),Fa.lineEnd(),bs(y)>Os&&(c=-(d=180)),b[0]=c,b[1]=d,v=null}function a(t,e){return(e-=t)<0?e+360:e}function l(t,e){return t[0]-e[0]}function u(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var c,h,d,f,p,g,m,v,y,w,b,A={point:t,lineStart:n,lineEnd:i,polygonStart:function(){A.point=r,A.lineStart=o,A.lineEnd=s,y=0,Fa.polygonStart()},polygonEnd:function(){Fa.polygonEnd(),A.point=t,A.lineStart=n,A.lineEnd=i,0>_a?(c=-(d=180),h=-(f=90)):y>Os?f=90:-Os>y&&(h=-90),b[0]=c,b[1]=d}};return function(t){f=d=-(c=h=1/0),w=[],ls.geo.stream(t,A);var e=w.length;if(e){w.sort(l);for(var n,i=1,r=w[0],o=[r];e>i;++i)n=w[i],u(n[0],r)||u(n[1],r)?(a(r[0],n[1])>a(r[0],r[1])&&(r[1]=n[1]),a(n[0],r[1])>a(r[0],r[1])&&(r[0]=n[0])):o.push(r=n);for(var s,n,p=-(1/0),e=o.length-1,i=0,r=o[e];e>=i;r=n,++i)n=o[i],(s=a(r[1],n[0]))>p&&(p=s,c=n[0],d=r[1])}return w=b=null,c===1/0||h===1/0?[[NaN,NaN],[NaN,NaN]]:[[c,h],[d,f]]}}(),ls.geo.centroid=function(t){ka=Sa=Da=Ma=Ta=$a=La=Ba=Ra=Na=Oa=0,ls.geo.stream(t,Ia);var e=Ra,n=Na,i=Oa,r=e*e+n*n+i*i;return Is>r&&(e=$a,n=La,i=Ba,Os>Sa&&(e=Da,n=Ma,i=Ta),r=e*e+n*n+i*i,Is>r)?[NaN,NaN]:[Math.atan2(n,e)*Us,et(i/Math.sqrt(r))*Us]};var ka,Sa,Da,Ma,Ta,$a,La,Ba,Ra,Na,Oa,Ia={sphere:A,point:xe,lineStart:_e,lineEnd:Fe,polygonStart:function(){Ia.lineStart=ke},polygonEnd:function(){Ia.lineStart=_e}},Pa=Le(De,Oe,Pe,[-Ps,-Ps/2]),za=1e9;ls.geo.clipExtent=function(){var t,e,n,i,r,o,s={stream:function(t){return r&&(r.valid=!1),r=o(t),r.valid=!0,r},extent:function(a){return arguments.length?(o=We(t=+a[0][0],e=+a[0][1],n=+a[1][0],i=+a[1][1]),r&&(r.valid=!1,r=null),s):[[t,e],[n,i]]}};return s.extent([[0,0],[960,500]])},(ls.geo.conicEqualArea=function(){return Ue(qe)}).raw=qe,ls.geo.albers=function(){return ls.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},ls.geo.albersUsa=function(){function t(t){var o=t[0],s=t[1];return e=null,n(o,s),e||(i(o,s),e)||r(o,s),e}var e,n,i,r,o=ls.geo.albers(),s=ls.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a=ls.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(t,n){e=[t,n]}};return t.invert=function(t){var e=o.scale(),n=o.translate(),i=(t[0]-n[0])/e,r=(t[1]-n[1])/e;return(r>=.12&&.234>r&&i>=-.425&&-.214>i?s:r>=.166&&.234>r&&i>=-.214&&-.115>i?a:o).invert(t)},t.stream=function(t){var e=o.stream(t),n=s.stream(t),i=a.stream(t);return{point:function(t,r){e.point(t,r),n.point(t,r),i.point(t,r)},sphere:function(){e.sphere(),n.sphere(),i.sphere()},lineStart:function(){e.lineStart(),n.lineStart(),i.lineStart()},lineEnd:function(){e.lineEnd(),n.lineEnd(),i.lineEnd()},polygonStart:function(){e.polygonStart(),n.polygonStart(),i.polygonStart()},polygonEnd:function(){e.polygonEnd(),n.polygonEnd(),i.polygonEnd()}}},t.precision=function(e){return arguments.length?(o.precision(e),s.precision(e),a.precision(e),t):o.precision()},t.scale=function(e){return arguments.length?(o.scale(e),s.scale(.35*e),a.scale(e),t.translate(o.translate())):o.scale()},t.translate=function(e){if(!arguments.length)return o.translate();var u=o.scale(),c=+e[0],h=+e[1];return n=o.translate(e).clipExtent([[c-.455*u,h-.238*u],[c+.455*u,h+.238*u]]).stream(l).point,i=s.translate([c-.307*u,h+.201*u]).clipExtent([[c-.425*u+Os,h+.12*u+Os],[c-.214*u-Os,h+.234*u-Os]]).stream(l).point,r=a.translate([c-.205*u,h+.212*u]).clipExtent([[c-.214*u+Os,h+.166*u+Os],[c-.115*u-Os,h+.234*u-Os]]).stream(l).point,t},t.scale(1070)};var ja,Ha,Wa,Ua,qa,Va,Ga={point:A,lineStart:A,lineEnd:A,polygonStart:function(){Ha=0,Ga.lineStart=Ve},polygonEnd:function(){Ga.lineStart=Ga.lineEnd=Ga.point=A,ja+=bs(Ha/2)}},Ka={point:Ge,lineStart:A,lineEnd:A,polygonStart:A,polygonEnd:A},Ya={point:Xe,lineStart:Qe,lineEnd:Je,polygonStart:function(){Ya.lineStart=Ze},polygonEnd:function(){Ya.point=Xe,Ya.lineStart=Qe,Ya.lineEnd=Je}};ls.geo.path=function(){function t(t){return t&&("function"==typeof a&&o.pointRadius(+a.apply(this,arguments)),s&&s.valid||(s=r(o)),ls.geo.stream(t,s)),o.result()}function e(){return s=null,t}var n,i,r,o,s,a=4.5;return t.area=function(t){return ja=0,ls.geo.stream(t,r(Ga)),ja},t.centroid=function(t){return Da=Ma=Ta=$a=La=Ba=Ra=Na=Oa=0,ls.geo.stream(t,r(Ya)),Oa?[Ra/Oa,Na/Oa]:Ba?[$a/Ba,La/Ba]:Ta?[Da/Ta,Ma/Ta]:[NaN,NaN]},t.bounds=function(t){return qa=Va=-(Wa=Ua=1/0),ls.geo.stream(t,r(Ka)),[[Wa,Ua],[qa,Va]]},t.projection=function(t){return arguments.length?(r=(n=t)?t.stream||nn(t):y,e()):n},t.context=function(t){return arguments.length?(o=null==(i=t)?new Ke:new tn(t),"function"!=typeof a&&o.pointRadius(a),e()):i},t.pointRadius=function(e){return arguments.length?(a="function"==typeof e?e:(o.pointRadius(+e),+e),t):a},t.projection(ls.geo.albersUsa()).context(null)},ls.geo.transform=function(t){return{stream:function(e){var n=new rn(e);for(var i in t)n[i]=t[i];return n}}},rn.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},ls.geo.projection=sn,ls.geo.projectionMutator=an,(ls.geo.equirectangular=function(){return sn(un)}).raw=un.invert=un,ls.geo.rotation=function(t){function e(e){return e=t(e[0]*Ws,e[1]*Ws),e[0]*=Us,e[1]*=Us,e}return t=hn(t[0]%360*Ws,t[1]*Ws,t.length>2?t[2]*Ws:0),e.invert=function(e){return e=t.invert(e[0]*Ws,e[1]*Ws),e[0]*=Us,e[1]*=Us,e},e},cn.invert=un,ls.geo.circle=function(){function t(){var t="function"==typeof i?i.apply(this,arguments):i,e=hn(-t[0]*Ws,-t[1]*Ws,0).invert,r=[];return n(null,null,1,{point:function(t,n){r.push(t=e(t,n)),t[0]*=Us,t[1]*=Us}}),{type:"Polygon",coordinates:[r]}}var e,n,i=[0,0],r=6;return t.origin=function(e){return arguments.length?(i=e,t):i},t.angle=function(i){return arguments.length?(n=gn((e=+i)*Ws,r*Ws),t):e},t.precision=function(i){return arguments.length?(n=gn(e*Ws,(r=+i)*Ws),t):r},t.angle(90)},ls.geo.distance=function(t,e){var n,i=(e[0]-t[0])*Ws,r=t[1]*Ws,o=e[1]*Ws,s=Math.sin(i),a=Math.cos(i),l=Math.sin(r),u=Math.cos(r),c=Math.sin(o),h=Math.cos(o);return Math.atan2(Math.sqrt((n=h*s)*n+(n=u*c-l*h*a)*n),l*c+u*h*a)},ls.geo.graticule=function(){function t(){return{type:"MultiLineString",coordinates:e()}}function e(){return ls.range(Math.ceil(o/m)*m,r,m).map(d).concat(ls.range(Math.ceil(u/v)*v,l,v).map(f)).concat(ls.range(Math.ceil(i/p)*p,n,p).filter(function(t){return bs(t%m)>Os}).map(c)).concat(ls.range(Math.ceil(a/g)*g,s,g).filter(function(t){return bs(t%v)>Os}).map(h))}var n,i,r,o,s,a,l,u,c,h,d,f,p=10,g=p,m=90,v=360,y=2.5;return t.lines=function(){return e().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[d(o).concat(f(l).slice(1),d(r).reverse().slice(1),f(u).reverse().slice(1))]}},t.extent=function(e){return arguments.length?t.majorExtent(e).minorExtent(e):t.minorExtent()},t.majorExtent=function(e){return arguments.length?(o=+e[0][0],r=+e[1][0],u=+e[0][1],l=+e[1][1],o>r&&(e=o,o=r,r=e),u>l&&(e=u,u=l,l=e),t.precision(y)):[[o,u],[r,l]]},t.minorExtent=function(e){return arguments.length?(i=+e[0][0],n=+e[1][0],a=+e[0][1],s=+e[1][1],i>n&&(e=i,i=n,n=e),a>s&&(e=a,a=s,s=e),t.precision(y)):[[i,a],[n,s]]},t.step=function(e){return arguments.length?t.majorStep(e).minorStep(e):t.minorStep()},t.majorStep=function(e){return arguments.length?(m=+e[0],v=+e[1],t):[m,v]},t.minorStep=function(e){return arguments.length?(p=+e[0],g=+e[1],t):[p,g]},t.precision=function(e){return arguments.length?(y=+e,c=vn(a,s,90),h=yn(i,n,y),d=vn(u,l,90),f=yn(o,r,y),t):y},t.majorExtent([[-180,-90+Os],[180,90-Os]]).minorExtent([[-180,-80-Os],[180,80+Os]])},ls.geo.greatArc=function(){function t(){return{type:"LineString",coordinates:[e||i.apply(this,arguments),n||r.apply(this,arguments)]}}var e,n,i=wn,r=bn;return t.distance=function(){return ls.geo.distance(e||i.apply(this,arguments),n||r.apply(this,arguments))},t.source=function(n){return arguments.length?(i=n,e="function"==typeof n?null:n,t):i},t.target=function(e){return arguments.length?(r=e,n="function"==typeof e?null:e,t):r},t.precision=function(){return arguments.length?t:0},t},ls.geo.interpolate=function(t,e){return An(t[0]*Ws,t[1]*Ws,e[0]*Ws,e[1]*Ws)},ls.geo.length=function(t){return Xa=0,ls.geo.stream(t,Qa),
Xa};var Xa,Qa={sphere:A,point:A,lineStart:Cn,lineEnd:A,polygonStart:A,polygonEnd:A},Ja=xn(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(ls.geo.azimuthalEqualArea=function(){return sn(Ja)}).raw=Ja;var Za=xn(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},y);(ls.geo.azimuthalEquidistant=function(){return sn(Za)}).raw=Za,(ls.geo.conicConformal=function(){return Ue(En)}).raw=En,(ls.geo.conicEquidistant=function(){return Ue(_n)}).raw=_n;var tl=xn(function(t){return 1/t},Math.atan);(ls.geo.gnomonic=function(){return sn(tl)}).raw=tl,Fn.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-Hs]},(ls.geo.mercator=function(){return kn(Fn)}).raw=Fn;var el=xn(function(){return 1},Math.asin);(ls.geo.orthographic=function(){return sn(el)}).raw=el;var nl=xn(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});(ls.geo.stereographic=function(){return sn(nl)}).raw=nl,Sn.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-Hs]},(ls.geo.transverseMercator=function(){var t=kn(Sn),e=t.center,n=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):(t=e(),[t[1],-t[0]])},t.rotate=function(t){return t?n([t[0],t[1],t.length>2?t[2]+90:90]):(t=n(),[t[0],t[1],t[2]-90])},n([0,0,90])}).raw=Sn,ls.geom={},ls.geom.hull=function(t){function e(t){if(t.length<3)return[];var e,r=Ft(n),o=Ft(i),s=t.length,a=[],l=[];for(e=0;s>e;e++)a.push([+r.call(this,t[e],e),+o.call(this,t[e],e),e]);for(a.sort($n),e=0;s>e;e++)l.push([a[e][0],-a[e][1]]);var u=Tn(a),c=Tn(l),h=c[0]===u[0],d=c[c.length-1]===u[u.length-1],f=[];for(e=u.length-1;e>=0;--e)f.push(t[a[u[e]][2]]);for(e=+h;e<c.length-d;++e)f.push(t[a[c[e]][2]]);return f}var n=Dn,i=Mn;return arguments.length?e(t):(e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(i=t,e):i},e)},ls.geom.polygon=function(t){return _s(t,il),t};var il=ls.geom.polygon.prototype=[];il.area=function(){for(var t,e=-1,n=this.length,i=this[n-1],r=0;++e<n;)t=i,i=this[e],r+=t[1]*i[0]-t[0]*i[1];return.5*r},il.centroid=function(t){var e,n,i=-1,r=this.length,o=0,s=0,a=this[r-1];for(arguments.length||(t=-1/(6*this.area()));++i<r;)e=a,a=this[i],n=e[0]*a[1]-a[0]*e[1],o+=(e[0]+a[0])*n,s+=(e[1]+a[1])*n;return[o*t,s*t]},il.clip=function(t){for(var e,n,i,r,o,s,a=Rn(t),l=-1,u=this.length-Rn(this),c=this[u-1];++l<u;){for(e=t.slice(),t.length=0,r=this[l],o=e[(i=e.length-a)-1],n=-1;++n<i;)s=e[n],Ln(s,c,r)?(Ln(o,c,r)||t.push(Bn(o,s,c,r)),t.push(s)):Ln(o,c,r)&&t.push(Bn(o,s,c,r)),o=s;a&&t.push(t[0]),c=r}return t};var rl,ol,sl,al,ll,ul=[],cl=[];Wn.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)t=e[n].edge,t.b&&t.a||e.splice(n,1);return e.sort(qn),e.length},ei.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},ni.prototype={insert:function(t,e){var n,i,r;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=si(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)i=n.U,n===i.L?(r=i.R,r&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.R&&(ri(this,n),t=n,n=t.U),n.C=!1,i.C=!0,oi(this,i))):(r=i.L,r&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.L&&(oi(this,n),t=n,n=t.U),n.C=!1,i.C=!0,ri(this,i))),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,i,r=t.U,o=t.L,s=t.R;if(n=o?s?si(s):o:s,r?r.L===t?r.L=n:r.R=n:this._=n,o&&s?(i=n.C,n.C=t.C,n.L=o,o.U=n,n!==s?(r=n.U,n.U=t.U,t=n.R,r.L=t,n.R=s,s.U=n):(n.U=r,r=n,t=n.R)):(i=t.C,t=n),t&&(t.U=r),!i){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===r.L){if(e=r.R,e.C&&(e.C=!1,r.C=!0,ri(this,r),e=r.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,oi(this,e),e=r.R),e.C=r.C,r.C=e.R.C=!1,ri(this,r),t=this._;break}}else if(e=r.L,e.C&&(e.C=!1,r.C=!0,oi(this,r),e=r.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,ri(this,e),e=r.L),e.C=r.C,r.C=e.L.C=!1,oi(this,r),t=this._;break}e.C=!0,t=r,r=r.U}while(!t.C);t&&(t.C=!1)}}},ls.geom.voronoi=function(t){function e(t){var e=new Array(t.length),i=a[0][0],r=a[0][1],o=a[1][0],s=a[1][1];return ai(n(t),a).cells.forEach(function(n,a){var l=n.edges,u=n.site,c=e[a]=l.length?l.map(function(t){var e=t.start();return[e.x,e.y]}):u.x>=i&&u.x<=o&&u.y>=r&&u.y<=s?[[i,s],[o,s],[o,r],[i,r]]:[];c.point=t[a]}),e}function n(t){return t.map(function(t,e){return{x:Math.round(o(t,e)/Os)*Os,y:Math.round(s(t,e)/Os)*Os,i:e}})}var i=Dn,r=Mn,o=i,s=r,a=hl;return t?e(t):(e.links=function(t){return ai(n(t)).edges.filter(function(t){return t.l&&t.r}).map(function(e){return{source:t[e.l.i],target:t[e.r.i]}})},e.triangles=function(t){var e=[];return ai(n(t)).cells.forEach(function(n,i){for(var r,o,s=n.site,a=n.edges.sort(qn),l=-1,u=a.length,c=a[u-1].edge,h=c.l===s?c.r:c.l;++l<u;)r=c,o=h,c=a[l].edge,h=c.l===s?c.r:c.l,i<o.i&&i<h.i&&ui(s,o,h)<0&&e.push([t[i],t[o.i],t[h.i]])}),e},e.x=function(t){return arguments.length?(o=Ft(i=t),e):i},e.y=function(t){return arguments.length?(s=Ft(r=t),e):r},e.clipExtent=function(t){return arguments.length?(a=null==t?hl:t,e):a===hl?null:a},e.size=function(t){return arguments.length?e.clipExtent(t&&[[0,0],t]):a===hl?null:a&&a[1]},e)};var hl=[[-1e6,-1e6],[1e6,1e6]];ls.geom.delaunay=function(t){return ls.geom.voronoi().triangles(t)},ls.geom.quadtree=function(t,e,n,i,r){function o(t){function o(t,e,n,i,r,o,s,a){if(!isNaN(n)&&!isNaN(i))if(t.leaf){var l=t.x,c=t.y;if(null!=l)if(bs(l-n)+bs(c-i)<.01)u(t,e,n,i,r,o,s,a);else{var h=t.point;t.x=t.y=t.point=null,u(t,h,l,c,r,o,s,a),u(t,e,n,i,r,o,s,a)}else t.x=n,t.y=i,t.point=e}else u(t,e,n,i,r,o,s,a)}function u(t,e,n,i,r,s,a,l){var u=.5*(r+a),c=.5*(s+l),h=n>=u,d=i>=c,f=d<<1|h;t.leaf=!1,t=t.nodes[f]||(t.nodes[f]=di()),h?r=u:a=u,d?s=c:l=c,o(t,e,n,i,r,s,a,l)}var c,h,d,f,p,g,m,v,y,w=Ft(a),b=Ft(l);if(null!=e)g=e,m=n,v=i,y=r;else if(v=y=-(g=m=1/0),h=[],d=[],p=t.length,s)for(f=0;p>f;++f)c=t[f],c.x<g&&(g=c.x),c.y<m&&(m=c.y),c.x>v&&(v=c.x),c.y>y&&(y=c.y),h.push(c.x),d.push(c.y);else for(f=0;p>f;++f){var A=+w(c=t[f],f),C=+b(c,f);g>A&&(g=A),m>C&&(m=C),A>v&&(v=A),C>y&&(y=C),h.push(A),d.push(C)}var x=v-g,E=y-m;x>E?y=m+x:v=g+E;var _=di();if(_.add=function(t){o(_,t,+w(t,++f),+b(t,f),g,m,v,y)},_.visit=function(t){fi(t,_,g,m,v,y)},_.find=function(t){return pi(_,t[0],t[1],g,m,v,y)},f=-1,null==e){for(;++f<p;)o(_,t[f],h[f],d[f],g,m,v,y);--f}else t.forEach(_.add);return h=d=t=c=null,_}var s,a=Dn,l=Mn;return(s=arguments.length)?(a=ci,l=hi,3===s&&(r=n,i=e,n=e=0),o(t)):(o.x=function(t){return arguments.length?(a=t,o):a},o.y=function(t){return arguments.length?(l=t,o):l},o.extent=function(t){return arguments.length?(null==t?e=n=i=r=null:(e=+t[0][0],n=+t[0][1],i=+t[1][0],r=+t[1][1]),o):null==e?null:[[e,n],[i,r]]},o.size=function(t){return arguments.length?(null==t?e=n=i=r=null:(e=n=0,i=+t[0],r=+t[1]),o):null==e?null:[i-e,r-n]},o)},ls.interpolateRgb=gi,ls.interpolateObject=mi,ls.interpolateNumber=vi,ls.interpolateString=yi;var dl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fl=new RegExp(dl.source,"g");ls.interpolate=wi,ls.interpolators=[function(t,e){var n=typeof e;return("string"===n?oa.has(e.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(e)?gi:yi:e instanceof st?gi:Array.isArray(e)?bi:"object"===n&&isNaN(e)?mi:vi)(t,e)}],ls.interpolateArray=bi;var pl=function(){return y},gl=ls.map({linear:pl,poly:ki,quad:function(){return Ei},cubic:function(){return _i},sin:function(){return Si},exp:function(){return Di},circle:function(){return Mi},elastic:Ti,back:$i,bounce:function(){return Li}}),ml=ls.map({"in":y,out:Ci,"in-out":xi,"out-in":function(t){return xi(Ci(t))}});ls.ease=function(t){var e=t.indexOf("-"),n=e>=0?t.slice(0,e):t,i=e>=0?t.slice(e+1):"in";return n=gl.get(n)||pl,i=ml.get(i)||y,Ai(i(n.apply(null,us.call(arguments,1))))},ls.interpolateHcl=Bi,ls.interpolateHsl=Ri,ls.interpolateLab=Ni,ls.interpolateRound=Oi,ls.transform=function(t){var e=hs.createElementNS(ls.ns.prefix.svg,"g");return(ls.transform=function(t){if(null!=t){e.setAttribute("transform",t);var n=e.transform.baseVal.consolidate()}return new Ii(n?n.matrix:vl)})(t)},Ii.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var vl={a:1,b:0,c:0,d:1,e:0,f:0};ls.interpolateTransform=Gi,ls.layout={},ls.layout.bundle=function(){return function(t){for(var e=[],n=-1,i=t.length;++n<i;)e.push(Xi(t[n]));return e}},ls.layout.chord=function(){function t(){var t,u,h,d,f,p={},g=[],m=ls.range(o),v=[];for(n=[],i=[],t=0,d=-1;++d<o;){for(u=0,f=-1;++f<o;)u+=r[d][f];g.push(u),v.push(ls.range(o)),t+=u}for(s&&m.sort(function(t,e){return s(g[t],g[e])}),a&&v.forEach(function(t,e){t.sort(function(t,n){return a(r[e][t],r[e][n])})}),t=(zs-c*o)/t,u=0,d=-1;++d<o;){for(h=u,f=-1;++f<o;){var y=m[d],w=v[y][f],b=r[y][w],A=u,C=u+=b*t;p[y+"-"+w]={index:y,subindex:w,startAngle:A,endAngle:C,value:b}}i[y]={index:y,startAngle:h,endAngle:u,value:g[y]},u+=c}for(d=-1;++d<o;)for(f=d-1;++f<o;){var x=p[d+"-"+f],E=p[f+"-"+d];(x.value||E.value)&&n.push(x.value<E.value?{source:E,target:x}:{source:x,target:E})}l&&e()}function e(){n.sort(function(t,e){return l((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}var n,i,r,o,s,a,l,u={},c=0;return u.matrix=function(t){return arguments.length?(o=(r=t)&&r.length,n=i=null,u):r},u.padding=function(t){return arguments.length?(c=t,n=i=null,u):c},u.sortGroups=function(t){return arguments.length?(s=t,n=i=null,u):s},u.sortSubgroups=function(t){return arguments.length?(a=t,n=null,u):a},u.sortChords=function(t){return arguments.length?(l=t,n&&e(),u):l},u.chords=function(){return n||t(),n},u.groups=function(){return i||t(),i},u},ls.layout.force=function(){function t(t){return function(e,n,i,r){if(e.point!==t){var o=e.cx-t.x,s=e.cy-t.y,a=r-n,l=o*o+s*s;if(l>a*a/v){if(g>l){var u=e.charge/l;t.px-=o*u,t.py-=s*u}return!0}if(e.point&&l&&g>l){var u=e.pointCharge/l;t.px-=o*u,t.py-=s*u}}return!e.charge}}function e(t){t.px=ls.event.x,t.py=ls.event.y,l.resume()}var n,i,r,o,s,a,l={},u=ls.dispatch("start","tick","end"),c=[1,1],h=.9,d=yl,f=wl,p=-30,g=bl,m=.1,v=.64,w=[],b=[];return l.tick=function(){if((r*=.99)<.005)return n=null,u.end({type:"end",alpha:r=0}),!0;var e,i,l,d,f,g,v,y,A,C=w.length,x=b.length;for(i=0;x>i;++i)l=b[i],d=l.source,f=l.target,y=f.x-d.x,A=f.y-d.y,(g=y*y+A*A)&&(g=r*s[i]*((g=Math.sqrt(g))-o[i])/g,y*=g,A*=g,f.x-=y*(v=d.weight+f.weight?d.weight/(d.weight+f.weight):.5),f.y-=A*v,d.x+=y*(v=1-v),d.y+=A*v);if((v=r*m)&&(y=c[0]/2,A=c[1]/2,i=-1,v))for(;++i<C;)l=w[i],l.x+=(y-l.x)*v,l.y+=(A-l.y)*v;if(p)for(ir(e=ls.geom.quadtree(w),r,a),i=-1;++i<C;)(l=w[i]).fixed||e.visit(t(l));for(i=-1;++i<C;)l=w[i],l.fixed?(l.x=l.px,l.y=l.py):(l.x-=(l.px-(l.px=l.x))*h,l.y-=(l.py-(l.py=l.y))*h);u.tick({type:"tick",alpha:r})},l.nodes=function(t){return arguments.length?(w=t,l):w},l.links=function(t){return arguments.length?(b=t,l):b},l.size=function(t){return arguments.length?(c=t,l):c},l.linkDistance=function(t){return arguments.length?(d="function"==typeof t?t:+t,l):d},l.distance=l.linkDistance,l.linkStrength=function(t){return arguments.length?(f="function"==typeof t?t:+t,l):f},l.friction=function(t){return arguments.length?(h=+t,l):h},l.charge=function(t){return arguments.length?(p="function"==typeof t?t:+t,l):p},l.chargeDistance=function(t){return arguments.length?(g=t*t,l):Math.sqrt(g)},l.gravity=function(t){return arguments.length?(m=+t,l):m},l.theta=function(t){return arguments.length?(v=t*t,l):Math.sqrt(v)},l.alpha=function(t){return arguments.length?(t=+t,r?t>0?r=t:(n.c=null,n.t=NaN,n=null,u.end({type:"end",alpha:r=0})):t>0&&(u.start({type:"start",alpha:r=t}),n=Tt(l.tick)),l):r},l.start=function(){function t(t,i){if(!n){for(n=new Array(r),l=0;r>l;++l)n[l]=[];for(l=0;u>l;++l){var o=b[l];n[o.source.index].push(o.target),n[o.target.index].push(o.source)}}for(var s,a=n[e],l=-1,c=a.length;++l<c;)if(!isNaN(s=a[l][t]))return s;return Math.random()*i}var e,n,i,r=w.length,u=b.length,h=c[0],g=c[1];for(e=0;r>e;++e)(i=w[e]).index=e,i.weight=0;for(e=0;u>e;++e)i=b[e],"number"==typeof i.source&&(i.source=w[i.source]),"number"==typeof i.target&&(i.target=w[i.target]),++i.source.weight,++i.target.weight;for(e=0;r>e;++e)i=w[e],isNaN(i.x)&&(i.x=t("x",h)),isNaN(i.y)&&(i.y=t("y",g)),isNaN(i.px)&&(i.px=i.x),isNaN(i.py)&&(i.py=i.y);if(o=[],"function"==typeof d)for(e=0;u>e;++e)o[e]=+d.call(this,b[e],e);else for(e=0;u>e;++e)o[e]=d;if(s=[],"function"==typeof f)for(e=0;u>e;++e)s[e]=+f.call(this,b[e],e);else for(e=0;u>e;++e)s[e]=f;if(a=[],"function"==typeof p)for(e=0;r>e;++e)a[e]=+p.call(this,w[e],e);else for(e=0;r>e;++e)a[e]=p;return l.resume()},l.resume=function(){return l.alpha(.1)},l.stop=function(){return l.alpha(0)},l.drag=function(){return i||(i=ls.behavior.drag().origin(y).on("dragstart.force",Zi).on("drag.force",e).on("dragend.force",tr)),arguments.length?void this.on("mouseover.force",er).on("mouseout.force",nr).call(i):i},ls.rebind(l,u,"on")};var yl=20,wl=1,bl=1/0;ls.layout.hierarchy=function(){function t(r){var o,s=[r],a=[];for(r.depth=0;null!=(o=s.pop());)if(a.push(o),(u=n.call(t,o,o.depth))&&(l=u.length)){for(var l,u,c;--l>=0;)s.push(c=u[l]),c.parent=o,c.depth=o.depth+1;i&&(o.value=0),o.children=u}else i&&(o.value=+i.call(t,o,o.depth)||0),delete o.children;return sr(r,function(t){var n,r;e&&(n=t.children)&&n.sort(e),i&&(r=t.parent)&&(r.value+=t.value)}),a}var e=ur,n=ar,i=lr;return t.sort=function(n){return arguments.length?(e=n,t):e},t.children=function(e){return arguments.length?(n=e,t):n},t.value=function(e){return arguments.length?(i=e,t):i},t.revalue=function(e){return i&&(or(e,function(t){t.children&&(t.value=0)}),sr(e,function(e){var n;e.children||(e.value=+i.call(t,e,e.depth)||0),(n=e.parent)&&(n.value+=e.value)})),e},t},ls.layout.partition=function(){function t(e,n,i,r){var o=e.children;if(e.x=n,e.y=e.depth*r,e.dx=i,e.dy=r,o&&(s=o.length)){var s,a,l,u=-1;for(i=e.value?i/e.value:0;++u<s;)t(a=o[u],n,l=a.value*i,r),n+=l}}function e(t){var n=t.children,i=0;if(n&&(r=n.length))for(var r,o=-1;++o<r;)i=Math.max(i,e(n[o]));return 1+i}function n(n,o){var s=i.call(this,n,o);return t(s[0],0,r[0],r[1]/e(s[0])),s}var i=ls.layout.hierarchy(),r=[1,1];return n.size=function(t){return arguments.length?(r=t,n):r},rr(n,i)},ls.layout.pie=function(){function t(s){var a,l=s.length,u=s.map(function(n,i){return+e.call(t,n,i)}),c=+("function"==typeof i?i.apply(this,arguments):i),h=("function"==typeof r?r.apply(this,arguments):r)-c,d=Math.min(Math.abs(h)/l,+("function"==typeof o?o.apply(this,arguments):o)),f=d*(0>h?-1:1),p=ls.sum(u),g=p?(h-l*f)/p:0,m=ls.range(l),v=[];return null!=n&&m.sort(n===Al?function(t,e){return u[e]-u[t]}:function(t,e){return n(s[t],s[e])}),m.forEach(function(t){v[t]={data:s[t],value:a=u[t],startAngle:c,endAngle:c+=a*g+f,padAngle:d}}),v}var e=Number,n=Al,i=0,r=zs,o=0;return t.value=function(n){return arguments.length?(e=n,t):e},t.sort=function(e){return arguments.length?(n=e,t):n},t.startAngle=function(e){return arguments.length?(i=e,t):i},t.endAngle=function(e){return arguments.length?(r=e,t):r},t.padAngle=function(e){return arguments.length?(o=e,t):o},t};var Al={};ls.layout.stack=function(){function t(a,l){if(!(d=a.length))return a;var u=a.map(function(n,i){return e.call(t,n,i)}),c=u.map(function(e){return e.map(function(e,n){return[o.call(t,e,n),s.call(t,e,n)]})}),h=n.call(t,c,l);u=ls.permute(u,h),c=ls.permute(c,h);var d,f,p,g,m=i.call(t,c,l),v=u[0].length;for(p=0;v>p;++p)for(r.call(t,u[0][p],g=m[p],c[0][p][1]),f=1;d>f;++f)r.call(t,u[f][p],g+=c[f-1][p][1],c[f][p][1]);return a}var e=y,n=pr,i=gr,r=fr,o=hr,s=dr;return t.values=function(n){return arguments.length?(e=n,t):e},t.order=function(e){return arguments.length?(n="function"==typeof e?e:Cl.get(e)||pr,t):n},t.offset=function(e){return arguments.length?(i="function"==typeof e?e:xl.get(e)||gr,t):i},t.x=function(e){return arguments.length?(o=e,t):o},t.y=function(e){return arguments.length?(s=e,t):s},t.out=function(e){return arguments.length?(r=e,t):r},t};var Cl=ls.map({"inside-out":function(t){var e,n,i=t.length,r=t.map(mr),o=t.map(vr),s=ls.range(i).sort(function(t,e){return r[t]-r[e]}),a=0,l=0,u=[],c=[];for(e=0;i>e;++e)n=s[e],l>a?(a+=o[n],u.push(n)):(l+=o[n],c.push(n));return c.reverse().concat(u)},reverse:function(t){return ls.range(t.length).reverse()},"default":pr}),xl=ls.map({silhouette:function(t){var e,n,i,r=t.length,o=t[0].length,s=[],a=0,l=[];for(n=0;o>n;++n){for(e=0,i=0;r>e;e++)i+=t[e][n][1];i>a&&(a=i),s.push(i)}for(n=0;o>n;++n)l[n]=(a-s[n])/2;return l},wiggle:function(t){var e,n,i,r,o,s,a,l,u,c=t.length,h=t[0],d=h.length,f=[];for(f[0]=l=u=0,n=1;d>n;++n){for(e=0,r=0;c>e;++e)r+=t[e][n][1];for(e=0,o=0,a=h[n][0]-h[n-1][0];c>e;++e){for(i=0,s=(t[e][n][1]-t[e][n-1][1])/(2*a);e>i;++i)s+=(t[i][n][1]-t[i][n-1][1])/a;o+=s*t[e][n][1]}f[n]=l-=r?o/r*a:0,u>l&&(u=l)}for(n=0;d>n;++n)f[n]-=u;return f},expand:function(t){var e,n,i,r=t.length,o=t[0].length,s=1/r,a=[];for(n=0;o>n;++n){for(e=0,i=0;r>e;e++)i+=t[e][n][1];if(i)for(e=0;r>e;e++)t[e][n][1]/=i;else for(e=0;r>e;e++)t[e][n][1]=s}for(n=0;o>n;++n)a[n]=0;return a},zero:gr});ls.layout.histogram=function(){function t(t,o){for(var s,a,l=[],u=t.map(n,this),c=i.call(this,u,o),h=r.call(this,c,u,o),o=-1,d=u.length,f=h.length-1,p=e?1:1/d;++o<f;)s=l[o]=[],s.dx=h[o+1]-(s.x=h[o]),s.y=0;if(f>0)for(o=-1;++o<d;)a=u[o],a>=c[0]&&a<=c[1]&&(s=l[ls.bisect(h,a,1,f)-1],s.y+=p,s.push(t[o]));return l}var e=!0,n=Number,i=Ar,r=wr;return t.value=function(e){return arguments.length?(n=e,t):n},t.range=function(e){return arguments.length?(i=Ft(e),t):i},t.bins=function(e){return arguments.length?(r="number"==typeof e?function(t){return br(t,e)}:Ft(e),t):r},t.frequency=function(n){return arguments.length?(e=!!n,t):e},t},ls.layout.pack=function(){function t(t,o){var s=n.call(this,t,o),a=s[0],l=r[0],u=r[1],c=null==e?Math.sqrt:"function"==typeof e?e:function(){return e};if(a.x=a.y=0,sr(a,function(t){t.r=+c(t.value)}),sr(a,Fr),i){var h=i*(e?1:Math.max(2*a.r/l,2*a.r/u))/2;sr(a,function(t){t.r+=h}),sr(a,Fr),sr(a,function(t){t.r-=h})}return Dr(a,l/2,u/2,e?1:1/Math.max(2*a.r/l,2*a.r/u)),s}var e,n=ls.layout.hierarchy().sort(Cr),i=0,r=[1,1];return t.size=function(e){return arguments.length?(r=e,t):r},t.radius=function(n){return arguments.length?(e=null==n||"function"==typeof n?n:+n,t):e},t.padding=function(e){return arguments.length?(i=+e,t):i},rr(t,n)},ls.layout.tree=function(){function t(t,r){var c=s.call(this,t,r),h=c[0],d=e(h);if(sr(d,n),d.parent.m=-d.z,or(d,i),u)or(h,o);else{var f=h,p=h,g=h;or(h,function(t){t.x<f.x&&(f=t),t.x>p.x&&(p=t),t.depth>g.depth&&(g=t)});var m=a(f,p)/2-f.x,v=l[0]/(p.x+a(p,f)/2+m),y=l[1]/(g.depth||1);or(h,function(t){t.x=(t.x+m)*v,t.y=t.depth*y})}return c}function e(t){for(var e,n={A:null,children:[t]},i=[n];null!=(e=i.pop());)for(var r,o=e.children,s=0,a=o.length;a>s;++s)i.push((o[s]=r={_:o[s],parent:e,children:(r=o[s].children)&&r.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:s}).a=r);return n.children[0]}function n(t){var e=t.children,n=t.parent.children,i=t.i?n[t.i-1]:null;if(e.length){Rr(t);var o=(e[0].z+e[e.length-1].z)/2;i?(t.z=i.z+a(t._,i._),t.m=t.z-o):t.z=o}else i&&(t.z=i.z+a(t._,i._));t.parent.A=r(t,i,t.parent.A||n[0])}function i(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function r(t,e,n){if(e){for(var i,r=t,o=t,s=e,l=r.parent.children[0],u=r.m,c=o.m,h=s.m,d=l.m;s=Lr(s),r=$r(r),s&&r;)l=$r(l),o=Lr(o),o.a=t,i=s.z+h-r.z-u+a(s._,r._),i>0&&(Br(Nr(s,t,n),t,i),u+=i,c+=i),h+=s.m,u+=r.m,d+=l.m,c+=o.m;s&&!Lr(o)&&(o.t=s,o.m+=h-c),r&&!$r(l)&&(l.t=r,l.m+=u-d,n=t)}return n}function o(t){t.x*=l[0],t.y=t.depth*l[1]}var s=ls.layout.hierarchy().sort(null).value(null),a=Tr,l=[1,1],u=null;return t.separation=function(e){return arguments.length?(a=e,t):a},t.size=function(e){return arguments.length?(u=null==(l=e)?o:null,t):u?null:l},t.nodeSize=function(e){return arguments.length?(u=null==(l=e)?null:o,t):u?l:null},rr(t,s)},ls.layout.cluster=function(){function t(t,o){var s,a=e.call(this,t,o),l=a[0],u=0;sr(l,function(t){var e=t.children;e&&e.length?(t.x=Ir(e),t.y=Or(e)):(t.x=s?u+=n(t,s):0,t.y=0,s=t)});var c=Pr(l),h=zr(l),d=c.x-n(c,h)/2,f=h.x+n(h,c)/2;return sr(l,r?function(t){t.x=(t.x-l.x)*i[0],t.y=(l.y-t.y)*i[1]}:function(t){t.x=(t.x-d)/(f-d)*i[0],t.y=(1-(l.y?t.y/l.y:1))*i[1]}),a}var e=ls.layout.hierarchy().sort(null).value(null),n=Tr,i=[1,1],r=!1;return t.separation=function(e){return arguments.length?(n=e,t):n},t.size=function(e){return arguments.length?(r=null==(i=e),t):r?null:i},t.nodeSize=function(e){return arguments.length?(r=null!=(i=e),t):r?i:null},rr(t,e)},ls.layout.treemap=function(){function t(t,e){for(var n,i,r=-1,o=t.length;++r<o;)i=(n=t[r]).value*(0>e?0:e),n.area=isNaN(i)||0>=i?0:i}function e(n){var o=n.children;if(o&&o.length){var s,a,l,u=h(n),c=[],d=o.slice(),p=1/0,g="slice"===f?u.dx:"dice"===f?u.dy:"slice-dice"===f?1&n.depth?u.dy:u.dx:Math.min(u.dx,u.dy);for(t(d,u.dx*u.dy/n.value),c.area=0;(l=d.length)>0;)c.push(s=d[l-1]),c.area+=s.area,"squarify"!==f||(a=i(c,g))<=p?(d.pop(),p=a):(c.area-=c.pop().area,r(c,g,u,!1),g=Math.min(u.dx,u.dy),c.length=c.area=0,p=1/0);c.length&&(r(c,g,u,!0),c.length=c.area=0),o.forEach(e)}}function n(e){var i=e.children;if(i&&i.length){var o,s=h(e),a=i.slice(),l=[];for(t(a,s.dx*s.dy/e.value),l.area=0;o=a.pop();)l.push(o),l.area+=o.area,null!=o.z&&(r(l,o.z?s.dx:s.dy,s,!a.length),l.length=l.area=0);i.forEach(n)}}function i(t,e){for(var n,i=t.area,r=0,o=1/0,s=-1,a=t.length;++s<a;)(n=t[s].area)&&(o>n&&(o=n),n>r&&(r=n));return i*=i,e*=e,i?Math.max(e*r*p/i,i/(e*o*p)):1/0}function r(t,e,n,i){var r,o=-1,s=t.length,a=n.x,u=n.y,c=e?l(t.area/e):0;if(e==n.dx){for((i||c>n.dy)&&(c=n.dy);++o<s;)r=t[o],r.x=a,r.y=u,r.dy=c,a+=r.dx=Math.min(n.x+n.dx-a,c?l(r.area/c):0);r.z=!0,r.dx+=n.x+n.dx-a,n.y+=c,n.dy-=c}else{for((i||c>n.dx)&&(c=n.dx);++o<s;)r=t[o],r.x=a,r.y=u,r.dx=c,u+=r.dy=Math.min(n.y+n.dy-u,c?l(r.area/c):0);r.z=!1,r.dy+=n.y+n.dy-u,n.x+=c,n.dx-=c}}function o(i){var r=s||a(i),o=r[0];return o.x=o.y=0,o.value?(o.dx=u[0],o.dy=u[1]):o.dx=o.dy=0,s&&a.revalue(o),t([o],o.dx*o.dy/o.value),(s?n:e)(o),d&&(s=r),r}var s,a=ls.layout.hierarchy(),l=Math.round,u=[1,1],c=null,h=jr,d=!1,f="squarify",p=.5*(1+Math.sqrt(5));return o.size=function(t){return arguments.length?(u=t,o):u},o.padding=function(t){function e(e){var n=t.call(o,e,e.depth);return null==n?jr(e):Hr(e,"number"==typeof n?[n,n,n,n]:n)}function n(e){return Hr(e,t)}if(!arguments.length)return c;var i;return h=null==(c=t)?jr:"function"==(i=typeof t)?e:"number"===i?(t=[t,t,t,t],n):n,o},o.round=function(t){return arguments.length?(l=t?Math.round:Number,o):l!=Number},o.sticky=function(t){return arguments.length?(d=t,s=null,o):d},o.ratio=function(t){return arguments.length?(p=t,o):p},o.mode=function(t){return arguments.length?(f=t+"",o):f},rr(o,a)},ls.random={normal:function(t,e){var n=arguments.length;return 2>n&&(e=1),1>n&&(t=0),function(){var n,i,r;do n=2*Math.random()-1,i=2*Math.random()-1,r=n*n+i*i;while(!r||r>1);return t+e*n*Math.sqrt(-2*Math.log(r)/r)}},logNormal:function(){var t=ls.random.normal.apply(ls,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=ls.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(t){return function(){for(var e=0,n=0;t>n;n++)e+=Math.random();return e}}},ls.scale={};var El={floor:y,ceil:y};ls.scale.linear=function(){return Yr([0,1],[0,1],wi,!1)};var _l={s:1,g:1,p:1,r:1,e:1};ls.scale.log=function(){return io(ls.scale.linear().domain([0,1]),10,!0,[1,10])};var Fl=ls.format(".0e"),kl={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};ls.scale.pow=function(){return ro(ls.scale.linear(),1,[0,1])},ls.scale.sqrt=function(){return ls.scale.pow().exponent(.5)},ls.scale.ordinal=function(){return so([],{t:"range",a:[[]]})},ls.scale.category10=function(){return ls.scale.ordinal().range(Sl)},ls.scale.category20=function(){return ls.scale.ordinal().range(Dl)},ls.scale.category20b=function(){return ls.scale.ordinal().range(Ml)},ls.scale.category20c=function(){return ls.scale.ordinal().range(Tl)};var Sl=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(wt),Dl=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(wt),Ml=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(wt),Tl=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(wt);ls.scale.quantile=function(){return ao([],[])},ls.scale.quantize=function(){return lo(0,1,[0,1])},ls.scale.threshold=function(){return uo([.5],[0,1])},ls.scale.identity=function(){return co([0,1])},ls.svg={},ls.svg.arc=function(){function t(){var t=Math.max(0,+n.apply(this,arguments)),u=Math.max(0,+i.apply(this,arguments)),c=s.apply(this,arguments)-Hs,h=a.apply(this,arguments)-Hs,d=Math.abs(h-c),f=c>h?0:1;if(t>u&&(p=u,u=t,t=p),d>=js)return e(u,f)+(t?e(t,1-f):"")+"Z";var p,g,m,v,y,w,b,A,C,x,E,_,F=0,k=0,S=[];if((v=(+l.apply(this,arguments)||0)/2)&&(m=o===$l?Math.sqrt(t*t+u*u):+o.apply(this,arguments),f||(k*=-1),u&&(k=et(m/u*Math.sin(v))),t&&(F=et(m/t*Math.sin(v)))),u){y=u*Math.cos(c+k),w=u*Math.sin(c+k),b=u*Math.cos(h-k),A=u*Math.sin(h-k);var D=Math.abs(h-c-2*k)<=Ps?0:1;if(k&&yo(y,w,b,A)===f^D){var M=(c+h)/2;y=u*Math.cos(M),w=u*Math.sin(M),b=A=null}}else y=w=0;if(t){C=t*Math.cos(h-F),x=t*Math.sin(h-F),E=t*Math.cos(c+F),_=t*Math.sin(c+F);var T=Math.abs(c-h+2*F)<=Ps?0:1;if(F&&yo(C,x,E,_)===1-f^T){var $=(c+h)/2;C=t*Math.cos($),x=t*Math.sin($),E=_=null}}else C=x=0;if(d>Os&&(p=Math.min(Math.abs(u-t)/2,+r.apply(this,arguments)))>.001){g=u>t^f?0:1;var L=p,B=p;if(Ps>d){var R=null==E?[C,x]:null==b?[y,w]:Bn([y,w],[E,_],[b,A],[C,x]),N=y-R[0],O=w-R[1],I=b-R[0],P=A-R[1],z=1/Math.sin(Math.acos((N*I+O*P)/(Math.sqrt(N*N+O*O)*Math.sqrt(I*I+P*P)))/2),j=Math.sqrt(R[0]*R[0]+R[1]*R[1]);B=Math.min(p,(t-j)/(z-1)),L=Math.min(p,(u-j)/(z+1))}if(null!=b){var H=wo(null==E?[C,x]:[E,_],[y,w],u,L,f),W=wo([b,A],[C,x],u,L,f);p===L?S.push("M",H[0],"A",L,",",L," 0 0,",g," ",H[1],"A",u,",",u," 0 ",1-f^yo(H[1][0],H[1][1],W[1][0],W[1][1]),",",f," ",W[1],"A",L,",",L," 0 0,",g," ",W[0]):S.push("M",H[0],"A",L,",",L," 0 1,",g," ",W[0])}else S.push("M",y,",",w);if(null!=E){var U=wo([y,w],[E,_],t,-B,f),q=wo([C,x],null==b?[y,w]:[b,A],t,-B,f);p===B?S.push("L",q[0],"A",B,",",B," 0 0,",g," ",q[1],"A",t,",",t," 0 ",f^yo(q[1][0],q[1][1],U[1][0],U[1][1]),",",1-f," ",U[1],"A",B,",",B," 0 0,",g," ",U[0]):S.push("L",q[0],"A",B,",",B," 0 0,",g," ",U[0])}else S.push("L",C,",",x)}else S.push("M",y,",",w),null!=b&&S.push("A",u,",",u," 0 ",D,",",f," ",b,",",A),S.push("L",C,",",x),null!=E&&S.push("A",t,",",t," 0 ",T,",",1-f," ",E,",",_);return S.push("Z"),S.join("")}function e(t,e){return"M0,"+t+"A"+t+","+t+" 0 1,"+e+" 0,"+-t+"A"+t+","+t+" 0 1,"+e+" 0,"+t}var n=fo,i=po,r=ho,o=$l,s=go,a=mo,l=vo;return t.innerRadius=function(e){return arguments.length?(n=Ft(e),t):n},t.outerRadius=function(e){return arguments.length?(i=Ft(e),t):i},t.cornerRadius=function(e){return arguments.length?(r=Ft(e),t):r},t.padRadius=function(e){return arguments.length?(o=e==$l?$l:Ft(e),t):o},t.startAngle=function(e){return arguments.length?(s=Ft(e),t):s},t.endAngle=function(e){return arguments.length?(a=Ft(e),t):a},t.padAngle=function(e){return arguments.length?(l=Ft(e),t):l},t.centroid=function(){var t=(+n.apply(this,arguments)+ +i.apply(this,arguments))/2,e=(+s.apply(this,arguments)+ +a.apply(this,arguments))/2-Hs;return[Math.cos(e)*t,Math.sin(e)*t]},t};var $l="auto";ls.svg.line=function(){return bo(y)};var Ll=ls.map({linear:Ao,"linear-closed":Co,step:xo,"step-before":Eo,"step-after":_o,basis:To,"basis-open":$o,"basis-closed":Lo,bundle:Bo,cardinal:So,"cardinal-open":Fo,"cardinal-closed":ko,monotone:zo});Ll.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var Bl=[0,2/3,1/3,0],Rl=[0,1/3,2/3,0],Nl=[0,1/6,2/3,1/6];ls.svg.line.radial=function(){var t=bo(jo);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},Eo.reverse=_o,_o.reverse=Eo,ls.svg.area=function(){return Ho(y)},ls.svg.area.radial=function(){var t=Ho(jo);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},ls.svg.chord=function(){function t(t,a){var l=e(this,o,t,a),u=e(this,s,t,a);return"M"+l.p0+i(l.r,l.p1,l.a1-l.a0)+(n(l,u)?r(l.r,l.p1,l.r,l.p0):r(l.r,l.p1,u.r,u.p0)+i(u.r,u.p1,u.a1-u.a0)+r(u.r,u.p1,l.r,l.p0))+"Z"}function e(t,e,n,i){var r=e.call(t,n,i),o=a.call(t,r,i),s=l.call(t,r,i)-Hs,c=u.call(t,r,i)-Hs;return{r:o,a0:s,a1:c,p0:[o*Math.cos(s),o*Math.sin(s)],p1:[o*Math.cos(c),o*Math.sin(c)]}}function n(t,e){return t.a0==e.a0&&t.a1==e.a1}function i(t,e,n){return"A"+t+","+t+" 0 "+ +(n>Ps)+",1 "+e}function r(t,e,n,i){return"Q 0,0 "+i}var o=wn,s=bn,a=Wo,l=go,u=mo;return t.radius=function(e){return arguments.length?(a=Ft(e),t):a},t.source=function(e){return arguments.length?(o=Ft(e),t):o},t.target=function(e){return arguments.length?(s=Ft(e),t):s},t.startAngle=function(e){return arguments.length?(l=Ft(e),t):l},t.endAngle=function(e){return arguments.length?(u=Ft(e),t):u},t},ls.svg.diagonal=function(){function t(t,r){var o=e.call(this,t,r),s=n.call(this,t,r),a=(o.y+s.y)/2,l=[o,{x:o.x,y:a},{x:s.x,y:a},s];return l=l.map(i),"M"+l[0]+"C"+l[1]+" "+l[2]+" "+l[3]}var e=wn,n=bn,i=Uo;return t.source=function(n){return arguments.length?(e=Ft(n),t):e},t.target=function(e){return arguments.length?(n=Ft(e),t):n},t.projection=function(e){return arguments.length?(i=e,t):i},t},ls.svg.diagonal.radial=function(){var t=ls.svg.diagonal(),e=Uo,n=t.projection;return t.projection=function(t){return arguments.length?n(qo(e=t)):e},t},ls.svg.symbol=function(){function t(t,i){return(Ol.get(e.call(this,t,i))||Ko)(n.call(this,t,i))}var e=Go,n=Vo;return t.type=function(n){return arguments.length?(e=Ft(n),t):e},t.size=function(e){return arguments.length?(n=Ft(e),t):n},t};var Ol=ls.map({circle:Ko,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*Pl)),n=e*Pl;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/Il),n=e*Il/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/Il),n=e*Il/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});ls.svg.symbolTypes=Ol.keys();var Il=Math.sqrt(3),Pl=Math.tan(30*Ws);Ds.transition=function(t){for(var e,n,i=zl||++Ul,r=Zo(t),o=[],s=jl||{time:Date.now(),ease:Fi,delay:0,duration:250},a=-1,l=this.length;++a<l;){o.push(e=[]);for(var u=this[a],c=-1,h=u.length;++c<h;)(n=u[c])&&ts(n,c,r,i,s),e.push(n)}return Xo(o,r,i)},Ds.interrupt=function(t){return this.each(null==t?Hl:Yo(Zo(t)))};var zl,jl,Hl=Yo(Zo()),Wl=[],Ul=0;Wl.call=Ds.call,Wl.empty=Ds.empty,Wl.node=Ds.node,Wl.size=Ds.size,ls.transition=function(t,e){return t&&t.transition?zl?t.transition(e):t:ls.selection().transition(t)},ls.transition.prototype=Wl,Wl.select=function(t){var e,n,i,r=this.id,o=this.namespace,s=[];t=S(t);for(var a=-1,l=this.length;++a<l;){s.push(e=[]);for(var u=this[a],c=-1,h=u.length;++c<h;)(i=u[c])&&(n=t.call(i,i.__data__,c,a))?("__data__"in i&&(n.__data__=i.__data__),ts(n,c,o,r,i[o][r]),e.push(n)):e.push(null)}return Xo(s,o,r)},Wl.selectAll=function(t){var e,n,i,r,o,s=this.id,a=this.namespace,l=[];t=D(t);for(var u=-1,c=this.length;++u<c;)for(var h=this[u],d=-1,f=h.length;++d<f;)if(i=h[d]){o=i[a][s],n=t.call(i,i.__data__,d,u),l.push(e=[]);for(var p=-1,g=n.length;++p<g;)(r=n[p])&&ts(r,p,a,s,o),e.push(r)}return Xo(l,a,s)},Wl.filter=function(t){var e,n,i,r=[];"function"!=typeof t&&(t=j(t));for(var o=0,s=this.length;s>o;o++){r.push(e=[]);for(var n=this[o],a=0,l=n.length;l>a;a++)(i=n[a])&&t.call(i,i.__data__,a,o)&&e.push(i)}return Xo(r,this.namespace,this.id);
},Wl.tween=function(t,e){var n=this.id,i=this.namespace;return arguments.length<2?this.node()[i][n].tween.get(t):W(this,null==e?function(e){e[i][n].tween.remove(t)}:function(r){r[i][n].tween.set(t,e)})},Wl.attr=function(t,e){function n(){this.removeAttribute(a)}function i(){this.removeAttributeNS(a.space,a.local)}function r(t){return null==t?n:(t+="",function(){var e,n=this.getAttribute(a);return n!==t&&(e=s(n,t),function(t){this.setAttribute(a,e(t))})})}function o(t){return null==t?i:(t+="",function(){var e,n=this.getAttributeNS(a.space,a.local);return n!==t&&(e=s(n,t),function(t){this.setAttributeNS(a.space,a.local,e(t))})})}if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var s="transform"==t?Gi:wi,a=ls.ns.qualify(t);return Qo(this,"attr."+t,e,a.local?o:r)},Wl.attrTween=function(t,e){function n(t,n){var i=e.call(this,t,n,this.getAttribute(r));return i&&function(t){this.setAttribute(r,i(t))}}function i(t,n){var i=e.call(this,t,n,this.getAttributeNS(r.space,r.local));return i&&function(t){this.setAttributeNS(r.space,r.local,i(t))}}var r=ls.ns.qualify(t);return this.tween("attr."+t,r.local?i:n)},Wl.style=function(t,n,i){function r(){this.style.removeProperty(t)}function o(n){return null==n?r:(n+="",function(){var r,o=e(this).getComputedStyle(this,null).getPropertyValue(t);return o!==n&&(r=wi(o,n),function(e){this.style.setProperty(t,r(e),i)})})}var s=arguments.length;if(3>s){if("string"!=typeof t){2>s&&(n="");for(i in t)this.style(i,t[i],n);return this}i=""}return Qo(this,"style."+t,n,o)},Wl.styleTween=function(t,n,i){function r(r,o){var s=n.call(this,r,o,e(this).getComputedStyle(this,null).getPropertyValue(t));return s&&function(e){this.style.setProperty(t,s(e),i)}}return arguments.length<3&&(i=""),this.tween("style."+t,r)},Wl.text=function(t){return Qo(this,"text",t,Jo)},Wl.remove=function(){var t=this.namespace;return this.each("end.transition",function(){var e;this[t].count<2&&(e=this.parentNode)&&e.removeChild(this)})},Wl.ease=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].ease:("function"!=typeof t&&(t=ls.ease.apply(ls,arguments)),W(this,function(i){i[n][e].ease=t}))},Wl.delay=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].delay:W(this,"function"==typeof t?function(i,r,o){i[n][e].delay=+t.call(i,i.__data__,r,o)}:(t=+t,function(i){i[n][e].delay=t}))},Wl.duration=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].duration:W(this,"function"==typeof t?function(i,r,o){i[n][e].duration=Math.max(1,t.call(i,i.__data__,r,o))}:(t=Math.max(1,t),function(i){i[n][e].duration=t}))},Wl.each=function(t,e){var n=this.id,i=this.namespace;if(arguments.length<2){var r=jl,o=zl;try{zl=n,W(this,function(e,r,o){jl=e[i][n],t.call(e,e.__data__,r,o)})}finally{jl=r,zl=o}}else W(this,function(r){var o=r[i][n];(o.event||(o.event=ls.dispatch("start","end","interrupt"))).on(t,e)});return this},Wl.transition=function(){for(var t,e,n,i,r=this.id,o=++Ul,s=this.namespace,a=[],l=0,u=this.length;u>l;l++){a.push(t=[]);for(var e=this[l],c=0,h=e.length;h>c;c++)(n=e[c])&&(i=n[s][r],ts(n,c,s,o,{time:i.time,ease:i.ease,delay:i.delay+i.duration,duration:i.duration})),t.push(n)}return Xo(a,s,o)},ls.svg.axis=function(){function t(t){t.each(function(){var t,u=ls.select(this),c=this.__chart__||n,h=this.__chart__=n.copy(),d=null==l?h.ticks?h.ticks.apply(h,a):h.domain():l,f=null==e?h.tickFormat?h.tickFormat.apply(h,a):y:e,p=u.selectAll(".tick").data(d,h),g=p.enter().insert("g",".domain").attr("class","tick").style("opacity",Os),m=ls.transition(p.exit()).style("opacity",Os).remove(),v=ls.transition(p.order()).style("opacity",1),w=Math.max(r,0)+s,b=Ur(h),A=u.selectAll(".domain").data([0]),C=(A.enter().append("path").attr("class","domain"),ls.transition(A));g.append("line"),g.append("text");var x,E,_,F,k=g.select("line"),S=v.select("line"),D=p.select("text").text(f),M=g.select("text"),T=v.select("text"),$="top"===i||"left"===i?-1:1;if("bottom"===i||"top"===i?(t=es,x="x",_="y",E="x2",F="y2",D.attr("dy",0>$?"0em":".71em").style("text-anchor","middle"),C.attr("d","M"+b[0]+","+$*o+"V0H"+b[1]+"V"+$*o)):(t=ns,x="y",_="x",E="y2",F="x2",D.attr("dy",".32em").style("text-anchor",0>$?"end":"start"),C.attr("d","M"+$*o+","+b[0]+"H0V"+b[1]+"H"+$*o)),k.attr(F,$*r),M.attr(_,$*w),S.attr(E,0).attr(F,$*r),T.attr(x,0).attr(_,$*w),h.rangeBand){var L=h,B=L.rangeBand()/2;c=h=function(t){return L(t)+B}}else c.rangeBand?c=h:m.call(t,h,c);g.call(t,c,h),v.call(t,h,h)})}var e,n=ls.scale.linear(),i=ql,r=6,o=6,s=3,a=[10],l=null;return t.scale=function(e){return arguments.length?(n=e,t):n},t.orient=function(e){return arguments.length?(i=e in Vl?e+"":ql,t):i},t.ticks=function(){return arguments.length?(a=cs(arguments),t):a},t.tickValues=function(e){return arguments.length?(l=e,t):l},t.tickFormat=function(n){return arguments.length?(e=n,t):e},t.tickSize=function(e){var n=arguments.length;return n?(r=+e,o=+arguments[n-1],t):r},t.innerTickSize=function(e){return arguments.length?(r=+e,t):r},t.outerTickSize=function(e){return arguments.length?(o=+e,t):o},t.tickPadding=function(e){return arguments.length?(s=+e,t):s},t.tickSubdivide=function(){return arguments.length&&t},t};var ql="bottom",Vl={top:1,right:1,bottom:1,left:1};ls.svg.brush=function(){function t(e){e.each(function(){var e=ls.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",o).on("touchstart.brush",o),s=e.selectAll(".background").data([0]);s.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),e.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var a=e.selectAll(".resize").data(g,y);a.exit().remove(),a.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return Gl[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),a.style("display",t.empty()?"none":null);var l,h=ls.transition(e),d=ls.transition(s);u&&(l=Ur(u),d.attr("x",l[0]).attr("width",l[1]-l[0]),i(h)),c&&(l=Ur(c),d.attr("y",l[0]).attr("height",l[1]-l[0]),r(h)),n(h)})}function n(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+h[+/e$/.test(t)]+","+d[+/^s/.test(t)]+")"})}function i(t){t.select(".extent").attr("x",h[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",h[1]-h[0])}function r(t){t.select(".extent").attr("y",d[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",d[1]-d[0])}function o(){function o(){32==ls.event.keyCode&&(D||(w=null,T[0]-=h[1],T[1]-=d[1],D=2),E())}function g(){32==ls.event.keyCode&&2==D&&(T[0]+=h[1],T[1]+=d[1],D=0,E())}function m(){var t=ls.mouse(A),e=!1;b&&(t[0]+=b[0],t[1]+=b[1]),D||(ls.event.altKey?(w||(w=[(h[0]+h[1])/2,(d[0]+d[1])/2]),T[0]=h[+(t[0]<w[0])],T[1]=d[+(t[1]<w[1])]):w=null),k&&v(t,u,0)&&(i(_),e=!0),S&&v(t,c,1)&&(r(_),e=!0),e&&(n(_),x({type:"brush",mode:D?"move":"resize"}))}function v(t,e,n){var i,r,o=Ur(e),l=o[0],u=o[1],c=T[n],g=n?d:h,m=g[1]-g[0];return D&&(l-=c,u-=m+c),i=(n?p:f)?Math.max(l,Math.min(u,t[n])):t[n],D?r=(i+=c)+m:(w&&(c=Math.max(l,Math.min(u,2*w[n]-i))),i>c?(r=i,i=c):r=c),g[0]!=i||g[1]!=r?(n?a=null:s=null,g[0]=i,g[1]=r,!0):void 0}function y(){m(),_.style("pointer-events","all").selectAll(".resize").style("display",t.empty()?"none":null),ls.select("body").style("cursor",null),$.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),M(),x({type:"brushend"})}var w,b,A=this,C=ls.select(ls.event.target),x=l.of(A,arguments),_=ls.select(A),F=C.datum(),k=!/^(n|s)$/.test(F)&&u,S=!/^(e|w)$/.test(F)&&c,D=C.classed("extent"),M=Y(A),T=ls.mouse(A),$=ls.select(e(A)).on("keydown.brush",o).on("keyup.brush",g);if(ls.event.changedTouches?$.on("touchmove.brush",m).on("touchend.brush",y):$.on("mousemove.brush",m).on("mouseup.brush",y),_.interrupt().selectAll("*").interrupt(),D)T[0]=h[0]-T[0],T[1]=d[0]-T[1];else if(F){var L=+/w$/.test(F),B=+/^n/.test(F);b=[h[1-L]-T[0],d[1-B]-T[1]],T[0]=h[L],T[1]=d[B]}else ls.event.altKey&&(w=T.slice());_.style("pointer-events","none").selectAll(".resize").style("display",null),ls.select("body").style("cursor",C.style("cursor")),x({type:"brushstart"}),m()}var s,a,l=F(t,"brushstart","brush","brushend"),u=null,c=null,h=[0,0],d=[0,0],f=!0,p=!0,g=Kl[0];return t.event=function(t){t.each(function(){var t=l.of(this,arguments),e={x:h,y:d,i:s,j:a},n=this.__chart__||e;this.__chart__=e,zl?ls.select(this).transition().each("start.brush",function(){s=n.i,a=n.j,h=n.x,d=n.y,t({type:"brushstart"})}).tween("brush:brush",function(){var n=bi(h,e.x),i=bi(d,e.y);return s=a=null,function(r){h=e.x=n(r),d=e.y=i(r),t({type:"brush",mode:"resize"})}}).each("end.brush",function(){s=e.i,a=e.j,t({type:"brush",mode:"resize"}),t({type:"brushend"})}):(t({type:"brushstart"}),t({type:"brush",mode:"resize"}),t({type:"brushend"}))})},t.x=function(e){return arguments.length?(u=e,g=Kl[!u<<1|!c],t):u},t.y=function(e){return arguments.length?(c=e,g=Kl[!u<<1|!c],t):c},t.clamp=function(e){return arguments.length?(u&&c?(f=!!e[0],p=!!e[1]):u?f=!!e:c&&(p=!!e),t):u&&c?[f,p]:u?f:c?p:null},t.extent=function(e){var n,i,r,o,l;return arguments.length?(u&&(n=e[0],i=e[1],c&&(n=n[0],i=i[0]),s=[n,i],u.invert&&(n=u(n),i=u(i)),n>i&&(l=n,n=i,i=l),n==h[0]&&i==h[1]||(h=[n,i])),c&&(r=e[0],o=e[1],u&&(r=r[1],o=o[1]),a=[r,o],c.invert&&(r=c(r),o=c(o)),r>o&&(l=r,r=o,o=l),r==d[0]&&o==d[1]||(d=[r,o])),t):(u&&(s?(n=s[0],i=s[1]):(n=h[0],i=h[1],u.invert&&(n=u.invert(n),i=u.invert(i)),n>i&&(l=n,n=i,i=l))),c&&(a?(r=a[0],o=a[1]):(r=d[0],o=d[1],c.invert&&(r=c.invert(r),o=c.invert(o)),r>o&&(l=r,r=o,o=l))),u&&c?[[n,r],[i,o]]:u?[n,i]:c&&[r,o])},t.clear=function(){return t.empty()||(h=[0,0],d=[0,0],s=a=null),t},t.empty=function(){return!!u&&h[0]==h[1]||!!c&&d[0]==d[1]},ls.rebind(t,l,"on")};var Gl={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Kl=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Yl=pa.format=ba.timeFormat,Xl=Yl.utc,Ql=Xl("%Y-%m-%dT%H:%M:%S.%LZ");Yl.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?is:Ql,is.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},is.toString=Ql.toString,pa.second=zt(function(t){return new ga(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),pa.seconds=pa.second.range,pa.seconds.utc=pa.second.utc.range,pa.minute=zt(function(t){return new ga(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),pa.minutes=pa.minute.range,pa.minutes.utc=pa.minute.utc.range,pa.hour=zt(function(t){var e=t.getTimezoneOffset()/60;return new ga(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),pa.hours=pa.hour.range,pa.hours.utc=pa.hour.utc.range,pa.month=zt(function(t){return t=pa.day(t),t.setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),pa.months=pa.month.range,pa.months.utc=pa.month.utc.range;var Jl=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Zl=[[pa.second,1],[pa.second,5],[pa.second,15],[pa.second,30],[pa.minute,1],[pa.minute,5],[pa.minute,15],[pa.minute,30],[pa.hour,1],[pa.hour,3],[pa.hour,6],[pa.hour,12],[pa.day,1],[pa.day,2],[pa.week,1],[pa.month,1],[pa.month,3],[pa.year,1]],tu=Yl.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",De]]),eu={range:function(t,e,n){return ls.range(Math.ceil(t/n)*n,+e,n).map(os)},floor:y,ceil:y};Zl.year=pa.year,pa.scale=function(){return rs(ls.scale.linear(),Zl,tu)};var nu=Zl.map(function(t){return[t[0].utc,t[1]]}),iu=Xl.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",De]]);nu.year=pa.year.utc,pa.scale.utc=function(){return rs(ls.scale.linear(),nu,iu)},ls.text=kt(function(t){return t.responseText}),ls.json=function(t,e){return St(t,"application/json",ss,e)},ls.html=function(t,e){return St(t,"text/html",as,e)},ls.xml=kt(function(t){return t.responseXML}),"function"==typeof define&&define.amd?(this.d3=ls,define(ls)):"object"==typeof module&&module.exports?module.exports=ls:this.d3=ls}(),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.vg=t()}}(function(){var t;return function e(t,n,i){function r(s,a){if(!n[s]){if(!t[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[s]={exports:{}};t[s][0].call(c.exports,function(e){var n=t[s][1][e];return r(n?n:e)},c,c.exports,e,t,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(t,e,n){e.exports={version:"2.6.3",dataflow:t("vega-dataflow"),parse:t("./src/parse/"),scene:{Bounder:t("./src/scene/Bounder"),Builder:t("./src/scene/Builder"),Encoder:t("./src/scene/Encoder"),GroupBuilder:t("./src/scene/GroupBuilder"),visit:t("./src/scene/visit")},transforms:t("./src/transforms"),Transform:t("./src/transforms/Transform"),BatchTransform:t("./src/transforms/BatchTransform"),Parameter:t("./src/transforms/Parameter"),schema:t("./src/core/schema"),config:t("./src/core/config"),util:t("./src/util"),logging:t("vega-logging"),debug:t("vega-logging").debug}},{"./src/core/config":91,"./src/core/schema":92,"./src/parse/":97,"./src/scene/Bounder":109,"./src/scene/Builder":110,"./src/scene/Encoder":111,"./src/scene/GroupBuilder":112,"./src/scene/visit":117,"./src/transforms":145,"./src/transforms/BatchTransform":119,"./src/transforms/Parameter":135,"./src/transforms/Transform":140,"./src/util":148,"vega-dataflow":41,"vega-logging":48}],2:[function(t,e,n){},{}],3:[function(e,n,i){!function(e,r){"object"==typeof i&&"undefined"!=typeof n?r(i):"function"==typeof t&&t.amd?t(["exports"],r):r(e.d3_dsv={})}(this,function(t){"use strict";function e(t){return new o(t)}function n(t){return new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}")}function i(t,e){var i=n(t);return function(n,r){return e(i(n),r,t)}}function r(t){var e=Object.create(null),n=[];return t.forEach(function(t){for(var i in t)i in e||n.push(e[i]=i)}),n}function o(t){function e(e){return e.map(o).join(t)}function o(t){return s.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var s=new RegExp('["'+t+"\n]"),a=t.charCodeAt(0);this.parse=function(t,e){var r,o,s=this.parseRows(t,function(t,s){return r?r(t,s-1):(o=t,void(r=e?i(t,e):n(t)))});return s.columns=o,s},this.parseRows=function(t,e){function n(){if(c>=u)return s;if(r)return r=!1,o;var e,n=c;if(34===t.charCodeAt(n)){for(var i=n;i++<u;)if(34===t.charCodeAt(i)){if(34!==t.charCodeAt(i+1))break;++i}return c=i+2,e=t.charCodeAt(i+1),13===e?(r=!0,10===t.charCodeAt(i+2)&&++c):10===e&&(r=!0),t.slice(n+1,i).replace(/""/g,'"')}for(;u>c;){var l=1;if(e=t.charCodeAt(c++),10===e)r=!0;else if(13===e)r=!0,10===t.charCodeAt(c)&&(++c,++l);else if(e!==a)continue;return t.slice(n,c-l)}return t.slice(n)}for(var i,r,o={},s={},l=[],u=t.length,c=0,h=0;(i=n())!==s;){for(var d=[];i!==o&&i!==s;)d.push(i),i=n();e&&null==(d=e(d,h++))||l.push(d)}return l},this.format=function(e,n){return null==n&&(n=r(e)),[n.map(o).join(t)].concat(e.map(function(e){return n.map(function(t){return o(e[t])}).join(t)})).join("\n")},this.formatRows=function(t){return t.map(e).join("\n")}}e.prototype=o.prototype;var s=e(","),a=e("	"),l="0.1.14";t.version=l,t.dsv=e,t.csv=s,t.tsv=a})},{}],4:[function(e,n,i){!function(e,r){"object"==typeof i&&"undefined"!=typeof n?r(i):"function"==typeof t&&t.amd?t("d3-format",["exports"],r):r(e.d3_format={})}(this,function(t){"use strict";function e(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]}function n(t){return t=e(Math.abs(t)),t?t[1]:NaN}function i(t,e){return function(n,i){for(var r=n.length,o=[],s=0,a=t[0],l=0;r>0&&a>0&&(l+a+1>i&&(a=Math.max(1,i-l)),o.push(n.substring(r-=a,r+a)),!((l+=a+1)>i));)a=t[s=(s+1)%t.length];return o.reverse().join(e)}}function r(t,n){var i=e(t,n);if(!i)return t+"";var r=i[0],o=i[1],s=o-(p=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,a=r.length;return s===a?r:s>a?r+new Array(s-a+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+e(t,Math.max(0,n+s-1))[0]}function o(t,n){var i=e(t,n);if(!i)return t+"";var r=i[0],o=i[1];return 0>o?"0."+new Array(-o).join("0")+r:r.length>o+1?r.slice(0,o+1)+"."+r.slice(o+1):r+new Array(o-r.length+2).join("0")}function s(t,e){t=t.toPrecision(e);t:for(var n,i=t.length,r=1,o=-1;i>r;++r)switch(t[r]){case".":o=n=r;break;case"0":0===o&&(o=r),n=r;break;case"e":break t;default:o>0&&(o=0)}return o>0?t.slice(0,o)+t.slice(n+1):t}function a(t){return new l(t)}function l(t){if(!(e=m.exec(t)))throw new Error("invalid format: "+t);var e,n=e[1]||" ",i=e[2]||">",r=e[3]||"-",o=e[4]||"",s=!!e[5],a=e[6]&&+e[6],l=!!e[7],u=e[8]&&+e[8].slice(1),c=e[9]||"";"n"===c?(l=!0,c="g"):g[c]||(c=""),(s||"0"===n&&"="===i)&&(s=!0,n="0",i="="),this.fill=n,this.align=i,this.sign=r,this.symbol=o,this.zero=s,this.width=a,this.comma=l,this.precision=u,this.type=c}function u(t){return t}function c(t){function e(t){t=a(t);var e=t.fill,n=t.align,i=t.sign,r=t.symbol,u=t.zero,c=t.width,h=t.comma,d=t.precision,f=t.type,m="$"===r?s[0]:"#"===r&&/[boxX]/.test(f)?"0"+f.toLowerCase():"",y="$"===r?s[1]:/[%p]/.test(f)?"%":"",w=g[f],b=!f||/[defgprs%]/.test(f);return d=null==d?f?6:12:/[gprs]/.test(f)?Math.max(1,Math.min(21,d)):Math.max(0,Math.min(20,d)),function(t){var r=m,s=y;if("c"===f)s=w(t)+s,t="";else{t=+t;var a=(0>t||0>1/t)&&(t*=-1,!0);if(t=w(t,d),a){var g,A=-1,C=t.length;for(a=!1;++A<C;)if(g=t.charCodeAt(A),g>48&&58>g||"x"===f&&g>96&&103>g||"X"===f&&g>64&&71>g){a=!0;break}}if(r=(a?"("===i?i:"-":"-"===i||"("===i?"":i)+r,s=s+("s"===f?v[8+p/3]:"")+(a&&"("===i?")":""),b)for(var g,A=-1,C=t.length;++A<C;)if(g=t.charCodeAt(A),48>g||g>57){s=(46===g?l+t.slice(A+1):t.slice(A))+s,t=t.slice(0,A);break}}h&&!u&&(t=o(t,1/0));var x=r.length+t.length+s.length,E=c>x?new Array(c-x+1).join(e):"";switch(h&&u&&(t=o(E+t,E.length?c-s.length:1/0),E=""),n){case"<":return r+t+s+E;case"=":return r+E+t+s;case"^":return E.slice(0,x=E.length>>1)+r+t+s+E.slice(x)}return E+r+t+s}}function r(t,i){var r=e((t=a(t),t.type="f",t)),o=3*Math.max(-8,Math.min(8,Math.floor(n(i)/3))),s=Math.pow(10,-o),l=v[8+o/3];return function(t){return r(s*t)+l}}var o=t.grouping&&t.thousands?i(t.grouping,t.thousands):u,s=t.currency,l=t.decimal;return{format:e,formatPrefix:r}}function h(t){return Math.max(0,-n(Math.abs(t)))}function d(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(n(e)/3)))-n(Math.abs(t)))}function f(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,n(e)-n(t))+1}var p,g={"":s,"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return o(100*t,e)},r:o,s:r,X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},m=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;l.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var v=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"],y=c({decimal:".",thousands:",",grouping:[3],currency:["$",""]}),w=c({decimal:",",thousands:".",grouping:[3],currency:["",""]}),b=c({decimal:",",thousands:"",grouping:[3],currency:["","K"]}),A=c({decimal:",",thousands:"'",grouping:[3],currency:["","CHF"]}),C=c({decimal:",",thousands:".",grouping:[3],currency:["",""]}),x=c({decimal:".",thousands:",",grouping:[3],currency:["$",""]}),E=c({decimal:".",thousands:",",grouping:[3],currency:["",""]}),_=c({decimal:",",thousands:".",grouping:[3],currency:["",""]}),F=c({decimal:",",thousands:"",grouping:[3],currency:["",""]}),k=c({decimal:",",thousands:"",grouping:[3],currency:["","$"]}),S=c({decimal:",",thousands:".",grouping:[3],currency:["",""]}),D=c({decimal:".",thousands:",",grouping:[3],currency:["",""]}),M=c({decimal:",",thousands:"",grouping:[3],currency:["","Ft"]}),T=c({decimal:",",thousands:".",grouping:[3],currency:["",""]}),$=c({decimal:".",thousands:",",grouping:[3],currency:["",""]}),L=c({decimal:".",thousands:",",grouping:[3],currency:["",""]}),B=c({decimal:",",thousands:".",grouping:[3],currency:["","."]}),R=c({decimal:",",thousands:".",grouping:[3],currency:["",""]}),N=c({decimal:",",thousands:".",grouping:[3],currency:["","z"]}),O=c({decimal:",",thousands:".",grouping:[3],currency:["R$",""]}),I=c({decimal:",",thousands:"",grouping:[3],currency:["","."]}),P=c({decimal:",",thousands:"",grouping:[3],currency:["","SEK"]}),z=c({decimal:".",thousands:",",grouping:[3],currency:["",""]}),j=y.format,H=y.formatPrefix,W="0.4.2";t.version=W,t.format=j,t.formatPrefix=H,t.locale=c,t.localeCaEs=w,t.localeCsCz=b,t.localeDeCh=A,t.localeDeDe=C,t.localeEnCa=x,t.localeEnGb=E,t.localeEnUs=y,t.localeEsEs=_,t.localeFiFi=F,t.localeFrCa=k,t.localeFrFr=S,t.localeHeIl=D,t.localeHuHu=M,t.localeItIt=T,t.localeJaJp=$,t.localeKoKr=L,t.localeMkMk=B,t.localeNlNl=R,t.localePlPl=N,t.localePtBr=O,t.localeRuRu=I,t.localeSvSe=P,t.localeZhCn=z,t.formatSpecifier=a,t.precisionFixed=h,t.precisionPrefix=d,t.precisionRound=f})},{}],5:[function(e,n,i){!function(r,o){"object"==typeof i&&"undefined"!=typeof n?o(i,e("d3-time")):"function"==typeof t&&t.amd?t("d3-time-format",["exports","d3-time"],o):o(r.d3_time_format={},r.d3_time)}(this,function(t,e){"use strict";function n(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function i(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function r(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function o(t){function e(t,e){return function(n){var i,r,o,s=[],a=-1,l=0,u=t.length;for(n instanceof Date||(n=new Date(+n));++a<u;)37===t.charCodeAt(a)&&(s.push(t.slice(l,a)),null!=(r=tt[i=t.charAt(++a)])?i=t.charAt(++a):r="e"===i?" ":"0",(o=e[i])&&(i=o(n,r)),s.push(i),l=a+1);return s.push(t.slice(l,a)),s.join("")}}function o(t,e){return function(n){var o=r(1900),a=s(o,t,n+="",0);if(a!=n.length)return null;if("p"in o&&(o.H=o.H%12+12*o.p),"W"in o||"U"in o){"w"in o||(o.w="W"in o?1:0);var l="Z"in o?i(r(o.y)).getUTCDay():e(r(o.y)).getDay();o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(l+5)%7:o.w+7*o.U-(l+6)%7}return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,i(o)):e(o)}}function s(t,e,n,i){for(var r,o,s=0,a=e.length,l=n.length;a>s;){if(i>=l)return-1;if(r=e.charCodeAt(s++),37===r){if(r=e.charAt(s++),o=Ot[r in tt?e.charAt(s++):r],!o||(i=o(t,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}function a(t,e,n){var i=_t.exec(e.slice(n));return i?(t.p=Ft[i[0].toLowerCase()],n+i[0].length):-1}function Z(t,e,n){var i=Dt.exec(e.slice(n));return i?(t.w=Mt[i[0].toLowerCase()],n+i[0].length):-1}function et(t,e,n){var i=kt.exec(e.slice(n));return i?(t.w=St[i[0].toLowerCase()],n+i[0].length):-1}function nt(t,e,n){var i=Lt.exec(e.slice(n));return i?(t.m=Bt[i[0].toLowerCase()],n+i[0].length):-1}function it(t,e,n){var i=Tt.exec(e.slice(n));return i?(t.m=$t[i[0].toLowerCase()],n+i[0].length):-1}function rt(t,e,n){return s(t,vt,e,n)}function ot(t,e,n){return s(t,yt,e,n)}function st(t,e,n){return s(t,wt,e,n)}function at(t){return Ct[t.getDay()]}function lt(t){return At[t.getDay()]}function ut(t){return Et[t.getMonth()]}function ct(t){return xt[t.getMonth()]}function ht(t){return bt[+(t.getHours()>=12)]}function dt(t){return Ct[t.getUTCDay()]}function ft(t){return At[t.getUTCDay()]}function pt(t){return Et[t.getUTCMonth()]}function gt(t){return xt[t.getUTCMonth()]}function mt(t){return bt[+(t.getUTCHours()>=12)]}var vt=t.dateTime,yt=t.date,wt=t.time,bt=t.periods,At=t.days,Ct=t.shortDays,xt=t.months,Et=t.shortMonths,_t=l(bt),Ft=u(bt),kt=l(At),St=u(At),Dt=l(Ct),Mt=u(Ct),Tt=l(xt),$t=u(xt),Lt=l(Et),Bt=u(Et),Rt={a:at,A:lt,b:ut,B:ct,c:null,d:E,e:E,H:_,I:F,j:k,L:S,m:D,M:M,p:ht,S:T,U:$,w:L,W:B,x:null,X:null,y:R,Y:N,Z:O,"%":J},Nt={a:dt,A:ft,b:pt,B:gt,c:null,d:I,e:I,H:P,I:z,j:j,L:H,m:W,M:U,p:mt,S:q,U:V,w:G,W:K,x:null,X:null,y:Y,Y:X,Z:Q,"%":J},Ot={a:Z,A:et,b:nt,B:it,c:rt,d:v,e:v,H:w,I:w,j:y,L:C,m:m,M:b,p:a,S:A,U:h,w:c,W:d,x:ot,X:st,y:p,Y:f,Z:g,"%":x};return Rt.x=e(yt,Rt),Rt.X=e(wt,Rt),Rt.c=e(vt,Rt),Nt.x=e(yt,Nt),Nt.X=e(wt,Nt),Nt.c=e(vt,Nt),{format:function(t){var i=e(t+="",Rt);return i.parse=o(t,n),i.toString=function(){return t},i},utcFormat:function(t){var n=e(t+="",Nt);return n.parse=o(t,i),n.toString=function(){return t},n}}}function s(t,e,n){var i=0>t?"-":"",r=(i?-t:t)+"",o=r.length;return i+(n>o?new Array(n-o+1).join(e)+r:r)}function a(t){return t.replace(it,"\\$&")}function l(t){return new RegExp("^(?:"+t.map(a).join("|")+")","i")}function u(t){for(var e={},n=-1,i=t.length;++n<i;)e[t[n].toLowerCase()]=n;return e}function c(t,e,n){var i=et.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function h(t,e,n){var i=et.exec(e.slice(n));return i?(t.U=+i[0],n+i[0].length):-1}function d(t,e,n){var i=et.exec(e.slice(n));return i?(t.W=+i[0],n+i[0].length):-1}function f(t,e,n){var i=et.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function p(t,e,n){var i=et.exec(e.slice(n,n+2));return i?(t.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function g(t,e,n){var i=/^(Z)|([+-]\d\d)(?:\:?(\d\d))?/.exec(e.slice(n,n+6));return i?(t.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function m(t,e,n){var i=et.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function v(t,e,n){var i=et.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function y(t,e,n){var i=et.exec(e.slice(n,n+3));return i?(t.m=0,t.d=+i[0],n+i[0].length):-1}function w(t,e,n){var i=et.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function b(t,e,n){var i=et.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function A(t,e,n){var i=et.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function C(t,e,n){var i=et.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function x(t,e,n){var i=nt.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function E(t,e){return s(t.getDate(),e,2)}function _(t,e){return s(t.getHours(),e,2)}function F(t,e){return s(t.getHours()%12||12,e,2)}function k(t,n){return s(1+e.day.count(e.year(t),t),n,3)}function S(t,e){return s(t.getMilliseconds(),e,3)}function D(t,e){return s(t.getMonth()+1,e,2)}function M(t,e){return s(t.getMinutes(),e,2)}function T(t,e){return s(t.getSeconds(),e,2)}function $(t,n){return s(e.sunday.count(e.year(t),t),n,2)}function L(t){return t.getDay()}function B(t,n){return s(e.monday.count(e.year(t),t),n,2)}function R(t,e){return s(t.getFullYear()%100,e,2)}function N(t,e){return s(t.getFullYear()%1e4,e,4)}function O(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+s(e/60|0,"0",2)+s(e%60,"0",2)}function I(t,e){return s(t.getUTCDate(),e,2)}function P(t,e){return s(t.getUTCHours(),e,2)}function z(t,e){return s(t.getUTCHours()%12||12,e,2)}function j(t,n){return s(1+e.utcDay.count(e.utcYear(t),t),n,3)}function H(t,e){return s(t.getUTCMilliseconds(),e,3)}function W(t,e){return s(t.getUTCMonth()+1,e,2)}function U(t,e){return s(t.getUTCMinutes(),e,2)}function q(t,e){return s(t.getUTCSeconds(),e,2)}function V(t,n){return s(e.utcSunday.count(e.utcYear(t),t),n,2)}function G(t){return t.getUTCDay()}function K(t,n){return s(e.utcMonday.count(e.utcYear(t),t),n,2)}function Y(t,e){return s(t.getUTCFullYear()%100,e,2)}function X(t,e){return s(t.getUTCFullYear()%1e4,e,4)}function Q(){return"+0000"}function J(){return"%"}function Z(t){return t.toISOString()}var tt={"-":"",_:" ",0:"0"},et=/^\s*\d+/,nt=/^%/,it=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,rt=o({dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),ot=o({dateTime:"%A, %e de %B de %Y, %X",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["diumenge","dilluns","dimarts","dimecres","dijous","divendres","dissabte"],shortDays:["dg.","dl.","dt.","dc.","dj.","dv.","ds."],months:["gener","febrer","mar","abril","maig","juny","juliol","agost","setembre","octubre","novembre","desembre"],shortMonths:["gen.","febr.","mar","abr.","maig","juny","jul.","ag.","set.","oct.","nov.","des."]}),st=o({dateTime:"%A, der %e. %B %Y, %X",date:"%d.%m.%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],shortDays:["So","Mo","Di","Mi","Do","Fr","Sa"],months:["Januar","Februar","Mrz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],shortMonths:["Jan","Feb","Mrz","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"]}),at=o({dateTime:"%A, der %e. %B %Y, %X",date:"%d.%m.%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],shortDays:["So","Mo","Di","Mi","Do","Fr","Sa"],months:["Januar","Februar","Mrz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],shortMonths:["Jan","Feb","Mrz","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"]}),lt=o({dateTime:"%a %b %e %X %Y",date:"%Y-%m-%d",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),ut=o({dateTime:"%a %e %b %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),ct=o({dateTime:"%A, %e de %B de %Y, %X",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"],shortDays:["dom","lun","mar","mi","jue","vie","sb"],months:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],
shortMonths:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"]}),ht=o({dateTime:"%A, %-d. %Bta %Y klo %X",date:"%-d.%-m.%Y",time:"%H:%M:%S",periods:["a.m.","p.m."],days:["sunnuntai","maanantai","tiistai","keskiviikko","torstai","perjantai","lauantai"],shortDays:["Su","Ma","Ti","Ke","To","Pe","La"],months:["tammikuu","helmikuu","maaliskuu","huhtikuu","toukokuu","keskuu","heinkuu","elokuu","syyskuu","lokakuu","marraskuu","joulukuu"],shortMonths:["Tammi","Helmi","Maalis","Huhti","Touko","Kes","Hein","Elo","Syys","Loka","Marras","Joulu"]}),dt=o({dateTime:"%a %e %b %Y %X",date:"%Y-%m-%d",time:"%H:%M:%S",periods:["",""],days:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],shortDays:["dim","lun","mar","mer","jeu","ven","sam"],months:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre"],shortMonths:["jan","fv","mar","avr","mai","jui","jul","ao","sep","oct","nov","dc"]}),ft=o({dateTime:"%A, le %e %B %Y, %X",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],shortDays:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],months:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre"],shortMonths:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc."]}),pt=o({dateTime:"%A, %e %B %Y %X",date:"%d.%m.%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["","","","","","",""],shortDays:["","","","","","",""],months:["","","","","","","","","","","",""],shortMonths:["","","","","","","","","","","",""]}),gt=o({dateTime:"%Y. %B %-e., %A %X",date:"%Y. %m. %d.",time:"%H:%M:%S",periods:["de.","du."],days:["vasrnap","htf","kedd","szerda","cstrtk","pntek","szombat"],shortDays:["V","H","K","Sze","Cs","P","Szo"],months:["janur","februr","mrcius","prilis","mjus","jnius","jlius","augusztus","szeptember","oktber","november","december"],shortMonths:["jan.","feb.","mr.","pr.","mj.","jn.","jl.","aug.","szept.","okt.","nov.","dec."]}),mt=o({dateTime:"%A %e %B %Y, %X",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Domenica","Luned","Marted","Mercoled","Gioved","Venerd","Sabato"],shortDays:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],months:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],shortMonths:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"]}),vt=o({dateTime:"%Y %b %e %a %X",date:"%Y/%m/%d",time:"%H:%M:%S",periods:["AM","PM"],days:["","","","","","",""],shortDays:["","","","","","",""],months:["","","","","","","","","","","",""],shortMonths:["1","2","3","4","5","6","7","8","9","10","11","12"]}),yt=o({dateTime:"%Y/%m/%d %a %X",date:"%Y/%m/%d",time:"%H:%M:%S",periods:["",""],days:["","","","","","",""],shortDays:["","","","","","",""],months:["1","2","3","4","5","6","7","8","9","10","11","12"],shortMonths:["1","2","3","4","5","6","7","8","9","10","11","12"]}),wt=o({dateTime:"%A, %e %B %Y . %X",date:"%d.%m.%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["","","","","","",""],shortDays:["","","","","","",""],months:["","","","","","","","","","","",""],shortMonths:["","","","","","","","","","","",""]}),bt=o({dateTime:"%a %e %B %Y %T",date:"%d-%m-%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],shortDays:["zo","ma","di","wo","do","vr","za"],months:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],shortMonths:["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec"]}),At=o({dateTime:"%A, %e %B %Y, %X",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Niedziela","Poniedziaek","Wtorek","roda","Czwartek","Pitek","Sobota"],shortDays:["Niedz.","Pon.","Wt.","r.","Czw.","Pt.","Sob."],months:["Stycze","Luty","Marzec","Kwiecie","Maj","Czerwiec","Lipiec","Sierpie","Wrzesie","Padziernik","Listopad","Grudzie"],shortMonths:["Stycz.","Luty","Marz.","Kwie.","Maj","Czerw.","Lipc.","Sierp.","Wrz.","Padz.","Listop.","Grudz."]}),Ct=o({dateTime:"%A, %e de %B de %Y. %X",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Domingo","Segunda","Tera","Quarta","Quinta","Sexta","Sbado"],shortDays:["Dom","Seg","Ter","Qua","Qui","Sex","Sb"],months:["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],shortMonths:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"]}),xt=o({dateTime:"%A, %e %B %Y . %X",date:"%d.%m.%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["","","","","","",""],shortDays:["","","","","","",""],months:["","","","","","","","","","","",""],shortMonths:["","","","","","","","","","","",""]}),Et=o({dateTime:"%A den %d %B %Y %X",date:"%Y-%m-%d",time:"%H:%M:%S",periods:["fm","em"],days:["Sndag","Mndag","Tisdag","Onsdag","Torsdag","Fredag","Lrdag"],shortDays:["Sn","Mn","Tis","Ons","Tor","Fre","Lr"],months:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],shortMonths:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"]}),_t=o({dateTime:"%a %b %e %X %Y",date:"%Y/%-m/%-d",time:"%H:%M:%S",periods:["",""],days:["","","","","","",""],shortDays:["","","","","","",""],months:["","","","","","","","","","","",""],shortMonths:["","","","","","","","","","","",""]}),Ft="%Y-%m-%dT%H:%M:%S.%LZ";Z.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},Z.toString=function(){return Ft};var kt=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Z:rt.utcFormat(Ft),St=rt.format,Dt=rt.utcFormat,Mt="0.2.1";t.version=Mt,t.format=St,t.utcFormat=Dt,t.locale=o,t.localeCaEs=ot,t.localeDeCh=st,t.localeDeDe=at,t.localeEnCa=lt,t.localeEnGb=ut,t.localeEnUs=rt,t.localeEsEs=ct,t.localeFiFi=ht,t.localeFrCa=dt,t.localeFrFr=ft,t.localeHeIl=pt,t.localeHuHu=gt,t.localeItIt=mt,t.localeJaJp=vt,t.localeKoKr=yt,t.localeMkMk=wt,t.localeNlNl=bt,t.localePlPl=At,t.localePtBr=Ct,t.localeRuRu=xt,t.localeSvSe=Et,t.localeZhCn=_t,t.isoFormat=kt})},{"d3-time":6}],6:[function(e,n,i){!function(e,r){"object"==typeof i&&"undefined"!=typeof n?r(i):"function"==typeof t&&t.amd?t("d3-time",["exports"],r):r(e.d3_time={})}(this,function(t){"use strict";function e(t,n,i,s){function a(e){return t(e=new Date(+e)),e}return a.floor=a,a.round=function(e){var i=new Date(+e),r=new Date(e-1);return t(i),t(r),n(r,1),r-e>e-i?i:r},a.ceil=function(e){return t(e=new Date(e-1)),n(e,1),e},a.offset=function(t,e){return n(t=new Date(+t),null==e?1:Math.floor(e)),t},a.range=function(e,i,r){var o=[];if(e=new Date(e-1),i=new Date(+i),r=null==r?1:Math.floor(r),!(i>e&&r>0))return o;for(n(e,1),t(e),i>e&&o.push(new Date(+e));n(e,r),t(e),i>e;)o.push(new Date(+e));return o},a.filter=function(i){return e(function(e){for(;t(e),!i(e);)e.setTime(e-1)},function(t,e){for(;--e>=0;)for(;n(t,1),!i(t););})},i&&(a.count=function(e,n){return r.setTime(+e),o.setTime(+n),t(r),t(o),Math.floor(i(r,o))},a.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?a.filter(s?function(e){return s(e)%t===0}:function(e){return a.count(0,e)%t===0}):a:null}),a}function n(t){return e(function(e){e.setHours(0,0,0,0),e.setDate(e.getDate()-(e.getDay()+7-t)%7)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/6048e5})}function i(t){return e(function(e){e.setUTCHours(0,0,0,0),e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/6048e5})}var r=new Date,o=new Date,s=e(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});s.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?e(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):s:null};var a=e(function(t){t.setMilliseconds(0)},function(t,e){t.setTime(+t+1e3*e)},function(t,e){return(e-t)/1e3},function(t){return t.getSeconds()}),l=e(function(t){t.setSeconds(0,0)},function(t,e){t.setTime(+t+6e4*e)},function(t,e){return(e-t)/6e4},function(t){return t.getMinutes()}),u=e(function(t){t.setMinutes(0,0,0)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getHours()}),c=e(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5},function(t){return t.getDate()-1}),h=n(0),d=n(1),f=n(2),p=n(3),g=n(4),m=n(5),v=n(6),y=e(function(t){t.setHours(0,0,0,0),t.setDate(1)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),w=e(function(t){t.setHours(0,0,0,0),t.setMonth(0,1)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()}),b=e(function(t){t.setUTCMilliseconds(0)},function(t,e){t.setTime(+t+1e3*e)},function(t,e){return(e-t)/1e3},function(t){return t.getUTCSeconds()}),A=e(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+6e4*e)},function(t,e){return(e-t)/6e4},function(t){return t.getUTCMinutes()}),C=e(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getUTCHours()}),x=e(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/864e5},function(t){return t.getUTCDate()-1}),E=i(0),_=i(1),F=i(2),k=i(3),S=i(4),D=i(5),M=i(6),T=e(function(t){t.setUTCHours(0,0,0,0),t.setUTCDate(1)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),$=e(function(t){t.setUTCHours(0,0,0,0),t.setUTCMonth(0,1)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()}),L=s.range,B=a.range,R=l.range,N=u.range,O=c.range,I=h.range,P=d.range,z=f.range,j=p.range,H=g.range,W=m.range,U=v.range,q=h.range,V=y.range,G=w.range,K=s,Y=L,X=b.range,Q=A.range,J=C.range,Z=x.range,tt=E.range,et=_.range,nt=F.range,it=k.range,rt=S.range,ot=D.range,st=M.range,at=E.range,lt=T.range,ut=$.range,ct="0.1.1";t.version=ct,t.milliseconds=L,t.seconds=B,t.minutes=R,t.hours=N,t.days=O,t.sundays=I,t.mondays=P,t.tuesdays=z,t.wednesdays=j,t.thursdays=H,t.fridays=W,t.saturdays=U,t.weeks=q,t.months=V,t.years=G,t.utcMillisecond=K,t.utcMilliseconds=Y,t.utcSeconds=X,t.utcMinutes=Q,t.utcHours=J,t.utcDays=Z,t.utcSundays=tt,t.utcMondays=et,t.utcTuesdays=nt,t.utcWednesdays=it,t.utcThursdays=rt,t.utcFridays=ot,t.utcSaturdays=st,t.utcWeeks=at,t.utcMonths=lt,t.utcYears=ut,t.millisecond=s,t.second=a,t.minute=l,t.hour=u,t.day=c,t.sunday=h,t.monday=d,t.tuesday=f,t.wednesday=p,t.thursday=g,t.friday=m,t.saturday=v,t.week=h,t.month=y,t.year=w,t.utcSecond=b,t.utcMinute=A,t.utcHour=C,t.utcDay=x,t.utcSunday=E,t.utcMonday=_,t.utcTuesday=F,t.utcWednesday=k,t.utcThursday=S,t.utcFriday=D,t.utcSaturday=M,t.utcWeek=E,t.utcMonth=T,t.utcYear=$,t.interval=e})},{}],7:[function(t,e,n){var i=t("./util"),r=t("./time"),o=r.utc,s=e.exports;s.$year=i.$func("year",r.year.unit),s.$month=i.$func("month",r.months.unit),s.$date=i.$func("date",r.dates.unit),s.$day=i.$func("day",r.weekdays.unit),s.$hour=i.$func("hour",r.hours.unit),s.$minute=i.$func("minute",r.minutes.unit),s.$second=i.$func("second",r.seconds.unit),s.$utcYear=i.$func("utcYear",o.year.unit),s.$utcMonth=i.$func("utcMonth",o.months.unit),s.$utcDate=i.$func("utcDate",o.dates.unit),s.$utcDay=i.$func("utcDay",o.weekdays.unit),s.$utcHour=i.$func("utcHour",o.hours.unit),s.$utcMinute=i.$func("utcMinute",o.minutes.unit),s.$utcSecond=i.$func("utcSecond",o.seconds.unit)},{"./time":29,"./util":30}],8:[function(t,e,n){function i(){this._cells={},this._aggr=[],this._stream=!1}function r(t){if(o.isArray(t))return t;if(null==t)return[];var e,n,i=[];for(e in t)n=o.array(t[e]),i.push({name:e,ops:n});return i}var o=t("../util"),s=t("./measures"),a=t("./collector"),l=i.Flags={ADD_CELL:1,MOD_CELL:2},u=i.prototype;u.stream=function(t){return null==t?this._stream:(this._stream=!!t,this._aggr=[],this)},u.key=function(t){return null==t?this._key:(this._key=o.$(t),this)},u.groupby=function(t){return this._dims=o.array(t).map(function(t,e){if(t=o.isString(t)?{name:t,get:o.$(t)}:o.isFunction(t)?{name:o.name(t)||t.name||"_"+e,get:t}:t.name&&o.isFunction(t.get)?t:null,null==t)throw"Invalid groupby argument: "+t;return t}),this.clear()},u.summarize=function(t){t=r(t),this._count=!0;var e,n,i,a,l,u,c,h=this._aggr=[];for(i=0;i<t.length;++i){for(a=0,e=[],n=t[i];a<n.ops.length;++a)l=n.ops[a],"count"!==l&&(this._count=!1),u=n.as&&n.as[a]||l+("*"===n.name?"":"_"+n.name),e.push(s[l](u));c=n.get&&o.$(n.get)||("*"===n.name?o.identity:o.$(n.name)),h.push({name:n.name,measures:s.create(e,this._stream,c,this._assign)})}return this.clear()},u.count=function(){return this.summarize({"*":"count"})},u._assign=function(t,e,n){t[e]=n},u.clear=function(){return this._cells={},this},u._cellkey=function(t){var e,n=this._dims,i=n.length,r=String(n[0].get(t));for(e=1;i>e;++e)r+="|"+n[e].get(t);return r},u._cell=function(t){var e=this._dims.length?this._cellkey(t):"";return this._cells[e]||(this._cells[e]=this._newcell(t,e))},u._newcell=function(t,e){var n,i={num:0,tuple:this._newtuple(t,e),flag:l.ADD_CELL,aggs:{}},r=this._aggr;for(n=0;n<r.length;++n)i.aggs[r[n].name]=new r[n].measures(i,i.tuple);return i.collect&&(i.data=new a(this._key)),i},u._newtuple=function(t){var e,n,i=this._dims,r={};for(e=0,n=i.length;n>e;++e)r[i[e].name]=i[e].get(t);return this._ingest(r)},u._ingest=o.identity,u._add=function(t){var e,n=this._cell(t),i=this._aggr;if(n.num+=1,!this._count)for(n.collect&&n.data.add(t),e=0;e<i.length;++e)n.aggs[i[e].name].add(t);n.flag|=l.MOD_CELL,this._on_add&&this._on_add(t,n)},u._rem=function(t){var e,n=this._cell(t),i=this._aggr;if(n.num-=1,!this._count)for(n.collect&&n.data.rem(t),e=0;e<i.length;++e)n.aggs[i[e].name].rem(t);n.flag|=l.MOD_CELL,this._on_rem&&this._on_rem(t,n)},u._mod=function(t,e){var n,i=this._cell(e),r=this._cell(t),s=this._aggr;for(i!==r?(i.num-=1,r.num+=1,i.collect&&i.data.rem(e),r.collect&&r.data.add(t)):i.collect&&!o.isObject(t)&&(i.data.rem(e),i.data.add(t)),n=0;n<s.length;++n)i.aggs[s[n].name].rem(e),r.aggs[s[n].name].add(t);i.flag|=l.MOD_CELL,r.flag|=l.MOD_CELL,this._on_mod&&this._on_mod(t,e,i,r)},u._markMod=function(t){var e=this._cell(t);e.flag|=l.MOD_CELL},u.result=function(){var t,e,n,i=[],r=this._aggr;for(n in this._cells){if(t=this._cells[n],t.num>0){for(t.collect&&t.data.values(),e=0;e<r.length;++e)t.aggs[r[e].name].set();i.push(t.tuple)}else delete this._cells[n];t.flag=0}return this._rems=!1,i},u.changes=function(t){var e,n,i,r,o=t||{add:[],rem:[],mod:[]},s=this._aggr;for(r in this._cells){for(e=this._cells[r],n=e.flag,e.collect&&e.data.values(),i=0;i<s.length;++i)e.aggs[s[i].name].set();e.num<=0?(o.rem.push(e.tuple),delete this._cells[r],this._on_drop&&this._on_drop(e)):(this._on_keep&&this._on_keep(e),n&l.ADD_CELL?o.add.push(e.tuple):n&l.MOD_CELL&&o.mod.push(e.tuple)),e.flag=0}return this._rems=!1,o},u.execute=function(t){return this.clear().insert(t).result()},u.insert=function(t){this._consolidate();for(var e=0;e<t.length;++e)this._add(t[e]);return this},u.remove=function(t){if(!this._stream)throw"Aggregator not configured for streaming removes. Call stream(true) prior to calling summarize.";for(var e=0;e<t.length;++e)this._rem(t[e]);return this._rems=!0,this},u._consolidate=function(){if(this._rems){for(var t in this._cells)this._cells[t].collect&&this._cells[t].data.values();this._rems=!1}},e.exports=i},{"../util":30,"./collector":9,"./measures":11}],9:[function(t,e,n){function i(t){this._add=[],this._rem=[],this._key=t||null,this._last=null}var r=t("../util"),o=t("../stats"),s="__dl_rem__",a=i.prototype;a.add=function(t){this._add.push(t)},a.rem=function(t){this._rem.push(t)},a.values=function(){if(this._get=null,0===this._rem.length)return this._add;var t,e,n,i,a=this._add,l=this._rem,u=this._key,c=Array(a.length-l.length);if(r.isObject(l[0]))if(u)for(i=r.toMap(l,u),t=0,e=0,n=a.length;n>t;++t)i.hasOwnProperty(u(a[t]))||(c[e++]=a[t]);else{for(t=0,n=l.length;n>t;++t)l[t][s]=1;for(t=0,e=0,n=a.length;n>t;++t)a[t][s]||(c[e++]=a[t]);for(t=0,n=l.length;n>t;++t)delete l[t][s]}else for(i=o.count.map(l),t=0,e=0,n=a.length;n>t;++t)i[a[t]]>0?i[a[t]]-=1:c[e++]=a[t];return this._rem=[],this._add=c},a.extent=function(t){if(this._get!==t||!this._ext){var e=this.values(),n=o.extent.index(e,t);this._ext=[e[n[0]],e[n[1]]],this._get=t}return this._ext},a.argmin=function(t){return this.extent(t)[0]},a.argmax=function(t){return this.extent(t)[1]},a.min=function(t){var e=this.extent(t)[0];return null!=e?t(e):+(1/0)},a.max=function(t){var e=this.extent(t)[1];return null!=e?t(e):-(1/0)},a.quartile=function(t){return this._get===t&&this._q||(this._q=o.quartile(this.values(),t),this._get=t),this._q},a.q1=function(t){return this.quartile(t)[0]},a.q2=function(t){return this.quartile(t)[1]},a.q3=function(t){return this.quartile(t)[2]},e.exports=i},{"../stats":27,"../util":30}],10:[function(t,e,n){var i=t("../util"),r=t("./aggregator");e.exports=function(){var t=[].reduce.call(arguments,function(t,e){return t.concat(i.array(e))},[]);return(new r).groupby(t).summarize({"*":"values"})}},{"../util":30,"./aggregator":8}],11:[function(t,e,n){function i(t){return function(e){var n=s.extend({init:"",add:"",rem:"",idx:0},t);return n.out=e||t.name,n}}function r(t,e){function n(t,i){function r(e){t[e]||n(t,t[e]=a[e]())}return i.req&&i.req.forEach(r),e&&i.str&&i.str.forEach(r),t}var i=t.reduce(n,t.reduce(function(t,e){return t[e.name]=e,t},{}));return s.vals(i).sort(function(t,e){return t.idx-e.idx})}function o(e,n,i,o){var a=r(e,n),l="this.cell = cell; this.tuple = t; this.valid = 0; this.missing = 0;",u="if (v==null) this.missing++; if (!this.isValid(v)) return; ++this.valid;",c="if (v==null) this.missing--; if (!this.isValid(v)) return; --this.valid;",h="var t = this.tuple; var cell = this.cell;";return a.forEach(function(t){t.idx<0?(l=t.init+l,u=t.add+u,c=t.rem+c):(l+=t.init,u+=t.add,c+=t.rem)}),e.slice().sort(function(t,e){return t.idx-e.idx}).forEach(function(t){h+="this.assign(t,'"+t.out+"',"+t.set+");"}),h+="return t;",l=Function("cell","t",l),l.prototype.assign=o,l.prototype.add=Function("t","var v = this.get(t);"+u),l.prototype.rem=Function("t","var v = this.get(t);"+c),l.prototype.set=Function(h),l.prototype.get=i,l.prototype.distinct=t("../stats").count.distinct,l.prototype.isValid=s.isValid,l.fields=e.map(s.$("out")),l}var s=t("../util"),a={values:i({name:"values",init:"cell.collect = true;",set:"cell.data.values()",idx:-1}),count:i({name:"count",set:"cell.num"}),missing:i({name:"missing",set:"this.missing"}),valid:i({name:"valid",set:"this.valid"}),sum:i({name:"sum",init:"this.sum = 0;",add:"this.sum += v;",rem:"this.sum -= v;",set:"this.sum"}),mean:i({name:"mean",init:"this.mean = 0;",add:"var d = v - this.mean; this.mean += d / this.valid;",rem:"var d = v - this.mean; this.mean -= this.valid ? d / this.valid : this.mean;",set:"this.mean"}),average:i({name:"average",set:"this.mean",req:["mean"],idx:1}),variance:i({name:"variance",init:"this.dev = 0;",add:"this.dev += d * (v - this.mean);",rem:"this.dev -= d * (v - this.mean);",set:"this.valid > 1 ? this.dev / (this.valid-1) : 0",req:["mean"],idx:1}),variancep:i({name:"variancep",set:"this.valid > 1 ? this.dev / this.valid : 0",req:["variance"],idx:2}),stdev:i({name:"stdev",set:"this.valid > 1 ? Math.sqrt(this.dev / (this.valid-1)) : 0",req:["variance"],idx:2}),stdevp:i({name:"stdevp",set:"this.valid > 1 ? Math.sqrt(this.dev / this.valid) : 0",req:["variance"],idx:2}),stderr:i({name:"stderr",set:"this.valid > 1 ? Math.sqrt(this.dev / (this.valid * (this.valid-1))) : 0",req:["variance"],idx:2}),median:i({name:"median",set:"cell.data.q2(this.get)",req:["values"],idx:3}),q1:i({name:"q1",set:"cell.data.q1(this.get)",req:["values"],idx:3}),q3:i({name:"q3",set:"cell.data.q3(this.get)",req:["values"],idx:3}),distinct:i({name:"distinct",set:"this.distinct(cell.data.values(), this.get)",req:["values"],idx:3}),argmin:i({name:"argmin",add:"if (v < this.min) this.argmin = t;",rem:"if (v <= this.min) this.argmin = null;",set:"this.argmin = this.argmin || cell.data.argmin(this.get)",req:["min"],str:["values"],idx:3}),argmax:i({name:"argmax",add:"if (v > this.max) this.argmax = t;",rem:"if (v >= this.max) this.argmax = null;",set:"this.argmax = this.argmax || cell.data.argmax(this.get)",req:["max"],str:["values"],idx:3}),min:i({name:"min",init:"this.min = +Infinity;",add:"if (v < this.min) this.min = v;",rem:"if (v <= this.min) this.min = NaN;",set:"this.min = (isNaN(this.min) ? cell.data.min(this.get) : this.min)",str:["values"],idx:4}),max:i({name:"max",init:"this.max = -Infinity;",add:"if (v > this.max) this.max = v;",rem:"if (v >= this.max) this.max = NaN;",set:"this.max = (isNaN(this.max) ? cell.data.max(this.get) : this.max)",str:["values"],idx:4}),modeskew:i({name:"modeskew",set:"this.dev===0 ? 0 : (this.mean - cell.data.q2(this.get)) / Math.sqrt(this.dev/(this.valid-1))",req:["mean","variance","median"],idx:5})};a.create=o,e.exports=a},{"../stats":27,"../util":30}],12:[function(t,e,n){function i(t){if(!t)throw Error("Missing binning options.");var e,n,i,a,l,u,c,h=t.maxbins||15,d=t.base||10,f=Math.log(d),p=t.div||[5,2],g=t.min,m=t.max,v=m-g;if(t.step)e=t.step;else if(t.steps)e=t.steps[Math.min(t.steps.length-1,r(t.steps,v/h,0,t.steps.length))];else{for(n=Math.ceil(Math.log(h)/f),i=t.minstep||0,e=Math.max(i,Math.pow(d,Math.round(Math.log(v)/f)-n));Math.ceil(v/e)>h;)e*=d;for(u=0;u<p.length;++u)l=e/p[u],l>=i&&h>=v/l&&(e=l)}return l=Math.log(e),a=l>=0?0:~~(-l/f)+1,c=Math.pow(d,-a-1),g=Math.min(g,Math.floor(g/e+c)*e),m=Math.ceil(m/e)*e,{start:g,stop:m,step:e,unit:{precision:a},value:o,index:s}}function r(t,e,n,i){for(;i>n;){var r=n+i>>>1;u.cmp(t[r],e)<0?n=r+1:i=r}return n}function o(t){return this.step*Math.floor(t/this.step+h)}function s(t){return Math.floor((t-this.start)/this.step+h)}function a(t){return this.unit.date(o.call(this,t))}function l(t){return s.call(this,this.unit.unit(t))}var u=t("../util"),c=t("../time"),h=1e-15;i.date=function(t){if(!t)throw Error("Missing date binning options.");var e=t.utc?c.utc:c,n=t.min,r=t.max,o=t.maxbins||20,s=t.minbins||4,u=+r-+n,h=t.unit?e[t.unit]:e.find(u,s,o),d=i({min:null!=h.min?h.min:h.unit(n),max:null!=h.max?h.max:h.unit(r),maxbins:o,minstep:h.minstep,steps:h.step});return d.unit=h,d.index=l,t.raw||(d.value=a),d},e.exports=i},{"../time":29,"../util":30}],13:[function(t,e,n){function i(t,e,n){n=s(t,e,n);var i=o(n);return i?d.$func("bin",i.unit.unit?function(t){return i.value(i.unit.unit(t))}:function(t){return i.value(t)})(n.accessor):n.accessor||d.identity}function r(t,e,n){n=s(t,e,n);var i=o(n);return i?a(t,n.accessor,i):l(t,n.accessor,n&&n.sort)}function o(t){var e=t.type,n=null;return(null==e||p[e])&&("integer"===e&&null==t.minstep&&(t.minstep=1),n="date"===e?u.date(t):u(t)),n}function s(){var t=arguments,e=0,n=d.isArray(t[e])?t[e++]:null,i=d.isFunction(t[e])||d.isString(t[e])?d.$(t[e++]):null,r=d.extend({},t[e]);if(n&&(r.type=r.type||h(n,i),p[r.type])){var o=f.extent(n,i);r=d.extend({min:o[0],max:o[1]},r)}return i&&(r.accessor=i),r}function a(t,e,n){for(var i,r,o=c.range(n.start,n.stop+n.step/2,n.step).map(function(t){return{value:n.value(t),count:0}}),s=0;s<t.length;++s)if(i=e?e(t[s]):t[s],d.isValid(i)){if(r=n.index(i),0>r||r>=o.length||!isFinite(r))continue;o[r].count+=1}return o.bins=n,o}function l(t,e,n){var i=f.unique(t,e),r=f.count.map(t,e);return i.map(function(t){return{value:t,count:r[t]}}).sort(d.comparator(n?"-count":"+value"))}var u=t("./bins"),c=t("../generate"),h=t("../import/type"),d=t("../util"),f=t("../stats"),p={integer:1,number:1,date:1};e.exports={$bin:i,histogram:r}},{"../generate":16,"../import/type":25,"../stats":27,"../util":30,"./bins":12}],14:[function(t,e,n){function i(t,e){e=a.extend({separator:" ",minwidth:8,maxwidth:15},e);var n=e.fields||a.keys(t[0]),i=l.all(t);if(e.start||e.limit){var r=e.start||0,o=e.limit?r+e.limit:t.length;t=t.slice(r,o)}var s=n.map(function(n){var r=h[i[n]]||"",o=c("{{"+n+r+"}}"),s=u.max(t,function(t){return o(t).length});return s=Math.max(Math.min(n.length,e.minwidth),s),e.maxwidth>0?Math.min(s,e.maxwidth):s}),f=n.map(function(t,e){return a.truncate(a.pad(t,s[e],"center"),s[e])}).join(e.separator),p=c(n.map(function(t,e){return"{{"+t+(h[i[t]]||"")+("|pad:"+s[e]+","+(d[i[t]]||"right"))+("|truncate:"+s[e])+"}}"}).join(e.separator));return f+"\n"+t.map(p).join("\n")}function r(t){t=t?t.__summary__?t:u.summary(t):this;var e,n,i=[];for(e=0,n=t.length;n>e;++e)i.push("-- "+t[e].field+" --"),"string"===t[e].type||t[e].distinct<10?i.push(s(t[e])):i.push(o(t[e])),i.push("");return i.join("\n")}function o(t){return["valid:    "+t.valid,"missing:  "+t.missing,"distinct: "+t.distinct,"min:      "+t.min,"max:      "+t.max,"median:   "+t.median,"mean:     "+t.mean,"stdev:    "+t.stdev,"modeskew: "+t.modeskew].join("\n")}function s(t){var e=["valid:    "+t.valid,"missing:  "+t.missing,"distinct: "+t.distinct,"top values: "],n=t.unique,i=a.keys(n).sort(function(t,e){return n[e]-n[t]}).slice(0,6).map(function(t){return" '"+t+"' ("+n[t]+")"});return e.concat(i).join("\n")}var a=t("./util"),l=t("./import/type"),u=t("./stats"),c=t("./template");e.exports={table:i,summary:r};var h={date:'|time:"%m/%d/%Y %H:%M:%S"',number:'|number:".4f"',integer:'|number:"d"'},d={number:"left",integer:"left"}},{"./import/type":25,"./stats":27,"./template":28,"./util":30}],15:[function(t,e,n){function i(t){return t.length>4&&"locale"+(t[0].toUpperCase()+t[1].toLowerCase()+t[3].toUpperCase()+t[4].toLowerCase())}function r(t){var e=A.isString(t)?E[i(t)]:E.locale(t);if(null==e)throw Error("Unrecognized locale: "+t);_=e}function o(t){var e=A.isString(t)?x[i(t)]:x.locale(t);if(null==e)throw Error("Unrecognized locale: "+t);F=e,v=y=w=b=null}function s(t,e){t.length||(t=[0]),null==e&&(e=10);var n=t[0],i=t[t.length-1];n>i&&(s=i,i=n,n=s);var r=i-n||(e=1,n||i||1),o=Math.pow(10,Math.floor(Math.log(r/e)/Math.LN10)),s=r/e/o;return s>=S?o*=10:s>=D?o*=5:s>=M&&(o*=2),[Math.ceil(n/o)*o,Math.floor(i/o)*o+o/2,o]}function a(t,e){return function(n){var i=t(n),r=i.indexOf(e);if(0>r)return i;for(var o=l(i,r),s=o<i.length?i.slice(o):"";--o>r;)if("0"!==i[o]){++o;break}return i.slice(0,o)+s}}function l(t,e){var n,i=t.lastIndexOf("e");if(i>0)return i;for(i=t.length;--i>e;)if(n=t.charCodeAt(i),n>=48&&57>=n)return i+1}function u(t){var e=_.format(".1f")(1)[1];switch(null==t&&(t=","),t=E.formatSpecifier(t),null==t.precision&&(t.precision=12),t.type){case"%":t.precision-=2;break;case"e":t.precision-=1}return a(_.format(t),e)}function c(t,e,n){var i=s(t,e);switch(null==n&&(n=",f"),n=E.formatSpecifier(n),n.type){case"s":var r=Math.max(Math.abs(i[0]),Math.abs(i[1]));return null==n.precision&&(n.precision=E.precisionPrefix(i[2],r)),_.formatPrefix(n,r);case"":case"e":case"g":case"p":case"r":null==n.precision&&(n.precision=E.precisionRound(i[2],Math.max(Math.abs(i[0]),Math.abs(i[1])))-("e"===n.type));break;case"f":case"%":null==n.precision&&(n.precision=E.precisionFixed(i[2])-2*("%"===n.type))}return _.format(n)}function h(){var t=F.format,e=t(".%L"),n=t(":%S"),i=t("%I:%M"),r=t("%I %p"),o=t("%a %d"),s=t("%b %d"),a=t("%B"),l=t("%Y");return function(t){var u=+t;return(C.second(t)<u?e:C.minute(t)<u?n:C.hour(t)<u?i:C.day(t)<u?r:C.month(t)<u?C.week(t)<u?o:s:C.year(t)<u?a:l)(t)}}function d(){var t=F.utcFormat,e=t(".%L"),n=t(":%S"),i=t("%I:%M"),r=t("%I %p"),o=t("%a %d"),s=t("%b %d"),a=t("%B"),l=t("%Y");return function(t){var u=+t;return(C.utcSecond(t)<u?e:C.utcMinute(t)<u?n:C.utcHour(t)<u?i:C.utcDay(t)<u?r:C.utcMonth(t)<u?C.utcWeek(t)<u?o:s:C.utcYear(t)<u?a:l)(t)}}function f(t,e){var n=e?y||(y=F.format("%b")):v||(v=F.format("%B"));return k.setMonth(t),n(k)}function p(t,e){var n=e?b||(b=F.format("%a")):w||(w=F.format("%A"));return k.setMonth(0),k.setDate(2+t),n(k)}function g(t){return Math.floor(t.getMonth()/3)+1}function m(t){return Math.floor(t.getUTCMonth()/3)+1}var v,y,w,b,A=t("./util"),C=t("d3-time"),x=t("d3-time-format"),E=t("d3-format"),_=E,F=x,k=new Date(2e3,0,1);e.exports={numberLocale:r,number:function(t){return _.format(t)},numberPrefix:function(t,e){return _.formatPrefix(t,e)},timeLocale:o,time:function(t){return F.format(t)},utc:function(t){return F.utcFormat(t)},locale:function(t){r(t),o(t)},auto:{number:u,linear:c,time:function(){return h()},utc:function(){return d()}},month:f,day:p,quarter:g,utcQuarter:m};var S=Math.sqrt(50),D=Math.sqrt(10),M=Math.sqrt(2)},{"./util":30,"d3-format":4,"d3-time":6,"d3-time-format":5}],16:[function(t,e,n){var i=t("./util"),r=e.exports;r.repeat=function(t,e){var n,i=Array(e);for(n=0;e>n;++n)i[n]=t;return i},r.zeros=function(t){return r.repeat(0,t)},r.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n==1/0)throw new Error("Infinite range");var i,r=[],o=-1;if(0>n)for(;(i=t+n*++o)>e;)r.push(i);else for(;(i=t+n*++o)<e;)r.push(i);return r},r.random={},r.random.uniform=function(t,e){void 0===e&&(e=void 0===t?1:t,t=0);var n=e-t,i=function(){return t+n*Math.random()};return i.samples=function(t){return r.zeros(t).map(i)},i.pdf=function(i){return i>=t&&e>=i?1/n:0},i.cdf=function(i){return t>i?0:i>e?1:(i-t)/n},i.icdf=function(e){return e>=0&&1>=e?t+e*n:NaN},i},r.random.integer=function(t,e){void 0===e&&(e=t,t=0);var n=e-t,i=function(){return t+Math.floor(n*Math.random())};return i.samples=function(t){return r.zeros(t).map(i)},i.pdf=function(i){return i===Math.floor(i)&&i>=t&&e>i?1/n:0},i.cdf=function(i){var r=Math.floor(i);return t>r?0:r>=e?1:(r-t+1)/n},i.icdf=function(e){return e>=0&&1>=e?t-1+Math.floor(e*n):NaN},i},r.random.normal=function(t,e){t=t||0,e=e||1;var n,i=function(){var i,r,o=0,s=0;if(void 0!==n)return o=n,n=void 0,o;do o=2*Math.random()-1,s=2*Math.random()-1,i=o*o+s*s;while(0===i||i>1);return r=Math.sqrt(-2*Math.log(i)/i),n=t+s*r*e,t+o*r*e};return i.samples=function(t){return r.zeros(t).map(i)},i.pdf=function(n){var i=Math.exp(Math.pow(n-t,2)/(-2*Math.pow(e,2)));return 1/(e*Math.sqrt(2*Math.PI))*i},i.cdf=function(n){var i,r=(n-t)/e,o=Math.abs(r);if(o>37)i=0;else{var s,a=Math.exp(-o*o/2);7.07106781186547>o?(s=.0352624965998911*o+.700383064443688,s=s*o+6.37396220353165,s=s*o+33.912866078383,s=s*o+112.079291497871,s=s*o+221.213596169931,s=s*o+220.206867912376,i=a*s,s=.0883883476483184*o+1.75566716318264,s=s*o+16.064177579207,s=s*o+86.7807322029461,s=s*o+296.564248779674,s=s*o+637.333633378831,s=s*o+793.826512519948,s=s*o+440.413735824752,i/=s):(s=o+.65,s=o+4/s,s=o+3/s,s=o+2/s,s=o+1/s,i=a/s/2.506628274631)}return r>0?1-i:i},i.icdf=function(n){if(0>=n||n>=1)return NaN;var i=2*n-1,r=8*(Math.PI-3)/(3*Math.PI*(4-Math.PI)),o=2/(Math.PI*r)+Math.log(1-Math.pow(i,2))/2,s=Math.log(1-i*i)/r,a=(i>0?1:-1)*Math.sqrt(Math.sqrt(o*o-s)-o);return t+e*Math.SQRT2*a},i},r.random.bootstrap=function(t,e){var n=t.filter(i.isValid),o=n.length,s=e?r.random.normal(0,e):null,a=function(){return n[~~(Math.random()*o)]+(s?s():0);
};return a.samples=function(t){return r.zeros(t).map(a)},a}},{"./util":30}],17:[function(t,e,n){function i(t,e){if(t){var n=e.header;t=(n?n.join(e.delimiter)+"\n":"")+t}return o.dsv(e.delimiter).parse(t)}var r=t("../../util"),o=t("d3-dsv");i.delimiter=function(t){var e={delimiter:t};return function(t,n){return i(t,n?r.extend(n,e):e)}},e.exports=i},{"../../util":30,"d3-dsv":3}],18:[function(t,e,n){var i=t("./dsv");e.exports={json:t("./json"),topojson:t("./topojson"),treejson:t("./treejson"),dsv:i,csv:i.delimiter(","),tsv:i.delimiter("	")}},{"./dsv":17,"./json":19,"./topojson":20,"./treejson":21}],19:[function(t,e,n){var i=t("../../util");e.exports=function(t,e){var n=i.isObject(t)&&!i.isBuffer(t)?t:JSON.parse(t);return e&&e.property&&(n=i.accessor(e.property)(n)),n}},{"../../util":30}],20:[function(t,e,n){var i=t("./json"),r=function(t,e){var n=r.topojson;if(null==n)throw Error("TopoJSON library not loaded.");var o,s=i(t,e);if(e&&e.feature){if(o=s.objects[e.feature])return n.feature(s,o).features;throw Error("Invalid TopoJSON object: "+e.feature)}if(e&&e.mesh){if(o=s.objects[e.mesh])return[n.mesh(s,s.objects[e.mesh])];throw Error("Invalid TopoJSON object: "+e.mesh)}throw Error("Missing TopoJSON feature or mesh parameter.")};r.topojson=t("topojson"),e.exports=r},{"./json":19,topojson:31}],21:[function(t,e,n){function i(t,e){function n(t,e){t[r]=e,o.push(t);var s=t[i];if(s)for(var a=0;a<s.length;++a)n(s[a],t)}var i=e&&e.children||"children",r=e&&e.parent||"parent",o=[];return n(t,null),o.root=t,o}var r=t("./json");e.exports=function(t,e){return i(r(t,e),e)}},{"./json":19}],22:[function(t,e,n){function i(e){var n=e.url;if(!n&&e.file)return f+e.file;if(e.baseURL&&!d.test(n)&&(c(n,"/")||"/"===e.baseURL[e.baseURL.length-1]||(n="/"+n),n=e.baseURL+n),!r.useXHR&&c(n,"//")&&(n=(e.defaultProtocol||"http")+":"+n),e.domainWhiteList){var i,o;if(r.useXHR){var s=document.createElement("a");s.href=n,""===s.host&&(s.href=s.href),i=s.hostname.toLowerCase(),o=window.location.hostname}else{var a=t("url").parse(n);i=a.hostname,o=null}if(o!==i){var l=e.domainWhiteList.some(function(t){var e=i.length-t.length;return t===i||e>1&&"."===i[e-1]&&i.lastIndexOf(t)===e});if(!l)throw"URL is not whitelisted: "+n}}return n}function r(t,e){return r.loader(t,e)}function o(t,e){var n,i=e||function(t){throw t};try{n=r.sanitizeUrl(t)}catch(o){return void i(o)}return n?r.useXHR?r.xhr(n,t,e):c(n,f)?r.file(n.slice(f.length),t,e):n.indexOf("://")<0?r.file(n,t,e):r.http(n,t,e):void i("Invalid URL: "+t.url)}function s(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}function a(t,e,n){function i(){var t=a.status;!t&&s(a)||t>=200&&300>t||304===t?n(null,a.responseText):n(a,null)}var o=!!n,a=new XMLHttpRequest;if("undefined"==typeof XDomainRequest||"withCredentials"in a||!/^(http(s)?:)?\/\//.test(t)||(a=new XDomainRequest),o&&("onload"in a?a.onload=a.onerror=i:a.onreadystatechange=function(){a.readyState>3&&i()}),a.open("GET",t,o),a.setRequestHeader){var l=h.extend({},r.headers,e.headers);for(var u in l)a.setRequestHeader(u,l[u])}return a.send(),!o&&s(a)?a.responseText:void 0}function l(e,n,i){var r=t("fs");return i?void r.readFile(e,i):r.readFileSync(e,"utf8")}function u(e,n,i){var o=h.extend({},r.headers,n.headers),s={url:e,encoding:null,gzip:!0,headers:o};return i?void t("request")(s,function(t,e,n){t||200!==e.statusCode?(t=t||"Load failed with response code "+e.statusCode+".",i(t,null)):i(null,n)}):t("sync-request")("GET",e,s).getBody()}function c(t,e){return null==t?!1:0===t.lastIndexOf(e,0)}var h=t("../util"),d=/^([A-Za-z]+:)?\/\//,f="file://";r.loader=o,r.sanitizeUrl=i,r.xhr=a,r.file=l,r.http=u,r.useXHR="undefined"!=typeof XMLHttpRequest,r.headers={},e.exports=r},{"../util":30,fs:2,request:2,"sync-request":2,url:2}],23:[function(t,e,n){function i(t,e){var n=e&&e.type||"json";return t=a[n](t,e),e&&e.parse&&r(t,e.parse),t}function r(t,e){var n,i,r,a,u,c,h=t.length;for(e="auto"===e?s.inferAll(t):o.duplicate(e),n=o.keys(e),i=n.map(function(t){var n=e[t];if(n&&0===n.indexOf("date:")){var i=n.split(/:(.+)?/,2),r=i[1];if(!("'"===r[0]&&"'"===r[r.length-1]||'"'===r[0]&&'"'===r[r.length-1]))throw Error("Format pattern must be quoted: "+r);return r=r.slice(1,-1),r=l(r),function(t){return r.parse(t)}}if(!s.parsers[n])throw Error("Illegal format pattern: "+t+":"+n);return s.parsers[n]}),a=0,c=n.length;h>a;++a)for(r=t[a],u=0;c>u;++u)r[n[u]]=i[u](r[n[u]]);s.annotation(t,e)}var o=t("../util"),s=t("./type"),a=t("./formats"),l=t("../format").time;i.formats=a,e.exports=i},{"../format":15,"../util":30,"./formats":18,"./type":25}],24:[function(t,e,n){var i=t("../util"),r=t("./load"),o=t("./read");e.exports=i.keys(o.formats).reduce(function(t,e){return t[e]=function(t,n,s){i.isString(t)&&(t={url:t}),2===arguments.length&&i.isFunction(n)&&(s=n,n=void 0),n=i.extend({parse:"auto"},n),n.type=e;var a=r(t,s?function(t,e){if(t)return void s(t,null);try{e=o(e,n),s(null,e)}catch(i){s(i,null)}}:void 0);return s?void 0:o(a,n)},t},{})},{"../util":30,"./load":22,"./read":23}],25:[function(t,e,n){function i(t,e){return e?void(t[u]=e):t&&t[u]||null}function r(t,e){t=l.array(t),e=l.$(e);var n,i,r;if(t[u]&&(n=e(t[u]),l.isString(n)))return n;for(i=0,r=t.length;!l.isValid(n)&&r>i;++i)n=e?e(t[i]):t[i];return l.isDate(n)?"date":l.isNumber(n)?"number":l.isBoolean(n)?"boolean":l.isString(n)?"string":null}function o(t,e){return t.length?(e=e||l.keys(t[0]),e.reduce(function(e,n){return e[n]=r(t,n),e},{})):void 0}function s(t,e){t=l.array(t),e=l.$(e);var n,i,r,o=["boolean","integer","number","date"];for(n=0;n<t.length;++n){for(r=e?e(t[n]):t[n],i=0;i<o.length;++i)l.isValid(r)&&!h[o[i]](r)&&(o.splice(i,1),i-=1);if(0===o.length)return"string"}return o[0]}function a(t,e){return e=e||l.keys(t[0]),e.reduce(function(e,n){return e[n]=s(t,n),e},{})}var l=t("../util"),u="__types__",c={"boolean":l["boolean"],integer:l.number,number:l.number,date:l.date,string:function(t){return null==t||""===t?null:t+""}},h={"boolean":function(t){return"true"===t||"false"===t||l.isBoolean(t)},integer:function(t){return h.number(t)&&(t=+t)===~~t},number:function(t){return!isNaN(+t)&&!l.isDate(t)},date:function(t){return!isNaN(Date.parse(t))}};r.annotation=i,r.all=o,r.infer=s,r.inferAll=a,r.parsers=c,e.exports=r},{"../util":30}],26:[function(t,e,n){var i=t("./util"),r={version:"1.7.2",load:t("./import/load"),read:t("./import/read"),type:t("./import/type"),Aggregator:t("./aggregate/aggregator"),groupby:t("./aggregate/groupby"),bins:t("./bins/bins"),$bin:t("./bins/histogram").$bin,histogram:t("./bins/histogram").histogram,format:t("./format"),template:t("./template"),time:t("./time")};i.extend(r,i),i.extend(r,t("./accessor")),i.extend(r,t("./generate")),i.extend(r,t("./stats")),i.extend(r,t("./import/readers")),i.extend(r.format,t("./format-tables")),r.print={table:r.format.table,summary:r.format.summary},e.exports=r},{"./accessor":7,"./aggregate/aggregator":8,"./aggregate/groupby":10,"./bins/bins":12,"./bins/histogram":13,"./format":15,"./format-tables":14,"./generate":16,"./import/load":22,"./import/read":23,"./import/readers":24,"./import/type":25,"./stats":27,"./template":28,"./time":29,"./util":30}],27:[function(t,e,n){function i(t,e,n){var i=t&&t.nullh||0,r=l.random.normal(0,1),o=u.mean(e,n),s=u.stdev(e,n)/Math.sqrt(u.count.valid(e,n));if(0===s)return o-i===0?1:0;var a=(o-i)/s;return 2*r.cdf(-Math.abs(a))}function r(t,e,n,i){var r,o=i?e.map(s.$(n)):e,a=i?e.map(s.$(i)):n,l=u.count(o),c=u.count(a),h=Array();if(l!==c)throw Error("Array lengths must match.");for(r=0;l>r;++r)s.isValid(o[r])&&s.isValid(a[r])&&h.push(o[r]-a[r]);return u.z.test(h,t&&t.nullh||0)}function o(t,e,n,i){var r=i?e.map(s.$(n)):e,o=i?e.map(s.$(i)):n,a=u.count.valid(r),c=u.count.valid(o),h=l.random.normal(0,1),d=u.mean(r)-u.mean(o)-(t&&t.nullh||0),f=Math.sqrt(u.variance(r)/a+u.variance(o)/c);if(0===f)return 0===d?1:0;var p=d/f;return 2*h.cdf(-Math.abs(p))}var s=t("./util"),a=t("./import/type"),l=t("./generate"),u=e.exports;u.unique=function(t,e,n){e=s.$(e),n=n||[];var i,r,o,a={};for(r=0,o=t.length;o>r;++r)i=e?e(t[r]):t[r],i in a||(a[i]=1,n.push(i));return n},u.count=function(t){return t&&t.length||0},u.count.valid=function(t,e){e=s.$(e);var n,i,r,o=0;for(i=0,r=t.length;r>i;++i)n=e?e(t[i]):t[i],s.isValid(n)&&(o+=1);return o},u.count.missing=function(t,e){e=s.$(e);var n,i,r,o=0;for(i=0,r=t.length;r>i;++i)n=e?e(t[i]):t[i],null==n&&(o+=1);return o},u.count.distinct=function(t,e){e=s.$(e);var n,i,r,o={},a=0;for(i=0,r=t.length;r>i;++i)n=e?e(t[i]):t[i],n in o||(o[n]=1,a+=1);return a},u.count.map=function(t,e){e=s.$(e);var n,i,r,o={};for(i=0,r=t.length;r>i;++i)n=e?e(t[i]):t[i],o[n]=n in o?o[n]+1:1;return o},u.median=function(t,e){return e&&(t=t.map(s.$(e))),t=t.filter(s.isValid).sort(s.cmp),u.quantile(t,.5)},u.quartile=function(t,e){e&&(t=t.map(s.$(e))),t=t.filter(s.isValid).sort(s.cmp);var n=u.quantile;return[n(t,.25),n(t,.5),n(t,.75)]},u.quantile=function(t,e,n){void 0===n&&(n=e,e=s.identity),e=s.$(e);var i=(t.length-1)*n+1,r=Math.floor(i),o=+e(t[r-1]),a=i-r;return a?o+a*(e(t[r])-o):o},u.sum=function(t,e){e=s.$(e);for(var n,i=0,r=0,o=t.length;o>r;++r)n=e?e(t[r]):t[r],s.isValid(n)&&(i+=n);return i},u.mean=function(t,e){e=s.$(e);var n,i,r,o,a,l=0;for(i=0,o=0,r=t.length;r>i;++i)a=e?e(t[i]):t[i],s.isValid(a)&&(n=a-l,l+=n/++o);return l},u.mean.geometric=function(t,e){e=s.$(e);var n,i,r,o,a=1;for(o=0,n=0,i=t.length;i>o;++o)if(r=e?e(t[o]):t[o],s.isValid(r)){if(0>=r)throw Error("Geometric mean only defined for positive values.");a*=r,++n}return a=n>0?Math.pow(a,1/n):0},u.mean.harmonic=function(t,e){e=s.$(e);var n,i,r,o,a=0;for(o=0,n=0,i=t.length;i>o;++o)r=e?e(t[o]):t[o],s.isValid(r)&&(a+=1/r,++n);return n/a},u.variance=function(t,e){if(e=s.$(e),!s.isArray(t)||t.length<2)return 0;var n,i,r,o,a=0,l=0;for(i=0,r=0;i<t.length;++i)o=e?e(t[i]):t[i],s.isValid(o)&&(n=o-a,a+=n/++r,l+=n*(o-a));return l/=r-1},u.stdev=function(t,e){return Math.sqrt(u.variance(t,e))},u.modeskew=function(t,e){var n=u.mean(t,e),i=u.median(t,e),r=u.stdev(t,e);return 0===r?0:(n-i)/r},u.min=function(t,e){return u.extent(t,e)[0]},u.max=function(t,e){return u.extent(t,e)[1]},u.extent=function(t,e){e=s.$(e);var n,i,r,o,a=t.length;for(o=0;a>o;++o)if(r=e?e(t[o]):t[o],s.isValid(r)){n=i=r;break}for(;a>o;++o)r=e?e(t[o]):t[o],s.isValid(r)&&(n>r&&(n=r),r>i&&(i=r));return[n,i]},u.extent.index=function(t,e){e=s.$(e);var n,i,r,o,a=-1,l=-1,u=t.length;for(o=0;u>o;++o)if(r=e?e(t[o]):t[o],s.isValid(r)){n=i=r,a=l=o;break}for(;u>o;++o)r=e?e(t[o]):t[o],s.isValid(r)&&(n>r&&(n=r,a=o),r>i&&(i=r,l=o));return[a,l]},u.dot=function(t,e,n){var i,r,o=0;if(n)for(e=s.$(e),n=s.$(n),i=0;i<t.length;++i)r=e(t[i])*n(t[i]),r===r&&(o+=r);else{if(t.length!==e.length)throw Error("Array lengths must match.");for(i=0;i<t.length;++i)r=t[i]*e[i],r===r&&(o+=r)}return o},u.dist=function(t,e,n,i){var r,o,a=s.isFunction(n)||s.isString(n),l=t,u=a?t:e,c=a?i:n,h=2===c||null==c,d=t.length,f=0;for(a&&(e=s.$(e),n=s.$(n)),o=0;d>o;++o)r=a?e(l[o])-n(u[o]):l[o]-u[o],f+=h?r*r:Math.pow(Math.abs(r),c);return h?Math.sqrt(f):Math.pow(f,1/c)},u.cohensd=function(t,e,n){var i=n?t.map(s.$(e)):t,r=n?t.map(s.$(n)):e,o=u.mean(i),a=u.mean(r),l=u.count.valid(i),c=u.count.valid(r);if(0>=l+c-2)return 0;var h=u.variance(i),d=u.variance(r),f=Math.sqrt(((l-1)*h+(c-1)*d)/(l+c-2));return 0===f?0:(o-a)/f},u.covariance=function(t,e,n){var i,r,o,a,l,c=n?t.map(s.$(e)):t,h=n?t.map(s.$(n)):e,d=c.length,f=u.mean(c),p=u.mean(h),g=0,m=0;if(d!==h.length)throw Error("Input lengths must match.");for(i=0;d>i;++i)if(r=c[i],a=s.isValid(r),o=h[i],l=s.isValid(o),a&&l)g+=(r-f)*(o-p),++m;else if(a||l)throw Error("Valid values must align.");return g/(m-1)},u.rank=function(t,e){e=s.$(e)||s.identity;var n,i,r,o=t.map(function(t,n){return{idx:n,val:e(t)}}).sort(s.comparator("val")),a=t.length,l=Array(a),u=-1,c={};for(n=0;a>n;++n){if(i=o[n].val,0>u&&c===i)u=n-1;else if(u>-1&&c!==i){for(r=1+(n-1+u)/2;n>u;++u)l[o[u].idx]=r;u=-1}l[o[n].idx]=n+1,c=i}if(u>-1)for(r=1+(a-1+u)/2;a>u;++u)l[o[u].idx]=r;return l},u.cor=function(t,e,n){var i=n;n=i?t.map(s.$(n)):e,e=i?t.map(s.$(e)):t;var r=u.dot(e,n),o=u.mean(e),a=u.mean(n),l=u.stdev(e),c=u.stdev(n),h=t.length;return(r-h*o*a)/((h-1)*l*c)},u.cor.rank=function(t,e,n){var i,r,o,s=n?u.rank(t,e):u.rank(t),a=n?u.rank(t,n):u.rank(e),l=t.length;for(i=0,r=0;l>i;++i)o=s[i]-a[i],r+=o*o;return 1-6*r/(l*(l*l-1))},u.cor.dist=function(t,e,n){var i,r,o,a,l=n?t.map(s.$(e)):t,c=n?t.map(s.$(n)):e,h=u.dist.mat(l),d=u.dist.mat(c),f=h.length;for(i=0,r=0,o=0,a=0;f>i;++i)r+=h[i]*h[i],o+=d[i]*d[i],a+=h[i]*d[i];return Math.sqrt(a/Math.sqrt(r*o))},u.linearRegression=function(t,e,n){var i,r,o=n?t.map(s.$(e)):t,a=n?t.map(s.$(n)):e,l=o.length,c=u.covariance(o,a),h=u.stdev(o),d=u.stdev(a),f=c/(h*h),p=u.mean(a)-f*u.mean(o),g={slope:f,intercept:p,R:c/(h*d),rss:0};for(r=0;l>r;++r)s.isValid(o[r])&&s.isValid(a[r])&&(i=f*o[r]+p-a[r],g.rss+=i*i);return g},u.bootstrap={},u.bootstrap.ci=function(t,e,n,i,r){var o,a,c,h,d,f,p;for(s.isFunction(e)||s.isString(e)?(o=t.map(s.$(e)),a=n,c=i,h=r):(o=t,a=e,c=n,h=i),a=a?+a:1e3,c=c||.05,d=l.random.bootstrap(o,h),p=0,f=Array(a);a>p;++p)f[p]=u.mean(d.samples(o.length));return f.sort(s.numcmp),[u.quantile(f,c/2),u.quantile(f,1-c/2)]},u.z={},u.z.ci=function(t,e,n){var i=t,r=e;(s.isFunction(e)||s.isString(e))&&(i=t.map(s.$(e)),r=n),r=r||.05;var o=.05===r?1.96:l.random.normal(0,1).icdf(1-r/2),a=u.mean(i),c=u.stdev(i)/Math.sqrt(u.count.valid(i));return[a-o*c,a+o*c]},u.z.test=function(t,e,n,a){return s.isFunction(n)||s.isString(n)?(a&&a.paired?r:o)(a,t,e,n):s.isArray(e)?(n&&n.paired?r:o)(n,t,e):s.isFunction(e)||s.isString(e)?i(n,t,e):i(e,t)},u.dist.mat=function(t){var e,n,i,r=t.length,o=r*r,s=Array(o),a=l.zeros(r),u=0;for(n=0;r>n;++n)for(s[n*r+n]=0,i=n+1;r>i;++i)s[n*r+i]=e=Math.abs(t[n]-t[i]),s[i*r+n]=e,a[n]+=e,a[i]+=e;for(n=0;r>n;++n)u+=a[n],a[n]/=r;for(u/=o,n=0;r>n;++n)for(i=n;r>i;++i)s[n*r+i]+=u-a[n]-a[i],s[i*r+n]=s[n*r+i];return s},u.entropy=function(t,e){e=s.$(e);var n,i,r=0,o=0,a=t.length;for(n=0;a>n;++n)r+=e?e(t[n]):t[n];if(0===r)return 0;for(n=0;a>n;++n)i=(e?e(t[n]):t[n])/r,i&&(o+=i*Math.log(i));return-o/Math.LN2},u.mutual=function(t,e,n,i){var r,o,a,l=i?t.map(s.$(e)):t,u=i?t.map(s.$(n)):e,c=i?t.map(s.$(i)):n,h={},d={},f=c.length,p=0,g=0,m=0;for(a=0;f>a;++a)h[l[a]]=0,d[u[a]]=0;for(a=0;f>a;++a)h[l[a]]+=c[a],d[u[a]]+=c[a],p+=c[a];for(o=1/(p*Math.LN2),a=0;f>a;++a)0!==c[a]&&(r=p*c[a]/(h[l[a]]*d[u[a]]),g+=c[a]*o*Math.log(r),m+=c[a]*o*Math.log(c[a]/p));return[g,1+g/m]},u.mutual.info=function(t,e,n,i){return u.mutual(t,e,n,i)[0]},u.mutual.dist=function(t,e,n,i){return u.mutual(t,e,n,i)[1]},u.profile=function(t,e){var n,i,r,o,l,c=0,h=0,d=0,f=0,p=null,g=null,m=0,v=[],y={};for(r=0;r<t.length;++r)o=e?e(t[r]):t[r],y[o]=o in y?y[o]+1:(f+=1,1),null==o?++d:s.isValid(o)&&(l="string"==typeof o?o.length:o,(null===p||p>l)&&(p=l),(null===g||l>g)&&(g=l),n=l-c,c+=n/++h,m+=n*(l-c),v.push(l));return m/=h-1,i=Math.sqrt(m),v.sort(s.cmp),{type:a(t,e),unique:y,count:t.length,valid:h,missing:d,distinct:f,min:p,max:g,mean:c,stdev:i,median:o=u.quantile(v,.5),q1:u.quantile(v,.25),q3:u.quantile(v,.75),modeskew:0===i?0:(c-o)/i}},u.summary=function(t,e){e=e||s.keys(t[0]);var n=e.map(function(e){var n=u.profile(t,s.$(e));return n.field=e,n});return n.__summary__=!0,n}},{"./generate":16,"./import/type":25,"./util":30}],28:[function(t,e,n){function i(t){var e=r(t,"d");return e="var __t; return "+e+";",new Function("d",e).bind(h)}function r(t,e,n){e=e||"obj";var i=0,r="'",a=d;return t.replace(a,function(a,l,u){return r+=t.slice(i,u).replace(m,s),i=u+a.length,l&&(r+="'\n+((__t=("+o(l,e,n)+"))==null?'':__t)+\n'"),a}),r+"'"}function o(t,e,n){function r(t){return t=t||"",h?(h=!1,d="String("+d+")"+t):d+=t,d}function o(){return"(typeof "+d+'==="number"?new Date('+d+"):"+d+")"}function s(t){var e=b[0];if(!("'"===e[0]&&"'"===e[e.length-1]||'"'===e[0]&&'"'===e[e.length-1]))throw Error("Format pattern must be quoted: "+e);e=e.slice(1,-1),v=a(e,t),h=!1;var n="number"===t?d:o();d="this.formats["+v+"]("+n+")"}var l=t.match(f),c=l.shift().trim(),h=!0;n&&(n[c]=1);for(var d=i.property(e,c),g=0;g<l.length;++g){var m,v,y,w=l[g],b=null;switch((m=w.indexOf(":"))>0&&(w=w.slice(0,m),b=l[g].slice(m+1).match(p).map(function(t){return t.trim()})),w=w.trim()){case"length":r(".length");break;case"lower":r(".toLowerCase()");break;case"upper":r(".toUpperCase()");break;case"lower-locale":r(".toLocaleLowerCase()");break;case"upper-locale":r(".toLocaleUpperCase()");break;case"trim":r(".trim()");break;case"left":v=u.number(b[0]),r(".slice(0,"+v+")");break;case"right":v=u.number(b[0]),r(".slice(-"+v+")");break;case"mid":v=u.number(b[0]),y=v+u.number(b[1]),r(".slice(+"+v+","+y+")");break;case"slice":v=u.number(b[0]),r(".slice("+v+(b.length>1?","+u.number(b[1]):"")+")");break;case"truncate":v=u.number(b[0]),y=b[1],y="left"!==y&&"middle"!==y&&"center"!==y?"right":y,d="this.truncate("+r()+","+v+",'"+y+"')";break;case"pad":v=u.number(b[0]),y=b[1],y="left"!==y&&"middle"!==y&&"center"!==y?"right":y,d="this.pad("+r()+","+v+",'"+y+"')";break;case"number":s("number");break;case"time":s("time");break;case"time-utc":s("utc");break;case"month":d="this.month("+d+")";break;case"month-abbrev":d="this.month("+d+",true)";break;case"day":d="this.day("+d+")";break;case"day-abbrev":d="this.day("+d+",true)";break;case"quarter":d="this.quarter("+d+")";break;case"quarter-utc":d="this.utcQuarter("+d+")";break;default:throw Error("Unrecognized template filter: "+w)}}return d}function s(t){return"\\"+g[t]}function a(t,e){var n=e+":"+t;if(null==h.format_map[n]){var i=c[e](t),r=h.formats.length;return h.formats.push(i),h.format_map[n]=r,r}return h.format_map[n]}function l(t,e){return h.formats[a(t,e)]}var u=t("./util"),c=t("./format"),h={formats:[],format_map:{},truncate:u.truncate,pad:u.pad,day:c.day,month:c.month,quarter:c.quarter,utcQuarter:c.utcQuarter};i.source=r,i.context=h,i.format=l,e.exports=i,i.clearFormatCache=function(){h.formats=[],h.format_map={}},i.property=function(t,e){var n=u.field(e).map(u.str).join("][");return t+"["+n+"]"};var d=/\{\{(.+?)\}\}|$/g,f=/(?:"[^"]*"|\'[^\']*\'|[^\|"]+|[^\|\']+)+/g,p=/(?:"[^"]*"|\'[^\']*\'|[^,"]+|[^,\']+)+/g,g={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},m=/\\|'|\r|\n|\u2028|\u2029/g},{"./format":15,"./util":30}],29:[function(t,e,n){function i(t){return u.setTime(+t),u}function r(t,e,n,i,r,o){var s={type:t,date:e,unit:n};return i?s.step=i:s.minstep=1,null!=r&&(s.min=r),null!=o&&(s.max=o),s}function o(t,e,n,i,o,s){return r(t,function(t){return e.offset(n,t)},function(t){return e.count(n,t)},i,o,s)}function s(t,e,n,i){var r,o,s,a=p[0];for(r=1,o=p.length;o>r;++r)if(a=p[r],e>a[0]){if(s=e/a[0],s>i)return t[p[r-1][1]];if(s>=n)return t[a[1]]}return t[p[o-1][1]]}function a(t){var e,n,i={};for(e=0,n=t.length;n>e;++e)i[t[e].type]=t[e];return i.find=function(e,n,i){return s(t,e,n,i)},i}var l=t("d3-time"),u=new Date,c=new Date(0,0,1).setFullYear(0),h=new Date(Date.UTC(0,0,1)).setUTCFullYear(0),d=[o("second",l.second,c),o("minute",l.minute,c),o("hour",l.hour,c),o("day",l.day,c,[1,7]),o("month",l.month,c,[1,3,6]),o("year",l.year,c),r("seconds",function(t){return new Date(1970,0,1,0,0,t)},function(t){return i(t).getSeconds()},null,0,59),r("minutes",function(t){return new Date(1970,0,1,0,t)},function(t){return i(t).getMinutes()},null,0,59),r("hours",function(t){return new Date(1970,0,1,t)},function(t){return i(t).getHours()},null,0,23),r("weekdays",function(t){return new Date(1970,0,4+t)},function(t){return i(t).getDay()},[1],0,6),r("dates",function(t){return new Date(1970,0,t)},function(t){return i(t).getDate()},[1],1,31),r("months",function(t){return new Date(1970,t%12,1)},function(t){return i(t).getMonth()},[1],0,11)],f=[o("second",l.utcSecond,h),o("minute",l.utcMinute,h),o("hour",l.utcHour,h),o("day",l.utcDay,h,[1,7]),o("month",l.utcMonth,h,[1,3,6]),o("year",l.utcYear,h),r("seconds",function(t){return new Date(Date.UTC(1970,0,1,0,0,t))},function(t){return i(t).getUTCSeconds()},null,0,59),r("minutes",function(t){return new Date(Date.UTC(1970,0,1,0,t))},function(t){return i(t).getUTCMinutes()},null,0,59),r("hours",function(t){return new Date(Date.UTC(1970,0,1,t))},function(t){return i(t).getUTCHours()},null,0,23),r("weekdays",function(t){return new Date(Date.UTC(1970,0,4+t))},function(t){return i(t).getUTCDay()},[1],0,6),r("dates",function(t){return new Date(Date.UTC(1970,0,t))},function(t){return i(t).getUTCDate()},[1],1,31),r("months",function(t){return new Date(Date.UTC(1970,t%12,1))},function(t){return i(t).getUTCMonth()},[1],0,11)],p=[[31536e6,5],[7776e6,4],[2592e6,4],[12096e5,3],[6048e5,3],[1728e5,3],[864e5,3],[432e5,2],[216e5,2],[108e5,2],[36e5,2],[18e5,1],[9e5,1],[3e5,1],[6e4,1],[3e4,0],[15e3,0],[5e3,0],[1e3,0]];e.exports=a(d),e.exports.utc=a(f)},{"d3-time":6}],30:[function(t,e,n){(function(t){function n(t,e){var n,i="";for(n=0;t>n;++n)i+=e;return i}function i(t,e,n){var i=0,r=t.split(l);return t=n?(r=r.reverse()).filter(function(t){return i+=t.length,e>=i}).reverse():r.filter(function(t){return i+=t.length,e>=i}),t.length?t.join("").trim():r[0].slice(0,e)}var r=e.exports,o="__name__";r.namedfunc=function(t,e){return e[o]=t,e},r.name=function(t){return null==t?null:t[o]},r.identity=function(t){return t},r["true"]=r.namedfunc("true",function(){return!0}),r["false"]=r.namedfunc("false",function(){return!1}),r.duplicate=function(t){return JSON.parse(JSON.stringify(t))},r.equal=function(t,e){return JSON.stringify(t)===JSON.stringify(e)},r.extend=function(t){for(var e,n,i=1,r=arguments.length;r>i;++i){e=arguments[i];for(n in e)t[n]=e[n]}return t},r.length=function(t){return null!=t&&null!=t.length?t.length:null},r.keys=function(t){var e,n=[];for(e in t)n.push(e);return n},r.vals=function(t){var e,n=[];for(e in t)n.push(t[e]);return n},r.toMap=function(t,e){return(e=r.$(e))?t.reduce(function(t,n){return t[e(n)]=1,t},{}):t.reduce(function(t,e){return t[e]=1,t},{})},r.keystr=function(t){var e=t.length;if(!e)return"";for(var n=String(t[0]),i=1;e>i;++i)n+="|"+String(t[i]);return n};var s=Object.prototype.toString;r.isObject=function(t){return t===Object(t)},r.isFunction=function(t){return"[object Function]"===s.call(t)},r.isString=function(t){return"string"==typeof value||"[object String]"===s.call(t)},r.isArray=Array.isArray||function(t){return"[object Array]"===s.call(t)},r.isNumber=function(t){return"number"==typeof t||"[object Number]"===s.call(t)},r.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"==s.call(t)},r.isDate=function(t){return"[object Date]"===s.call(t)},r.isValid=function(t){return null!=t&&t===t},r.isBuffer="function"==typeof t&&t.isBuffer||r["false"],r.number=function(t){return null==t||""===t?null:+t},r["boolean"]=function(t){return null==t||""===t?null:"false"===t?!1:!!t},r.date=function(t,e){var n=e?e:Date;return null==t||""===t?null:n.parse(t)},r.array=function(t){return null!=t?r.isArray(t)?t:[t]:[]},r.str=function(t){return r.isArray(t)?"["+t.map(r.str)+"]":r.isObject(t)||r.isString(t)?JSON.stringify(t).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):t};var a=/\[(.*?)\]|[^.\[]+/g;r.field=function(t){return String(t).match(a).map(function(t){return"["!==t[0]?t:"'"!==t[1]&&'"'!==t[1]?t.slice(1,-1):t.slice(2,-2).replace(/\\(["'])/g,"$1")})},r.accessor=function(t){return null==t||r.isFunction(t)?t:r.namedfunc(t,Function("x","return x["+r.field(t).map(r.str).join("][")+"];"))},r.$=r.accessor,r.mutator=function(t){var e;return r.isString(t)&&(e=r.field(t)).length>1?function(t,n){for(var i=0;i<e.length-1;++i)t=t[e[i]];t[e[i]]=n}:function(e,n){e[t]=n}},r.$func=function(t,e){return function(n){n=r.$(n)||r.identity;var i=t+(r.name(n)?"_"+r.name(n):"");return r.namedfunc(i,function(t){return e(n(t))})}},r.$valid=r.$func("valid",r.isValid),r.$length=r.$func("length",r.length),r.$in=function(t,e){t=r.$(t);var n=r.isArray(e)?r.toMap(e):e;return function(e){return!!n[t(e)]}},r.comparator=function(t){var e=[];return void 0===t&&(t=[]),t=r.array(t).map(function(t){var n=1;return"-"===t[0]?(n=-1,t=t.slice(1)):"+"===t[0]&&(n=1,t=t.slice(1)),e.push(n),r.accessor(t)}),function(n,i){var o,s,a,l;for(o=0,s=t.length;s>o;++o)if(a=t[o],l=r.cmp(a(n),a(i)))return l*e[o];return 0}},r.cmp=function(t,e){return(e>t||null==t)&&null!=e?-1:(t>e||null==e)&&null!=t?1:(e=e instanceof Date?+e:e,(t=t instanceof Date?+t:t)!==t&&e===e?-1:e!==e&&t===t?1:0)},r.numcmp=function(t,e){return t-e},r.stablesort=function(t,e,n){var i=t.reduce(function(t,e,i){return t[n(e)]=i,t},{});return t.sort(function(t,r){var o=e(t),s=e(r);return s>o?-1:o>s?1:i[n(t)]-i[n(r)]}),t},r.permute=function(t){for(var e,n,i=t.length;i;)n=Math.floor(Math.random()*i--),e=t[i],t[i]=t[n],t[n]=e},r.pad=function(t,e,i,r){r=r||" ";var o=e-t.length;if(0>=o)return t;switch(i){case"left":return n(o,r)+t;case"middle":case"center":return n(Math.floor(o/2),r)+t+n(Math.ceil(o/2),r);default:return t+n(o,r)}},r.truncate=function(t,e,n,r,o){var s=t.length;if(e>=s)return t;o=void 0!==o?String(o):"";var a=Math.max(0,e-o.length);switch(n){case"left":return o+(r?i(t,a,1):t.slice(s-a));case"middle":case"center":var l=Math.ceil(a/2),u=Math.floor(a/2);return(r?i(t,l):t.slice(0,l))+o+(r?i(t,u,1):t.slice(s-u));default:return(r?i(t,a):t.slice(0,a))+o}};var l=/([\u0009\u000A\u000B\u000C\u000D\u0020\u00A0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u2028\u2029\u3000\uFEFF])/}).call(this,t("buffer").Buffer)},{buffer:2}],31:[function(e,n,i){!function(e,r){"object"==typeof i&&"undefined"!=typeof n?r(i):"function"==typeof t&&t.amd?t(["exports"],r):r(e.topojson=e.topojson||{})}(this,function(t){"use strict";function e(){}function n(t){if(!t)return e;var n,i,r=t.scale[0],o=t.scale[1],s=t.translate[0],a=t.translate[1];return function(t,e){e||(n=i=0),t[0]=(n+=t[0])*r+s,t[1]=(i+=t[1])*o+a}}function i(t){if(!t)return e;var n,i,r=t.scale[0],o=t.scale[1],s=t.translate[0],a=t.translate[1];return function(t,e){e||(n=i=0);var l=Math.round((t[0]-s)/r),u=Math.round((t[1]-a)/o);t[0]=l-n,t[1]=u-i,n=l,i=u}}function r(t,e){for(var n,i=t.length,r=i-e;r<--i;)n=t[r],t[r++]=t[i],t[i]=n}function o(t,e){for(var n=0,i=t.length;i>n;){var r=n+i>>>1;t[r]<e?n=r+1:i=r}return n}function s(t,e){return"GeometryCollection"===e.type?{type:"FeatureCollection",features:e.geometries.map(function(e){return a(t,e)})}:a(t,e)}function a(t,e){var n={type:"Feature",id:e.id,properties:e.properties||{},geometry:l(t,e)};return null==e.id&&delete n.id,n}function l(t,e){function i(t,e){e.length&&e.pop();for(var n,i=h[0>t?~t:t],o=0,s=i.length;s>o;++o)e.push(n=i[o].slice()),c(n,o);0>t&&r(e,s)}function o(t){return t=t.slice(),c(t,0),t}function s(t){for(var e=[],n=0,r=t.length;r>n;++n)i(t[n],e);return e.length<2&&e.push(e[0].slice()),e}function a(t){for(var e=s(t);e.length<4;)e.push(e[0].slice());return e}function l(t){return t.map(a)}function u(t){var e=t.type;return"GeometryCollection"===e?{type:e,geometries:t.geometries.map(u)}:e in d?{type:e,coordinates:d[e](t)}:null}var c=n(t.transform),h=t.arcs,d={Point:function(t){return o(t.coordinates)},MultiPoint:function(t){return t.coordinates.map(o)},LineString:function(t){return s(t.arcs)},MultiLineString:function(t){return t.arcs.map(s)},Polygon:function(t){return l(t.arcs)},MultiPolygon:function(t){return t.arcs.map(l)}};return u(e)}function u(t,e){function n(e){var n,i=t.arcs[0>e?~e:e],r=i[0];return t.transform?(n=[0,0],i.forEach(function(t){n[0]+=t[0],n[1]+=t[1]})):n=i[i.length-1],0>e?[n,r]:[r,n]}function i(t,e){for(var n in t){var i=t[n];delete e[i.start],delete i.start,delete i.end,i.forEach(function(t){r[0>t?~t:t]=1}),a.push(i)}}var r={},o={},s={},a=[],l=-1;return e.forEach(function(n,i){var r,o=t.arcs[0>n?~n:n];o.length<3&&!o[1][0]&&!o[1][1]&&(r=e[++l],e[l]=n,e[i]=r)}),e.forEach(function(t){var e,i,r=n(t),a=r[0],l=r[1];if(e=s[a])if(delete s[e.end],e.push(t),e.end=l,i=o[l]){delete o[i.start];var u=i===e?e:e.concat(i);o[u.start=e.start]=s[u.end=i.end]=u}else o[e.start]=s[e.end]=e;else if(e=o[l])if(delete o[e.start],e.unshift(t),e.start=a,i=s[a]){delete s[i.end];var c=i===e?e:i.concat(e);o[c.start=i.start]=s[c.end=e.end]=c}else o[e.start]=s[e.end]=e;else e=[t],o[e.start=a]=s[e.end=l]=e}),i(s,o),i(o,s),e.forEach(function(t){r[0>t?~t:t]||a.push([t])}),a}function c(t){return l(t,h.apply(this,arguments))}function h(t,e,n){function i(t){var e=0>t?~t:t;(c[e]||(c[e]=[])).push({i:t,g:l})}function r(t){t.forEach(i)}function o(t){t.forEach(r)}function s(t){"GeometryCollection"===t.type?t.geometries.forEach(s):t.type in h&&(l=t,h[t.type](t.arcs))}var a=[];if(arguments.length>1){var l,c=[],h={LineString:r,MultiLineString:o,Polygon:o,MultiPolygon:function(t){t.forEach(o)}};s(e),c.forEach(arguments.length<3?function(t){a.push(t[0].i)}:function(t){n(t[0].g,t[t.length-1].g)&&a.push(t[0].i)})}else for(var d=0,f=t.arcs.length;f>d;++d)a.push(d);return{type:"MultiLineString",arcs:u(t,a)}}function d(t){var e=t[0],n=t[1],i=t[2];return Math.abs((e[0]-i[0])*(n[1]-e[1])-(e[0]-n[0])*(i[1]-e[1]))}function f(t){for(var e,n=-1,i=t.length,r=t[i-1],o=0;++n<i;)e=r,r=t[n],o+=e[0]*r[1]-e[1]*r[0];return o/2}function p(t){return l(t,g.apply(this,arguments))}function g(t,e){function n(t){t.forEach(function(e){e.forEach(function(e){(r[e=0>e?~e:e]||(r[e]=[])).push(t)})}),o.push(t)}function i(e){return Math.abs(f(l(t,{type:"Polygon",arcs:[e]}).coordinates[0]))}var r={},o=[],s=[];return e.forEach(function(t){"Polygon"===t.type?n(t.arcs):"MultiPolygon"===t.type&&t.arcs.forEach(n)}),o.forEach(function(t){if(!t._){var e=[],n=[t];for(t._=1,s.push(e);t=n.pop();)e.push(t),t.forEach(function(t){t.forEach(function(t){r[0>t?~t:t].forEach(function(t){t._||(t._=1,n.push(t))})})})}}),o.forEach(function(t){delete t._}),{type:"MultiPolygon",arcs:s.map(function(e){var n,o=[];if(e.forEach(function(t){t.forEach(function(t){t.forEach(function(t){r[0>t?~t:t].length<2&&o.push(t)})})}),o=u(t,o),(n=o.length)>1)for(var s,a,l=1,c=i(o[0]);n>l;++l)(s=i(o[l]))>c&&(a=o[0],o[0]=o[l],o[l]=a,c=s);return o})}}function m(t){function e(t,e){t.forEach(function(t){0>t&&(t=~t);var n=r[t];n?n.push(e):r[t]=[e]})}function n(t,n){t.forEach(function(t){e(t,n)})}function i(t,e){"GeometryCollection"===t.type?t.geometries.forEach(function(t){i(t,e)}):t.type in a&&a[t.type](t.arcs,e)}var r={},s=t.map(function(){return[]}),a={LineString:e,MultiLineString:n,Polygon:n,MultiPolygon:function(t,e){t.forEach(function(t){n(t,e)})}};t.forEach(i);for(var l in r)for(var u=r[l],c=u.length,h=0;c>h;++h)for(var d=h+1;c>d;++d){var f,p=u[h],g=u[d];(f=s[p])[l=o(f,g)]!==g&&f.splice(l,0,g),(f=s[g])[l=o(f,p)]!==p&&f.splice(l,0,p)}return s}function v(t,e){return t[1][2]-e[1][2]}function y(){function t(t,e){for(;e>0;){var n=(e+1>>1)-1,r=i[n];if(v(t,r)>=0)break;i[r._=e]=r,i[t._=e=n]=t}}function e(t,e){for(;;){var n=e+1<<1,o=n-1,s=e,a=i[s];if(r>o&&v(i[o],a)<0&&(a=i[s=o]),r>n&&v(i[n],a)<0&&(a=i[s=n]),s===e)break;i[a._=e]=a,i[t._=e=s]=t}}var n={},i=[],r=0;return n.push=function(e){return t(i[e._=r]=e,r++),r},n.pop=function(){if(!(0>=r)){var t,n=i[0];return--r>0&&(t=i[r],e(i[t._=0]=t,0)),n}},n.remove=function(n){var o,s=n._;if(i[s]===n)return s!==--r&&(o=i[r],(v(o,n)<0?t:e)(i[o._=s]=o,s)),s},n}function w(t,e){function r(t){a.remove(t),t[1][2]=e(t),a.push(t)}var o=n(t.transform),s=i(t.transform),a=y();return e||(e=d),t.arcs.forEach(function(t){var n,i,l,u,c=[],h=0;for(i=0,l=t.length;l>i;++i)u=t[i],o(t[i]=[u[0],u[1],1/0],i);for(i=1,l=t.length-1;l>i;++i)n=t.slice(i-1,i+2),n[1][2]=e(n),c.push(n),a.push(n);for(i=0,l=c.length;l>i;++i)n=c[i],n.previous=c[i-1],n.next=c[i+1];for(;n=a.pop();){var d=n.previous,f=n.next;n[1][2]<h?n[1][2]=h:h=n[1][2],d&&(d.next=f,d[2]=n[2],r(d)),f&&(f.previous=d,f[0]=n[0],r(f))}t.forEach(s)}),t}var b="1.6.26";t.version=b,t.mesh=c,t.meshArcs=h,t.merge=p,t.mergeArcs=g,t.feature=s,t.neighbors=m,t.presimplify=w})},{}],32:[function(t,e,n){function i(t,e){var n={};return r(t,n),n.add=[],n.mod=[],n.rem=[],n.reflow=e,n}function r(t,e){e.stamp=t?t.stamp:0,e.sort=t?t.sort:null,e.facet=t?t.facet:null,e.trans=t?t.trans:null,e.dirty=t?t.dirty:[],e.request=t?t.request:null;for(var n,i=0,r=o.length;r>i;++i)e[n=o[i]]=t?t[n]:{}}var o=t("./Dependencies").ALL;e.exports={create:i,copy:r
}},{"./Dependencies":35}],33:[function(t,e,n){function i(t){s.init.call(this,t),this._data=[],this.router(!0).collector(!0)}var r=t("vega-logging"),o=t("./Tuple"),s=t("./Node").prototype,a=t("./ChangeSet"),l=i.prototype=Object.create(s);l.constructor=i,l.data=function(){return this._data},l.evaluate=function(t){r.debug(t,["collecting"]);var e=a.create(t);return t.rem.length&&(this._data=o.idFilter(this._data,t.rem),e.rem=t.rem.slice(0)),t.add.length&&(this._data=this._data.concat(t.add),e.add=t.add.slice(0)),t.mod.length&&(e.mod=t.mod.slice(0)),t.sort&&this._data.sort(t.sort),t.reflow&&(e.mod=e.mod.concat(o.idFilter(this._data,e.add,e.mod,e.rem)),e.reflow=!1),e},e.exports=i},{"./ChangeSet":32,"./Node":38,"./Tuple":40,"vega-logging":48}],34:[function(t,e,n){function i(t,e,n){this._graph=t,this._name=e,this._data=[],this._source=null,this._facet=n,this._input=u.create(),this._output=null,this._indexes={},this._indexFields=[],this._inputNode=null,this._outputNode=null,this._pipeline=null,this._collector=null,this._mutates=!1}function r(t){var e=new d(t._graph).router(!0).collector(!0);return e.data=function(){return t._data},e.evaluate=function(e){l.debug(e,["input",t._name]);var n,i=t._input,r=u.create(e);for(n in i.fields)r.fields[n]=1;return i.rem.length&&(t._data=h.idFilter(t._data,i.rem)),i.add.length&&(t._data=t._data.concat(i.add)),i.sort&&t._data.sort(i.sort),e.reflow&&(i.mod=i.mod.concat(h.idFilter(t._data,i.add,i.mod,i.rem))),t._input=u.create(),r.add=i.add,r.mod=i.mod,r.rem=i.rem,r.facet=t._facet,r},e}function o(t){function e(e){var n,i,r,o,s,l,u=t._indexFields;for(n=0;n<u.length;++n){for(o=u[n],s=t._indexes[o],r=a.$(o),i=0;i<e.add.length;++i)l=r(e.add[i]),h.prev_init(e.add[i]),s[l]=(s[l]||0)+1;for(i=0;i<e.rem.length;++i)l=r(e.rem[i]),s[l]=(s[l]||0)-1;for(i=0;i<e.mod.length;++i)l=r(e.mod[i]._prev),s[l]=(s[l]||0)-1,l=r(e.mod[i]),s[l]=(s[l]||0)+1}}var n=new d(t._graph).router(!0).reflows(!0).collector(!0);return n.data=function(){return t._collector?t._collector.data():t._data},n.evaluate=function(n){l.debug(n,["output",t._name]),e(n);var i=u.create(n,!0);return t._facet&&(t._facet.values=t.values(),n.facet=null),t._output=n,i.data[t._name]=1,i},n}function s(t){var e=new d(t._graph).router(!0);return e.evaluate=function(e){if(t.mutates()){var n=t._srcMap||(t._srcMap={}),i=u.create(e);return i.add=e.add.map(function(t){return n[t._id]=h.derive(t)}),i.mod=e.mod.map(function(t){return h.rederive(t,n[t._id])}),i.rem=e.rem.map(function(t){var e=n[t._id];return n[t._id]=null,e}),t._input=i}return t._input=e},e}var a=t("datalib"),l=t("vega-logging"),u=t("./ChangeSet"),c=t("./Collector"),h=t("./Tuple"),d=t("./Node"),f=i.prototype;f.name=function(t){return arguments.length?(this._name=t,this):this._name},f.source=function(t){return arguments.length?this._source=this._graph.data(t):this._source},f.insert=function(t){return this._input.add=this._input.add.concat(t.map(h.ingest)),this},f.remove=function(t){var e=this._data.filter(t);return this._input.rem=this._input.rem.concat(e),this},f.update=function(t,e,n){var i=this._input.mod,r=h.idMap(i);return this._input.fields[e]=1,this._data.filter(t).forEach(function(t){var o=t[e],s=n(t);o!==s&&(h.set(t,e,s),1!==r[t._id]&&(i.push(t),r[t._id]=1))}),this},f.values=function(t){return arguments.length?(this._input.rem=this._data.slice(),t&&this.insert(t),this):this._collector.data()},f.mutates=function(t){return arguments.length?(this._mutates=this._mutates||t,this):this._mutates},f.last=function(){return this._output},f.fire=function(t){return t&&(this._input=t),this._graph.propagate(this._input,this._pipeline[0]),this},f.pipeline=function(t){if(!arguments.length)return this._pipeline;var e,n=this._graph;return t.unshift(this._inputNode=r(this)),e=n.preprocess(t),e.router&&t.push(e.collector=new c(n)),t.push(this._outputNode=o(this)),this._collector=e.collector,this._mutates=!!e.mutates,n.connect(this._pipeline=t),this},f.synchronize=function(){return this._graph.synchronize(this._pipeline),this},f.getIndex=function(t){var e,n,i,r,o=this.values(),s=this._indexes,l=this._indexFields,u=a.$(t);if(!s[t])for(s[t]=e={},l.push(t),n=0,i=o.length;i>n;++n)r=u(o[n]),e[r]=(e[r]||0)+1,h.prev_init(o[n]);return s[t]},f.listener=function(){return s(this).addListener(this._inputNode)},f.addListener=function(t){return t instanceof i?this._collector.addListener(t.listener()):this._outputNode.addListener(t),this},f.removeListener=function(t){this._outputNode.removeListener(t)},f.listeners=function(t){return(t?this._collector:this._outputNode).listeners()},e.exports=i},{"./ChangeSet":32,"./Collector":33,"./Node":38,"./Tuple":40,datalib:26,"vega-logging":48}],35:[function(t,e,n){var i=e.exports={ALL:["data","fields","scales","signals"]};i.ALL.forEach(function(t){i[t.toUpperCase()]=t})},{}],36:[function(t,e,n){function i(){}var r=t("datalib"),o=t("vega-logging"),s=t("./Heap"),a=t("./ChangeSet"),l=t("./DataSource"),u=t("./Collector"),c=t("./Tuple"),h=t("./Signal"),d=t("./Dependencies"),f=i.prototype;f.init=function(){this._stamp=0,this._rank=0,this._data={},this._signals={},this._requestedIndexes={},this.doNotPropagate={}},f.rank=function(){return++this._rank},f.values=function(t,e,n){var i,o,s=t===d.SIGNALS?this._signals:this._data,a=void 0!==e?e:r.keys(s);if(Array.isArray(a)){for(i=n||{},o=0;o<a.length;++o)i[a[o]]=s[a[o]].values();return i}return s[a].values()},f.dataValues=function(t){return this.values(d.DATA,t)},f.signalValues=function(t){return this.values(d.SIGNALS,t)},f.data=function(t,e,n){var i=this._data;if(arguments.length)return 1===arguments.length?i[t]:i[t]=new l(this,t,n).pipeline(e);var r,o=[];for(r in i)o.push(i[r]);return o},f.signal=function(t,e){if(1===arguments.length){var n=this;return Array.isArray(t)?t.map(function(t){return n._signals[t]}):this._signals[t]}return this._signals[t]=new h(this,t,e)},f.signalRef=function(t){Array.isArray(t)||(t=r.field(t));var e=this.signal(t[0]).value();if(t.length>1)for(var n=1,i=t.length;i>n;++n)e=e[t[n]];return e},f.requestIndex=function(t,e){var n=this._requestedIndexes,i=n[t]||(n[t]={});return i[e]=!0,this},f.buildIndexes=function(){var t,e,n,i,o,s,a,l,u=this._requestedIndexes,c=r.keys(u);for(t=0,e=c.length;e>t;++t){if(s=this.data(o=c[t]),!s)throw Error("Data source "+r.str(o)+" does not exist.");for(a=r.keys(u[o]),n=0,i=a.length;i>n;++n)null!==(l=a[n])&&(s.getIndex(l),u[o][l]=null)}return this},f.propagate=function(t,e,n,i){var r,o,l,u,c,d,f,p,g={},m=new s(function(t,e){return t._qrank-e._qrank});if(t.stamp)throw Error("Pulse already has a non-zero stamp.");for(t.stamp=n||++this._stamp,g[e._id]=t,m.push(e.qrank(!0));m.size()>0;)if(e=m.peek(),p=e instanceof h,t=g[e._id],e.rank()!==e.qrank())m.replace(e.qrank(!0));else if(m.pop(),g[e._id]=null,r=e._listeners,(!p||p&&!i)&&(t=this.evaluate(t,e)),t!==this.doNotPropagate)for(!t.reflow&&e.reflows()&&(t=a.create(t,!0)),d=0,f=r.length;f>d;++d)if(o=r[d],void 0!==(l=g[o._id])){if(null===l)throw Error("Already propagated to node.");if(l===t)continue;if(u=t.add.length||t.mod.length||t.rem.length,c=l.add.length||l.mod.length||l.rem.length,u&&c)throw Error("Multiple changeset pulses to same node");g[o._id]=u?t:l,g[o._id].reflow=t.reflow||l.reflow}else m.push(o.qrank(!0)),g[o._id]=t;return this.done(t)},f.done=function(t){o.debug(t,["bookkeeping"]);for(var e in t.data)this.data(e).synchronize();return this},f.preprocess=function(t){for(var e,n,i,r,o=this,s=0,a=0;a<t.length;++a)e=t[a],e.batch()&&!e._collector&&(n||!i?(e=new u(o),t.splice(a,0,e),n=!1):e._collector=i),(r=e.collector())&&(i=e),n=n||e.router()&&!r,s=s||e.mutates(),e.produces()&&(t.splice(a+1,0,new u(o)),n=!1);return{router:n,collector:i,mutates:s}},f.connect=function(t){var e,n,i,o,s,a,l,u,c,h;for(s=0,a=t.length;a>s;++s){for(n=t[s],n.collector()&&(e=n),i=n.dependency(d.DATA),l=0,u=i.length;u>l;++l){if(!(c=this.data(h=i[l])))throw new Error("Unknown data source "+r.str(h));c.addListener(e)}for(o=n.dependency(d.SIGNALS),l=0,u=o.length;u>l;++l){if(!(c=this.signal(h=o[l])))throw new Error("Unknown signal "+r.str(h));c.addListener(e)}s>0&&t[s-1].addListener(n)}return t},f.disconnect=function(t){var e,n,i,r,o,s,a,l;for(o=0,s=t.length;s>o;++o){for(n=t[o],n.collector()&&(e=n),i=n.dependency(d.DATA),a=0,l=i.length;l>a;++a)this.data(i[a]).removeListener(e);for(r=n.dependency(d.SIGNALS),a=0,l=r.length;l>a;++a)this.signal(r[a]).removeListener(e);n.disconnect()}return t},f.synchronize=function(t){var e,n,i,r,o,s,a,l,u={};for(i=0,r=t.length;r>i;++i)if(e=t[i],e.collector())for(o=0,n=e.data(),s=n.length;s>o;++o)l=(a=n[o])._id,u[l]||(c.prev_update(a),u[l]=1);return this},f.reevaluate=function(t,e){var n=t.reflow&&e.last()>=t.stamp,i=e.router()||t.add.length||t.rem.length;return i||!n||e.reevaluate(t)},f.evaluate=function(t,e){return this.reevaluate(t,e)?(t=e.evaluate(t),e.last(t.stamp),t):t},e.exports=i},{"./ChangeSet":32,"./Collector":33,"./DataSource":34,"./Dependencies":35,"./Heap":37,"./Signal":39,"./Tuple":40,datalib:26,"vega-logging":48}],37:[function(t,e,n){function i(t){this.cmp=t,this.nodes=[]}function r(t,e,n,i){var r,o,s;for(r=t[n];n>e&&(s=n-1>>1,o=t[s],i(r,o)<0);)t[n]=o,n=s;return t[n]=r}function o(t,e,n){for(var i,o=e,s=t.length,a=t[e],l=2*e+1;s>l;)i=l+1,s>i&&n(t[l],t[i])>=0&&(l=i),t[e]=t[l],e=l,l=2*e+1;return t[e]=a,r(t,o,e,n)}var s=i.prototype;s.size=function(){return this.nodes.length},s.clear=function(){return this.nodes=[],this},s.peek=function(){return this.nodes[0]},s.push=function(t){var e=this.nodes;return e.push(t),r(e,0,e.length-1,this.cmp)},s.pop=function(){var t,e=this.nodes,n=e.pop();return e.length?(t=e[0],e[0]=n,o(e,0,this.cmp)):t=n,t},s.replace=function(t){var e=this.nodes,n=e[0];return e[0]=t,o(e,0,this.cmp),n},s.pushpop=function(t){var e=this.nodes,n=e[0];return e.length&&this.cmp(n,t)<0&&(e[0]=t,t=n,o(e,0,this.cmp)),t},e.exports=i},{}],38:[function(t,e,n){function i(t){t&&this.init(t)}var r=t("./Dependencies").ALL,o=0,s=i.Flags={Router:1,Collector:2,Produces:4,Mutates:8,Reflows:16,Batch:32},a=i.prototype;a.init=function(t){this._id=++o,this._graph=t,this._rank=t.rank(),this._qrank=null,this._stamp=0,this._listeners=[],this._listeners._ids={},this._deps={};for(var e=0,n=r.length;n>e;++e)this._deps[r[e]]=[];return this._flags=0,this},a.rank=function(){return this._rank},a.rerank=function(){for(var t,e=this._graph,n=[this];n.length;)t=n.shift(),t._rank=e.rank(),n.unshift.apply(n,t.listeners());return this},a.qrank=function(){return arguments.length?(this._qrank=this._rank,this):this._qrank},a.last=function(t){return arguments.length?(this._stamp=t,this):this._stamp},a._setf=function(t,e){return e?this._flags|=t:this._flags&=~t,this},a.router=function(t){return arguments.length?this._setf(s.Router,t):this._flags&s.Router},a.collector=function(t){return arguments.length?this._setf(s.Collector,t):this._flags&s.Collector},a.produces=function(t){return arguments.length?this._setf(s.Produces,t):this._flags&s.Produces},a.mutates=function(t){return arguments.length?this._setf(s.Mutates,t):this._flags&s.Mutates},a.reflows=function(t){return arguments.length?this._setf(s.Reflows,t):this._flags&s.Reflows},a.batch=function(t){return arguments.length?this._setf(s.Batch,t):this._flags&s.Batch},a.dependency=function(t,e){var n=this._deps[t],i=n._names||(n._names={});if(1===arguments.length)return n;if(null===e)n.splice(0,n.length),n._names={};else if(Array.isArray(e))for(var r,o=0,s=e.length;s>o;++o)r=e[o],i[r]||(n.push(r),i[r]=1);else{if(i[e])return this;n.push(e),i[e]=1}return this},a.listeners=function(){return this._listeners},a.addListener=function(t){if(!(t instanceof i))throw Error("Listener is not a Node");return this._listeners._ids[t._id]?this:(this._listeners.push(t),this._listeners._ids[t._id]=1,this._rank>t._rank&&t.rerank(),this)},a.removeListener=function(t){if(!this._listeners._ids[t._id])return!1;var e=this._listeners.indexOf(t),n=e>=0;return n&&(this._listeners.splice(e,1),this._listeners._ids[t._id]=null),n},a.disconnect=function(){this._listeners=[],this._listeners._ids={}},a.evaluate=function(t){return t},a.reevaluate=function(t){var e,n,i,o,s,a;for(i=0,o=r.length;o>i;++i)for(e=r[i],n=this._deps[e],s=0,a=n.length;a>s;++s)if(t[e][n[s]])return!0;return!1},i.reset=function(){o=0},e.exports=i},{"./Dependencies":35}],39:[function(t,e,n){function i(t,e,n){return s.init.call(this,t),this._name=e,this._value=n,this._verbose=!1,this._handlers=[],this}var r=t("./ChangeSet"),o=t("./Node"),s=o.prototype,a=i.prototype=Object.create(s);a.constructor=i,a.name=function(){return this._name},a.value=function(t){return arguments.length?(this._value=t,this):this._value},a.values=a.value,a.verbose=function(t){return arguments.length?(this._verbose=!!t,this):this._verbose},a.evaluate=function(t){return t.signals[this._name]?t:this._graph.doNotPropagate},a.fire=function(t){t||(t=r.create(null,!0)),t.signals[this._name]=1,this._graph.propagate(t,this)},a.on=function(t){var e=this,n=new o(this._graph);return n.evaluate=function(n){return t(e.name(),e.value()),n},this._handlers.push({handler:t,node:n}),this.addListener(n)},a.off=function(t){var e,n,i=this._handlers;for(e=i.length;--e>=0;)t&&i[e].handler!==t||(n=i.splice(e,1)[0],this.removeListener(n.node));return this},e.exports=i},{"./ChangeSet":32,"./Node":38}],40:[function(t,e,n){function i(t){return t=t===Object(t)?t:{data:t},t._id=++s,t._prev&&(t._prev=null),t}function r(t,e){e=e||{};for(var n=0,i=t.length;i>n;++n)e[t[n]._id]=1;return e}function o(t,e){e=e||{};for(var n in t)"_prev"!==n&&"_id"!==n&&(e[n]=t[n]);return e}var s=0;e.exports={ingest:i,idMap:r,derive:function(t){return i(o(t))},rederive:function(t,e){return o(t,e)},set:function(t,e,n){return t[e]===n?0:(t[e]=n,1)},prev:function(t){return t._prev||t},prev_init:function(t){t._prev||(t._prev={_id:t._id})},prev_update:function(t){var e,n,i=t._prev;if(i)for(e in t)"_prev"!==e&&"_id"!==e&&(i[e]=(n=t[e])instanceof Object&&n._prev?n._prev:n)},reset:function(){s=0},idFilter:function(t){for(var e={},n=arguments.length;--n>0;)r(arguments[n],e);return t.filter(function(t){return!e[t._id]})}}},{}],41:[function(t,e,n){e.exports={ChangeSet:t("./ChangeSet"),Collector:t("./Collector"),DataSource:t("./DataSource"),Dependencies:t("./Dependencies"),Graph:t("./Graph"),Node:t("./Node"),Signal:t("./Signal"),Tuple:t("./Tuple"),debug:t("vega-logging").debug}},{"./ChangeSet":32,"./Collector":33,"./DataSource":34,"./Dependencies":35,"./Graph":36,"./Node":38,"./Signal":39,"./Tuple":40,"vega-logging":48}],42:[function(t,e,n){e.exports=function(){"use strict";function t(t,e){function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n}function e(t,n,i,r){this.message=t,this.expected=n,this.found=i,this.location=r,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,e)}function n(t){function n(e){var n,i,r=pe[e];if(r)return r;for(n=e-1;!pe[n];)n--;for(r=pe[n],r={line:r.line,column:r.column,seenCR:r.seenCR};e>n;)i=t.charAt(n),"\n"===i?(r.seenCR||r.line++,r.column=1,r.seenCR=!1):"\r"===i||"\u2028"===i||"\u2029"===i?(r.line++,r.column=1,r.seenCR=!0):(r.column++,r.seenCR=!1),n++;return pe[e]=r,r}function i(t,e){var i=n(t),r=n(e);return{start:{offset:t,line:i.line,column:i.column},end:{offset:e,line:r.line,column:r.column}}}function r(t){ge>de||(de>ge&&(ge=de,me=[]),me.push(t))}function o(t,n,i,r){function o(t){var e=1;for(t.sort(function(t,e){return t.description<e.description?-1:t.description>e.description?1:0});e<t.length;)t[e-1]===t[e]?t.splice(e,1):e++}function s(t,e){function n(t){function e(t){return t.charCodeAt(0).toString(16).toUpperCase()}return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(t){return"\\x0"+e(t)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(t){return"\\x"+e(t)}).replace(/[\u0100-\u0FFF]/g,function(t){return"\\u0"+e(t)}).replace(/[\u1000-\uFFFF]/g,function(t){return"\\u"+e(t)})}var i,r,o,s=new Array(t.length);for(o=0;o<t.length;o++)s[o]=t[o].description;return i=t.length>1?s.slice(0,-1).join(", ")+" or "+s[t.length-1]:s[0],r=e?'"'+n(e)+'"':"end of input","Expected "+i+" but "+r+" found."}return null!==n&&o(n),new e(null!==t?t:s(n,i),n,i,r)}function s(){var t;return t=a()}function a(){var e,n,i,o,s,u;return e=de,n=l(),n!==b?(i=v(),i!==b?(44===t.charCodeAt(de)?(o=x,de++):(o=b,0===ve&&r(E)),o!==b?(s=v(),s!==b?(u=a(),u!==b?(fe=e,n=_(n,u),e=n):(de=e,e=b)):(de=e,e=b)):(de=e,e=b)):(de=e,e=b)):(de=e,e=b),e===b&&(e=de,n=l(),n!==b&&(fe=e,n=F(n)),e=n),e}function l(){var e,n,i,o,s,a,c,h,d,f,p,g,m,y;return e=de,91===t.charCodeAt(de)?(n=k,de++):(n=b,0===ve&&r(S)),n!==b?(i=v(),i!==b?(o=u(),o!==b?(s=v(),s!==b?(44===t.charCodeAt(de)?(a=x,de++):(a=b,0===ve&&r(E)),a!==b?(c=v(),c!==b?(h=u(),h!==b?(d=v(),d!==b?(93===t.charCodeAt(de)?(f=D,de++):(f=b,0===ve&&r(M)),f!==b?(p=v(),p!==b?(62===t.charCodeAt(de)?(g=T,de++):(g=b,0===ve&&r($)),g!==b?(m=v(),m!==b?(y=l(),y!==b?(fe=e,n=L(o,h,y),e=n):(de=e,e=b)):(de=e,e=b)):(de=e,e=b)):(de=e,e=b)):(de=e,e=b)):(de=e,e=b)):(de=e,e=b)):(de=e,e=b)):(de=e,e=b)):(de=e,e=b)):(de=e,e=b)):(de=e,e=b)):(de=e,e=b),e===b&&(e=u()),e}function u(){var t,e,n,i;if(t=de,e=c(),e!==b){if(n=[],i=f(),i!==b)for(;i!==b;)n.push(i),i=f();else n=b;n!==b?(fe=t,e=B(e,n),t=e):(de=t,t=b)}else de=t,t=b;return t===b&&(t=de,e=c(),e!==b&&(fe=t,e=R(e)),t=e),t}function c(){var e,n,i,o,s;return e=de,40===t.charCodeAt(de)?(n=N,de++):(n=b,0===ve&&r(O)),n!==b?(i=a(),i!==b?(41===t.charCodeAt(de)?(o=I,de++):(o=b,0===ve&&r(P)),o!==b?(fe=e,n=z(i),e=n):(de=e,e=b)):(de=e,e=b)):(de=e,e=b),e===b&&(e=de,64===t.charCodeAt(de)?(n=j,de++):(n=b,0===ve&&r(H)),n!==b?(i=p(),i!==b?(58===t.charCodeAt(de)?(o=W,de++):(o=b,0===ve&&r(U)),o!==b?(s=d(),s!==b?(fe=e,n=q(i,s),e=n):(de=e,e=b)):(de=e,e=b)):(de=e,e=b)):(de=e,e=b),e===b&&(e=de,n=h(),n!==b?(58===t.charCodeAt(de)?(i=W,de++):(i=b,0===ve&&r(U)),i!==b?(o=d(),o!==b?(fe=e,n=V(n,o),e=n):(de=e,e=b)):(de=e,e=b)):(de=e,e=b),e===b&&(e=de,n=g(),n!==b?(58===t.charCodeAt(de)?(i=W,de++):(i=b,0===ve&&r(U)),i!==b?(o=d(),o!==b?(fe=e,n=G(n,o),e=n):(de=e,e=b)):(de=e,e=b)):(de=e,e=b),e===b&&(e=de,n=d(),n!==b&&(fe=e,n=K(n)),e=n,e===b&&(e=de,n=p(),n!==b&&(fe=e,n=Y(n)),e=n))))),e}function h(){var e;return t.substr(de,4)===X?(e=X,de+=4):(e=b,0===ve&&r(Q)),e===b&&(t.substr(de,6)===J?(e=J,de+=6):(e=b,0===ve&&r(Z)),e===b&&(t.substr(de,4)===tt?(e=tt,de+=4):(e=b,0===ve&&r(et)),e===b&&(t.substr(de,3)===nt?(e=nt,de+=3):(e=b,0===ve&&r(it)),e===b&&(t.substr(de,4)===rt?(e=rt,de+=4):(e=b,0===ve&&r(ot)),e===b&&(t.substr(de,4)===st?(e=st,de+=4):(e=b,0===ve&&r(at)),e===b&&(t.substr(de,4)===lt?(e=lt,de+=4):(e=b,0===ve&&r(ut)),e===b&&(t.substr(de,5)===ct?(e=ct,de+=5):(e=b,0===ve&&r(ht)),e===b&&(t.substr(de,4)===dt?(e=dt,de+=4):(e=b,0===ve&&r(ft)),e===b&&(t.substr(de,5)===pt?(e=pt,de+=5):(e=b,0===ve&&r(gt))))))))))),e}function d(){var e;return t.substr(de,9)===mt?(e=mt,de+=9):(e=b,0===ve&&r(vt)),e===b&&(t.substr(de,7)===yt?(e=yt,de+=7):(e=b,0===ve&&r(wt)),e===b&&(t.substr(de,5)===bt?(e=bt,de+=5):(e=b,0===ve&&r(At)),e===b&&(t.substr(de,8)===Ct?(e=Ct,de+=8):(e=b,0===ve&&r(xt)),e===b&&(t.substr(de,5)===Et?(e=Et,de+=5):(e=b,0===ve&&r(_t)),e===b&&(t.substr(de,7)===Ft?(e=Ft,de+=7):(e=b,0===ve&&r(kt)),e===b&&(t.substr(de,8)===St?(e=St,de+=8):(e=b,0===ve&&r(Dt)),e===b&&(t.substr(de,5)===Mt?(e=Mt,de+=5):(e=b,0===ve&&r(Tt)),e===b&&(t.substr(de,10)===$t?(e=$t,de+=10):(e=b,0===ve&&r(Lt)),e===b&&(t.substr(de,9)===Bt?(e=Bt,de+=9):(e=b,0===ve&&r(Rt)),e===b&&(t.substr(de,8)===Nt?(e=Nt,de+=8):(e=b,0===ve&&r(Ot)),e===b&&(t.substr(de,9)===It?(e=It,de+=9):(e=b,0===ve&&r(Pt)),e===b&&(t.substr(de,10)===zt?(e=zt,de+=10):(e=b,0===ve&&r(jt)),e===b&&(t.substr(de,10)===Ht?(e=Ht,de+=10):(e=b,0===ve&&r(Wt)),e===b&&(t.substr(de,9)===Ut?(e=Ut,de+=9):(e=b,0===ve&&r(qt)),e===b&&(t.substr(de,8)===Vt?(e=Vt,de+=8):(e=b,0===ve&&r(Gt)),e===b&&(t.substr(de,9)===Kt?(e=Kt,de+=9):(e=b,0===ve&&r(Yt)),e===b&&(t.substr(de,8)===Xt?(e=Xt,de+=8):(e=b,0===ve&&r(Qt)),e===b&&(t.substr(de,9)===Jt?(e=Jt,de+=9):(e=b,0===ve&&r(Zt)))))))))))))))))))),e}function f(){var e,n,i,o;return e=de,91===t.charCodeAt(de)?(n=k,de++):(n=b,0===ve&&r(S)),n!==b?(i=m(),i!==b?(93===t.charCodeAt(de)?(o=D,de++):(o=b,0===ve&&r(M)),o!==b?(fe=e,n=te(i),e=n):(de=e,e=b)):(de=e,e=b)):(de=e,e=b),e}function p(){var e,n,i;if(e=de,n=[],ee.test(t.charAt(de))?(i=t.charAt(de),de++):(i=b,0===ve&&r(ne)),i!==b)for(;i!==b;)n.push(i),ee.test(t.charAt(de))?(i=t.charAt(de),de++):(i=b,0===ve&&r(ne));else n=b;return n!==b&&(fe=e,n=ie(n)),e=n}function g(){var e,n,i;if(e=de,n=[],re.test(t.charAt(de))?(i=t.charAt(de),de++):(i=b,0===ve&&r(oe)),i!==b)for(;i!==b;)n.push(i),re.test(t.charAt(de))?(i=t.charAt(de),de++):(i=b,0===ve&&r(oe));else n=b;return n!==b&&(fe=e,n=se(n)),e=n}function m(){var e,n,i;if(e=de,n=[],ae.test(t.charAt(de))?(i=t.charAt(de),de++):(i=b,0===ve&&r(le)),i!==b)for(;i!==b;)n.push(i),ae.test(t.charAt(de))?(i=t.charAt(de),de++):(i=b,0===ve&&r(le));else n=b;return n!==b&&(fe=e,n=ue(n)),e=n}function v(){var e,n;for(e=[],ce.test(t.charAt(de))?(n=t.charAt(de),de++):(n=b,0===ve&&r(he));n!==b;)e.push(n),ce.test(t.charAt(de))?(n=t.charAt(de),de++):(n=b,0===ve&&r(he));return e}var y,w=arguments.length>1?arguments[1]:{},b={},A={start:s},C=s,x=",",E={type:"literal",value:",",description:'","'},_=function(t,e){return[t].concat(e)},F=function(t){return[t]},k="[",S={type:"literal",value:"[",description:'"["'},D="]",M={type:"literal",value:"]",description:'"]"'},T=">",$={type:"literal",value:">",description:'">"'},L=function(t,e,n){return{start:t,middle:n,end:e,str:"["+t.str+", "+e.str+"] > "+n.str}},B=function(t,e){return t.filters=e,t.str+=e.map(function(t){return"["+t+"]"}).join(""),t},R=function(t){return t},N="(",O={type:"literal",value:"(",description:'"("'},I=")",P={type:"literal",value:")",description:'")"'},z=function(t){return{stream:t,str:"("+t.map(function(t){return t.str}).join(", ")+")"}},j="@",H={type:"literal",value:"@",description:'"@"'},W=":",U={type:"literal",value:":",description:'":"'},q=function(t,e){return{event:e,name:t,str:"@"+t+":"+e}},V=function(t,e){return{event:e,mark:t,str:t+":"+e}},G=function(t,e){return{event:e,target:t,str:t+":"+e}},K=function(t){return{event:t,str:t}},Y=function(t){return{signal:t,str:t}},X="rect",Q={type:"literal",value:"rect",description:'"rect"'},J="symbol",Z={type:"literal",value:"symbol",description:'"symbol"'},tt="path",et={type:"literal",value:"path",description:'"path"'},nt="arc",it={type:"literal",value:"arc",description:'"arc"'},rt="area",ot={type:"literal",value:"area",description:'"area"'},st="line",at={type:"literal",value:"line",description:'"line"'},lt="rule",ut={type:"literal",value:"rule",description:'"rule"'},ct="image",ht={type:"literal",value:"image",description:'"image"'},dt="text",ft={type:"literal",value:"text",description:'"text"'},pt="group",gt={type:"literal",value:"group",description:'"group"'},mt="mousedown",vt={type:"literal",value:"mousedown",description:'"mousedown"'},yt="mouseup",wt={type:"literal",value:"mouseup",description:'"mouseup"'},bt="click",At={type:"literal",value:"click",description:'"click"'},Ct="dblclick",xt={type:"literal",value:"dblclick",description:'"dblclick"'},Et="wheel",_t={type:"literal",value:"wheel",description:'"wheel"'},Ft="keydown",kt={type:"literal",value:"keydown",description:'"keydown"'},St="keypress",Dt={type:"literal",value:"keypress",description:'"keypress"'},Mt="keyup",Tt={type:"literal",value:"keyup",description:'"keyup"'},$t="mousewheel",Lt={type:"literal",value:"mousewheel",description:'"mousewheel"'},Bt="mousemove",Rt={type:"literal",value:"mousemove",description:'"mousemove"'},Nt="mouseout",Ot={type:"literal",value:"mouseout",description:'"mouseout"'},It="mouseover",Pt={type:"literal",value:"mouseover",description:'"mouseover"'},zt="mouseenter",jt={type:"literal",value:"mouseenter",description:'"mouseenter"'},Ht="touchstart",Wt={type:"literal",value:"touchstart",description:'"touchstart"'},Ut="touchmove",qt={type:"literal",value:"touchmove",description:'"touchmove"'},Vt="touchend",Gt={type:"literal",value:"touchend",description:'"touchend"'},Kt="dragenter",Yt={type:"literal",value:"dragenter",description:'"dragenter"'},Xt="dragover",Qt={type:"literal",value:"dragover",description:'"dragover"'},Jt="dragleave",Zt={type:"literal",value:"dragleave",description:'"dragleave"'},te=function(t){return t},ee=/^[a-zA-Z0-9_\-]/,ne={type:"class",value:"[a-zA-Z0-9_-]",description:"[a-zA-Z0-9_-]"},ie=function(t){return t.join("")},re=/^[a-zA-Z0-9\-_  #.>+~[\]=|\^$*]/,oe={type:"class",value:"[a-zA-Z0-9-_  #\\.\\>\\+~\\[\\]=|\\^\\$\\*]",description:"[a-zA-Z0-9-_  #\\.\\>\\+~\\[\\]=|\\^\\$\\*]"},se=function(t){return t.join("")},ae=/^['"a-zA-Z0-9_().><=! \t-&|~]/,le={type:"class",value:"['\"a-zA-Z0-9_\\(\\)\\.\\>\\<\\=\\! \\t-&|~]",description:"['\"a-zA-Z0-9_\\(\\)\\.\\>\\<\\=\\! \\t-&|~]"},ue=function(t){return t.join("")},ce=/^[ \t\r\n]/,he={type:"class",value:"[ \\t\\r\\n]",description:"[ \\t\\r\\n]"},de=0,fe=0,pe=[{line:1,column:1,seenCR:!1}],ge=0,me=[],ve=0;if("startRule"in w){if(!(w.startRule in A))throw new Error("Can't start parsing from rule \""+w.startRule+'".');C=A[w.startRule]}if(y=C(),y!==b&&de===t.length)return y;throw y!==b&&de<t.length&&r({type:"end",description:"end of input"}),o(null,me,ge<t.length?t.charAt(ge):null,ge<t.length?i(ge,ge+1):i(ge,ge))}return t(e,Error),{SyntaxError:e,parse:n}}()},{}],43:[function(t,e,n){function i(t){var e,n,i={};for(e=0,n=t.length;n>e;++e)i[t[e]]=1;return i}function r(t){var e,n=[];for(e in t)n.push(e);return n}e.exports=function(e){function n(t){var e={code:o(t),globals:r(p),fields:r(g),dataSources:r(m),defs:l};return p={},g={},m={},e}function o(t){if("string"==typeof t)return t;var e=y[t.type];if(null==e)throw new Error("Unsupported type: "+t.type);return e(t)}e=e||{};var s=e.constants||t("./constants"),a=(e.functions||t("./functions"))(o),l=e.functionDefs?e.functionDefs(o):{},u=e.idWhiteList?i(e.idWhiteList):null,c=e.idBlackList?i(e.idBlackList):null,h=0,d=e.fieldVar||"datum",f=e.globalVar||"signals",p={},g={},m={},v="function"==typeof f?f:function(t){return f+'["'+t+'"]'},y={Literal:function(t){return t.raw},Identifier:function(t){var e=t.name;if(h>0)return e;if(s.hasOwnProperty(e))return s[e];if(u)return u.hasOwnProperty(e)?e:(p[e]=1,v(e));if(c&&c.hasOwnProperty(e))throw new Error("Illegal identifier: "+e);return e},Program:function(t){return t.body.map(o).join("\n")},MemberExpression:function(t){var e=!t.computed,n=o(t.object);e&&(h+=1);var i=o(t.property);return n===d&&(g[i]=1),e&&(h-=1),n+(e?"."+i:"["+i+"]")},CallExpression:function(t){if("Identifier"!==t.callee.type)throw new Error("Illegal callee type: "+t.callee.type);var e=t.callee.name,n=t.arguments,i=a.hasOwnProperty(e)&&a[e];if(!i)throw new Error("Unrecognized function: "+e);return i instanceof Function?i(n,p,g,m):i+"("+n.map(o).join(",")+")"},ArrayExpression:function(t){return"["+t.elements.map(o).join(",")+"]"},BinaryExpression:function(t){return"("+o(t.left)+t.operator+o(t.right)+")"},UnaryExpression:function(t){return"("+t.operator+o(t.argument)+")"},ConditionalExpression:function(t){return"("+o(t.test)+"?"+o(t.consequent)+":"+o(t.alternate)+")"},LogicalExpression:function(t){return"("+o(t.left)+t.operator+o(t.right)+")"},ObjectExpression:function(t){return"{"+t.properties.map(o).join(",")+"}"},Property:function(t){h+=1;var e=o(t.key);return h-=1,e+":"+o(t.value)},ExpressionStatement:function(t){return o(t.expression)}};return n.functions=a,n.functionDefs=l,n.constants=s,n}},{"./constants":44,"./functions":45}],44:[function(t,e,n){e.exports={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2"}},{}],45:[function(t,e,n){e.exports=function(t){function e(e,n,i,r){var o=t(n[0]);return i&&(o=i+"("+o+")",0===i.lastIndexOf("new ",0)&&(o="("+o+")")),o+"."+e+(0>r?"":0===r?"()":"("+n.slice(1).map(t).join(",")+")")}function n(t,n,i){return function(r){return e(t,r,n,i)}}var i="new Date",r="String",o="RegExp";return{isNaN:"isNaN",isFinite:"isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(e){if(e.length<3)throw new Error("Missing arguments to clamp function.");if(e.length>3)throw new Error("Too many arguments to clamp function.");var n=e.map(t);return"Math.max("+n[1]+", Math.min("+n[2]+","+n[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:i,date:n("getDate",i,0),day:n("getDay",i,0),year:n("getFullYear",i,0),month:n("getMonth",i,0),hours:n("getHours",i,0),minutes:n("getMinutes",i,0),seconds:n("getSeconds",i,0),milliseconds:n("getMilliseconds",i,0),time:n("getTime",i,0),timezoneoffset:n("getTimezoneOffset",i,0),utcdate:n("getUTCDate",i,0),utcday:n("getUTCDay",i,0),utcyear:n("getUTCFullYear",i,0),utcmonth:n("getUTCMonth",i,0),utchours:n("getUTCHours",i,0),utcminutes:n("getUTCMinutes",i,0),utcseconds:n("getUTCSeconds",i,0),utcmilliseconds:n("getUTCMilliseconds",i,0),length:n("length",null,-1),indexof:n("indexOf",null),lastindexof:n("lastIndexOf",null),parseFloat:"parseFloat",parseInt:"parseInt",upper:n("toUpperCase",r,0),lower:n("toLowerCase",r,0),slice:n("slice",r),substring:n("substring",r),replace:n("replace",r),regexp:o,test:n("test",o),"if":function(e){if(e.length<3)throw new Error("Missing arguments to if function.");if(e.length>3)throw new Error("Too many arguments to if function.");var n=e.map(t);return n[0]+"?"+n[1]+":"+n[2]}}}},{}],46:[function(t,e,n){var i=t("./parser"),r=t("./codegen"),o=e.exports={parse:function(t,e){return i.parse("("+t+")",e)},code:function(t){return r(t)},compiler:function(t,e){t=t.slice();var n=r(e),i=t.length,s=function(e){var r=n(o.parse(e));t[i]='"use strict"; return ('+r.code+");";var s=Function.apply(null,t);return r.fn=t.length>8?function(){return s.apply(r,arguments)}:function(t,e,n,i,o,a,l){return s.call(r,t,e,n,i,o,a,l)},r};return s.codegen=n,s},functions:t("./functions"),constants:t("./constants")}},{"./codegen":43,"./constants":44,"./functions":45,"./parser":47}],47:[function(t,e,n){e.exports=function(){"use strict";function t(t,e){if(!t)throw new Error("ASSERT: "+e)}function e(t){return t>=48&&57>=t}function n(t){return"0123456789abcdefABCDEF".indexOf(t)>=0}function i(t){return"01234567".indexOf(t)>=0}function r(t){return 32===t||9===t||11===t||12===t||160===t||t>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(t)>=0}function o(t){return 10===t||13===t||8232===t||8233===t}function s(t){return 36===t||95===t||t>=65&&90>=t||t>=97&&122>=t||92===t||t>=128&&Et.NonAsciiIdentifierStart.test(String.fromCharCode(t))}function a(t){return 36===t||95===t||t>=65&&90>=t||t>=97&&122>=t||t>=48&&57>=t||92===t||t>=128&&Et.NonAsciiIdentifierPart.test(String.fromCharCode(t))}function l(t){switch(t){case"class":case"enum":case"export":case"extends":case"import":case"super":return!0;default:return!1}}function u(t){switch(t){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}}function c(t){if(Ft&&u(t))return!0;switch(t.length){case 2:return"if"===t||"in"===t||"do"===t;case 3:return"var"===t||"for"===t||"new"===t||"try"===t||"let"===t;case 4:return"this"===t||"else"===t||"case"===t||"void"===t||"with"===t||"enum"===t;case 5:return"while"===t||"break"===t||"catch"===t||"throw"===t||"const"===t||"yield"===t||"class"===t||"super"===t;case 6:return"return"===t||"typeof"===t||"delete"===t||"switch"===t||"export"===t||"import"===t;case 7:return"default"===t||"finally"===t||"extends"===t;case 8:return"function"===t||"continue"===t||"debugger"===t;case 10:return"instanceof"===t;default:return!1}}function h(){var t,e;for(e=0===kt;Mt>kt;)if(t=_t.charCodeAt(kt),r(t))++kt;else{if(!o(t))break;++kt,13===t&&10===_t.charCodeAt(kt)&&++kt,
++St,Dt=kt,e=!0}}function d(t){var e,i,r,o=0;for(i="u"===t?4:2,e=0;i>e;++e){if(!(Mt>kt&&n(_t[kt])))return"";r=_t[kt++],o=16*o+"0123456789abcdef".indexOf(r.toLowerCase())}return String.fromCharCode(o)}function f(){var t,e,i,r;for(t=_t[kt],e=0,"}"===t&&P({},xt.UnexpectedToken,"ILLEGAL");Mt>kt&&(t=_t[kt++],n(t));)e=16*e+"0123456789abcdef".indexOf(t.toLowerCase());return(e>1114111||"}"!==t)&&P({},xt.UnexpectedToken,"ILLEGAL"),65535>=e?String.fromCharCode(e):(i=(e-65536>>10)+55296,r=(e-65536&1023)+56320,String.fromCharCode(i,r))}function p(){var t,e;for(t=_t.charCodeAt(kt++),e=String.fromCharCode(t),92===t&&(117!==_t.charCodeAt(kt)&&P({},xt.UnexpectedToken,"ILLEGAL"),++kt,t=d("u"),t&&"\\"!==t&&s(t.charCodeAt(0))||P({},xt.UnexpectedToken,"ILLEGAL"),e=t);Mt>kt&&(t=_t.charCodeAt(kt),a(t));)++kt,e+=String.fromCharCode(t),92===t&&(e=e.substr(0,e.length-1),117!==_t.charCodeAt(kt)&&P({},xt.UnexpectedToken,"ILLEGAL"),++kt,t=d("u"),t&&"\\"!==t&&a(t.charCodeAt(0))||P({},xt.UnexpectedToken,"ILLEGAL"),e+=t);return e}function g(){var t,e;for(t=kt++;Mt>kt;){if(e=_t.charCodeAt(kt),92===e)return kt=t,p();if(!a(e))break;++kt}return _t.slice(t,kt)}function m(){var t,e,n;return t=kt,e=92===_t.charCodeAt(kt)?p():g(),n=1===e.length?wt.Identifier:c(e)?wt.Keyword:"null"===e?wt.NullLiteral:"true"===e||"false"===e?wt.BooleanLiteral:wt.Identifier,{type:n,value:e,lineNumber:St,lineStart:Dt,start:t,end:kt}}function v(){var t,e,n,i,r=kt,o=_t.charCodeAt(kt),s=_t[kt];switch(o){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++kt,Lt.tokenize&&(40===o?Lt.openParenToken=Lt.tokens.length:123===o&&(Lt.openCurlyToken=Lt.tokens.length)),{type:wt.Punctuator,value:String.fromCharCode(o),lineNumber:St,lineStart:Dt,start:r,end:kt};default:if(t=_t.charCodeAt(kt+1),61===t)switch(o){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return kt+=2,{type:wt.Punctuator,value:String.fromCharCode(o)+String.fromCharCode(t),lineNumber:St,lineStart:Dt,start:r,end:kt};case 33:case 61:return kt+=2,61===_t.charCodeAt(kt)&&++kt,{type:wt.Punctuator,value:_t.slice(r,kt),lineNumber:St,lineStart:Dt,start:r,end:kt}}}return i=_t.substr(kt,4),">>>="===i?(kt+=4,{type:wt.Punctuator,value:i,lineNumber:St,lineStart:Dt,start:r,end:kt}):(n=i.substr(0,3),">>>"===n||"<<="===n||">>="===n?(kt+=3,{type:wt.Punctuator,value:n,lineNumber:St,lineStart:Dt,start:r,end:kt}):(e=n.substr(0,2),s===e[1]&&"+-<>&|".indexOf(s)>=0||"=>"===e?(kt+=2,{type:wt.Punctuator,value:e,lineNumber:St,lineStart:Dt,start:r,end:kt}):"<>=!+-*%&|^/".indexOf(s)>=0?(++kt,{type:wt.Punctuator,value:s,lineNumber:St,lineStart:Dt,start:r,end:kt}):void P({},xt.UnexpectedToken,"ILLEGAL")))}function y(t){for(var e="";Mt>kt&&n(_t[kt]);)e+=_t[kt++];return 0===e.length&&P({},xt.UnexpectedToken,"ILLEGAL"),s(_t.charCodeAt(kt))&&P({},xt.UnexpectedToken,"ILLEGAL"),{type:wt.NumericLiteral,value:parseInt("0x"+e,16),lineNumber:St,lineStart:Dt,start:t,end:kt}}function w(t){for(var n="0"+_t[kt++];Mt>kt&&i(_t[kt]);)n+=_t[kt++];return(s(_t.charCodeAt(kt))||e(_t.charCodeAt(kt)))&&P({},xt.UnexpectedToken,"ILLEGAL"),{type:wt.NumericLiteral,value:parseInt(n,8),octal:!0,lineNumber:St,lineStart:Dt,start:t,end:kt}}function b(){var n,r,o;if(o=_t[kt],t(e(o.charCodeAt(0))||"."===o,"Numeric literal must start with a decimal digit or a decimal point"),r=kt,n="","."!==o){if(n=_t[kt++],o=_t[kt],"0"===n){if("x"===o||"X"===o)return++kt,y(r);if(i(o))return w(r);o&&e(o.charCodeAt(0))&&P({},xt.UnexpectedToken,"ILLEGAL")}for(;e(_t.charCodeAt(kt));)n+=_t[kt++];o=_t[kt]}if("."===o){for(n+=_t[kt++];e(_t.charCodeAt(kt));)n+=_t[kt++];o=_t[kt]}if("e"===o||"E"===o)if(n+=_t[kt++],o=_t[kt],"+"!==o&&"-"!==o||(n+=_t[kt++]),e(_t.charCodeAt(kt)))for(;e(_t.charCodeAt(kt));)n+=_t[kt++];else P({},xt.UnexpectedToken,"ILLEGAL");return s(_t.charCodeAt(kt))&&P({},xt.UnexpectedToken,"ILLEGAL"),{type:wt.NumericLiteral,value:parseFloat(n),lineNumber:St,lineStart:Dt,start:r,end:kt}}function A(){var e,n,r,s,a,l,u,c,h="",p=!1;for(u=St,c=Dt,e=_t[kt],t("'"===e||'"'===e,"String literal must starts with a quote"),n=kt,++kt;Mt>kt;){if(r=_t[kt++],r===e){e="";break}if("\\"===r)if(r=_t[kt++],r&&o(r.charCodeAt(0)))++St,"\r"===r&&"\n"===_t[kt]&&++kt,Dt=kt;else switch(r){case"u":case"x":"{"===_t[kt]?(++kt,h+=f()):(l=kt,a=d(r),a?h+=a:(kt=l,h+=r));break;case"n":h+="\n";break;case"r":h+="\r";break;case"t":h+="	";break;case"b":h+="\b";break;case"f":h+="\f";break;case"v":h+="\x0B";break;default:i(r)?(s="01234567".indexOf(r),0!==s&&(p=!0),Mt>kt&&i(_t[kt])&&(p=!0,s=8*s+"01234567".indexOf(_t[kt++]),"0123".indexOf(r)>=0&&Mt>kt&&i(_t[kt])&&(s=8*s+"01234567".indexOf(_t[kt++]))),h+=String.fromCharCode(s)):h+=r}else{if(o(r.charCodeAt(0)))break;h+=r}}return""!==e&&P({},xt.UnexpectedToken,"ILLEGAL"),{type:wt.StringLiteral,value:h,octal:p,startLineNumber:u,startLineStart:c,lineNumber:St,lineStart:Dt,start:n,end:kt}}function C(t,e){var n,i=t;e.indexOf("u")>=0&&(i=i.replace(/\\u\{([0-9a-fA-F]+)\}/g,function(t,e){return parseInt(e,16)<=1114111?"x":void P({},xt.InvalidRegExp)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{n=new RegExp(i)}catch(r){P({},xt.InvalidRegExp)}try{return new RegExp(t,e)}catch(o){return null}}function x(){var e,n,i,r,s;for(e=_t[kt],t("/"===e,"Regular expression literal must start with a slash"),n=_t[kt++],i=!1,r=!1;Mt>kt;)if(e=_t[kt++],n+=e,"\\"===e)e=_t[kt++],o(e.charCodeAt(0))&&P({},xt.UnterminatedRegExp),n+=e;else if(o(e.charCodeAt(0)))P({},xt.UnterminatedRegExp);else if(i)"]"===e&&(i=!1);else{if("/"===e){r=!0;break}"["===e&&(i=!0)}return r||P({},xt.UnterminatedRegExp),s=n.substr(1,n.length-2),{value:s,literal:n}}function E(){var t,e,n,i;for(e="",n="";Mt>kt&&(t=_t[kt],a(t.charCodeAt(0)));)if(++kt,"\\"===t&&Mt>kt)if(t=_t[kt],"u"===t){if(++kt,i=kt,t=d("u"))for(n+=t,e+="\\u";kt>i;++i)e+=_t[i];else kt=i,n+="u",e+="\\u";z({},xt.UnexpectedToken,"ILLEGAL")}else e+="\\",z({},xt.UnexpectedToken,"ILLEGAL");else n+=t,e+=t;return{value:n,literal:e}}function _(){var t,e,n,i;return Tt=null,h(),t=kt,e=x(),n=E(),i=C(e.value,n.value),Lt.tokenize?{type:wt.RegularExpression,value:i,regex:{pattern:e.value,flags:n.value},lineNumber:St,lineStart:Dt,start:t,end:kt}:{literal:e.literal+n.literal,value:i,regex:{pattern:e.value,flags:n.value},start:t,end:kt}}function F(){var t,e,n,i;return h(),t=kt,e={start:{line:St,column:kt-Dt}},n=_(),e.end={line:St,column:kt-Dt},Lt.tokenize||(Lt.tokens.length>0&&(i=Lt.tokens[Lt.tokens.length-1],i.range[0]===t&&"Punctuator"===i.type&&("/"!==i.value&&"/="!==i.value||Lt.tokens.pop())),Lt.tokens.push({type:"RegularExpression",value:n.literal,regex:n.regex,range:[t,kt],loc:e})),n}function k(t){return t.type===wt.Identifier||t.type===wt.Keyword||t.type===wt.BooleanLiteral||t.type===wt.NullLiteral}function S(){var t,e;if(t=Lt.tokens[Lt.tokens.length-1],!t)return F();if("Punctuator"===t.type){if("]"===t.value)return v();if(")"===t.value)return e=Lt.tokens[Lt.openParenToken-1],!e||"Keyword"!==e.type||"if"!==e.value&&"while"!==e.value&&"for"!==e.value&&"with"!==e.value?v():F();if("}"===t.value){if(Lt.tokens[Lt.openCurlyToken-3]&&"Keyword"===Lt.tokens[Lt.openCurlyToken-3].type){if(e=Lt.tokens[Lt.openCurlyToken-4],!e)return v()}else{if(!Lt.tokens[Lt.openCurlyToken-4]||"Keyword"!==Lt.tokens[Lt.openCurlyToken-4].type)return v();if(e=Lt.tokens[Lt.openCurlyToken-5],!e)return F()}return v()}return F()}return"Keyword"===t.type&&"this"!==t.value?F():v()}function D(){var t;return h(),kt>=Mt?{type:wt.EOF,lineNumber:St,lineStart:Dt,start:kt,end:kt}:(t=_t.charCodeAt(kt),s(t)?m():40===t||41===t||59===t?v():39===t||34===t?A():46===t?e(_t.charCodeAt(kt+1))?b():v():e(t)?b():Lt.tokenize&&47===t?S():v())}function M(){var t,e,n,i;return h(),t={start:{line:St,column:kt-Dt}},e=D(),t.end={line:St,column:kt-Dt},e.type!==wt.EOF&&(n=_t.slice(e.start,e.end),i={type:bt[e.type],value:n,range:[e.start,e.end],loc:t},e.regex&&(i.regex={pattern:e.regex.pattern,flags:e.regex.flags}),Lt.tokens.push(i)),e}function T(){var t;return t=Tt,kt=t.end,St=t.lineNumber,Dt=t.lineStart,Tt="undefined"!=typeof Lt.tokens?M():D(),kt=t.end,St=t.lineNumber,Dt=t.lineStart,t}function $(){var t,e,n;t=kt,e=St,n=Dt,Tt="undefined"!=typeof Lt.tokens?M():D(),kt=t,St=e,Dt=n}function L(){this.line=St,this.column=kt-Dt}function B(){this.start=new L,this.end=null}function R(t){t.type===wt.StringLiteral?this.start={line:t.startLineNumber,column:t.start-t.startLineStart}:this.start={line:t.lineNumber,column:t.start-t.lineStart},this.end=null}function N(){kt=Tt.start,Tt.type===wt.StringLiteral?(St=Tt.startLineNumber,Dt=Tt.startLineStart):(St=Tt.lineNumber,Dt=Tt.lineStart),Lt.range&&(this.range=[kt,0]),Lt.loc&&(this.loc=new B)}function O(t){Lt.range&&(this.range=[t.start,0]),Lt.loc&&(this.loc=new R(t))}function I(){var t,e,n,i;return t=kt,e=St,n=Dt,h(),i=St!==e,kt=t,St=e,Dt=n,i}function P(e,n){var i,r=Array.prototype.slice.call(arguments,2),o=n.replace(/%(\d)/g,function(e,n){return t(n<r.length,"Message reference must be in range"),r[n]});throw"number"==typeof e.lineNumber?(i=new Error("Line "+e.lineNumber+": "+o),i.index=e.start,i.lineNumber=e.lineNumber,i.column=e.start-Dt+1):(i=new Error("Line "+St+": "+o),i.index=kt,i.lineNumber=St,i.column=kt-Dt+1),i.description=o,i}function z(){try{P.apply(null,arguments)}catch(t){if(!Lt.errors)throw t;Lt.errors.push(t)}}function j(t){if(t.type===wt.EOF&&P(t,xt.UnexpectedEOS),t.type===wt.NumericLiteral&&P(t,xt.UnexpectedNumber),t.type===wt.StringLiteral&&P(t,xt.UnexpectedString),t.type===wt.Identifier&&P(t,xt.UnexpectedIdentifier),t.type===wt.Keyword){if(l(t.value))P(t,xt.UnexpectedReserved);else if(Ft&&u(t.value))return void z(t,xt.StrictReservedWord);P(t,xt.UnexpectedToken,t.value)}P(t,xt.UnexpectedToken,t.value)}function H(t){var e=T();e.type===wt.Punctuator&&e.value===t||j(e)}function W(t){if(Lt.errors){var e=Tt;e.type!==wt.Punctuator&&e.value!==t?z(e,xt.UnexpectedToken,e.value):T()}else H(t)}function U(t){return Tt.type===wt.Punctuator&&Tt.value===t}function q(t){return Tt.type===wt.Keyword&&Tt.value===t}function V(){var t;return 59===_t.charCodeAt(kt)||U(";")?void T():(t=St,h(),void(St===t&&(Tt.type===wt.EOF||U("}")||j(Tt))))}function G(){var t=[],e=new N;for(H("[");!U("]");)U(",")?(T(),t.push(null)):(t.push(ut()),U("]")||H(","));return T(),e.finishArrayExpression(t)}function K(){var t,e=new N;return t=T(),t.type===wt.StringLiteral||t.type===wt.NumericLiteral?(Ft&&t.octal&&z(t,xt.StrictOctalLiteral),e.finishLiteral(t)):e.finishIdentifier(t.value)}function Y(){var t,e,n,i,r=new N;return t=Tt,t.type===wt.Identifier?(n=K(),H(":"),i=ut(),r.finishProperty("init",n,i)):t.type!==wt.EOF&&t.type!==wt.Punctuator?(e=K(),H(":"),i=ut(),r.finishProperty("init",e,i)):void j(t)}function X(){var t,e,n,i,r=[],o={},s=String,a=new N;for(H("{");!U("}");)t=Y(),e=t.key.type===At.Identifier?t.key.name:s(t.key.value),i="init"===t.kind?Ct.Data:"get"===t.kind?Ct.Get:Ct.Set,n="$"+e,Object.prototype.hasOwnProperty.call(o,n)?(o[n]===Ct.Data?Ft&&i===Ct.Data?z({},xt.StrictDuplicateProperty):i!==Ct.Data&&z({},xt.AccessorDataProperty):i===Ct.Data?z({},xt.AccessorDataProperty):o[n]&i&&z({},xt.AccessorGetSet),o[n]|=i):o[n]=i,r.push(t),U("}")||W(",");return H("}"),a.finishObjectExpression(r)}function Q(){var t;return H("("),++$t.parenthesisCount,t=ct(),H(")"),t}function J(){var t,e,n,i;if(U("("))return Q();if(U("["))return G();if(U("{"))return X();if(t=Tt.type,i=new N,t===wt.Identifier||Bt[Tt.value])n=i.finishIdentifier(T().value);else if(t===wt.StringLiteral||t===wt.NumericLiteral)Ft&&Tt.octal&&z(Tt,xt.StrictOctalLiteral),n=i.finishLiteral(T());else{if(t===wt.Keyword)throw new Error("Disabled.");t===wt.BooleanLiteral?(e=T(),e.value="true"===e.value,n=i.finishLiteral(e)):t===wt.NullLiteral?(e=T(),e.value=null,n=i.finishLiteral(e)):U("/")||U("/=")?(n="undefined"!=typeof Lt.tokens?i.finishLiteral(F()):i.finishLiteral(_()),$()):j(T())}return n}function Z(){var t=[];if(H("("),!U(")"))for(;Mt>kt&&(t.push(ut()),!U(")"));)W(",");return H(")"),t}function tt(){var t,e=new N;return t=T(),k(t)||j(t),e.finishIdentifier(t.value)}function et(){return H("."),tt()}function nt(){var t;return H("["),t=ct(),H("]"),t}function it(){var t,e,n,i,r=$t.allowIn;for(i=Tt,$t.allowIn=!0,t=J();;)if(U("."))n=et(),t=new O(i).finishMemberExpression(".",t,n);else if(U("("))e=Z(),t=new O(i).finishCallExpression(t,e);else{if(!U("["))break;n=nt(),t=new O(i).finishMemberExpression("[",t,n)}return $t.allowIn=r,t}function rt(){var t=it();if(Tt.type===wt.Punctuator&&(U("++")||U("--"))&&!I())throw new Error("Disabled.");return t}function ot(){var t,e,n;if(Tt.type!==wt.Punctuator&&Tt.type!==wt.Keyword)e=rt();else{if(U("++")||U("--"))throw new Error("Disabled.");if(U("+")||U("-")||U("~")||U("!"))n=Tt,t=T(),e=ot(),e=new O(n).finishUnaryExpression(t.value,e);else{if(q("delete")||q("void")||q("typeof"))throw new Error("Disabled.");e=rt()}}return e}function st(t,e){var n=0;if(t.type!==wt.Punctuator&&t.type!==wt.Keyword)return 0;switch(t.value){case"||":n=1;break;case"&&":n=2;break;case"|":n=3;break;case"^":n=4;break;case"&":n=5;break;case"==":case"!=":case"===":case"!==":n=6;break;case"<":case">":case"<=":case">=":case"instanceof":n=7;break;case"in":n=e?7:0;break;case"<<":case">>":case">>>":n=8;break;case"+":case"-":n=9;break;case"*":case"/":case"%":n=11}return n}function at(){var t,e,n,i,r,o,s,a,l,u;if(t=Tt,l=ot(),i=Tt,r=st(i,$t.allowIn),0===r)return l;for(i.prec=r,T(),e=[t,Tt],s=ot(),o=[l,i,s];(r=st(Tt,$t.allowIn))>0;){for(;o.length>2&&r<=o[o.length-2].prec;)s=o.pop(),a=o.pop().value,l=o.pop(),e.pop(),n=new O(e[e.length-1]).finishBinaryExpression(a,l,s),o.push(n);i=T(),i.prec=r,o.push(i),e.push(Tt),n=ot(),o.push(n)}for(u=o.length-1,n=o[u],e.pop();u>1;)n=new O(e.pop()).finishBinaryExpression(o[u-1].value,o[u-2],n),u-=2;return n}function lt(){var t,e,n,i,r;return r=Tt,t=at(),U("?")&&(T(),e=$t.allowIn,$t.allowIn=!0,n=ut(),$t.allowIn=e,H(":"),i=ut(),t=new O(r).finishConditionalExpression(t,n,i)),t}function ut(){var t,e,n,i;return t=$t.parenthesisCount,i=Tt,e=Tt,n=lt()}function ct(){var t=ut();if(U(","))throw new Error("Disabled.");return t}function ht(t){var e=ct();return V(),t.finishExpressionStatement(e)}function dt(){var t,e,n=Tt.type;if(n===wt.EOF&&j(Tt),n===wt.Punctuator&&"{"===Tt.value)throw new Error("Disabled.");if(e=new N,n===wt.Punctuator)switch(Tt.value){case";":throw new Error("Disabled.");case"(":return ht(e)}else if(n===wt.Keyword)throw new Error("Disabled.");return t=ct(),V(),e.finishExpressionStatement(t)}function ft(){if(Tt.type===wt.Keyword)switch(Tt.value){case"const":case"let":throw new Error("Disabled.");case"function":throw new Error("Disabled.");default:return dt()}return Tt.type!==wt.EOF?dt():void 0}function pt(){for(var t,e,n,i,r=[];Mt>kt&&(e=Tt,e.type===wt.StringLiteral)&&(t=ft(),r.push(t),t.expression.type===At.Literal);)n=_t.slice(e.start+1,e.end-1),"use strict"===n?(Ft=!0,i&&z(i,xt.StrictOctalLiteral)):!i&&e.octal&&(i=e);for(;Mt>kt&&(t=ft(),"undefined"!=typeof t);)r.push(t);return r}function gt(){var t,e;return h(),$(),e=new N,Ft=!0,t=pt(),e.finishProgram(t)}function mt(){var t,e,n,i=[];for(t=0;t<Lt.tokens.length;++t)e=Lt.tokens[t],n={type:e.type,value:e.value},e.regex&&(n.regex={pattern:e.regex.pattern,flags:e.regex.flags}),Lt.range&&(n.range=e.range),Lt.loc&&(n.loc=e.loc),i.push(n);Lt.tokens=i}function vt(t,e){var n,i;n=String,"string"==typeof t||t instanceof String||(t=n(t)),_t=t,kt=0,St=_t.length>0?1:0,Dt=0,Mt=_t.length,Tt=null,$t={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},Lt={},e=e||{},e.tokens=!0,Lt.tokens=[],Lt.tokenize=!0,Lt.openParenToken=-1,Lt.openCurlyToken=-1,Lt.range="boolean"==typeof e.range&&e.range,Lt.loc="boolean"==typeof e.loc&&e.loc,"boolean"==typeof e.tolerant&&e.tolerant&&(Lt.errors=[]);try{if($(),Tt.type===wt.EOF)return Lt.tokens;for(T();Tt.type!==wt.EOF;)try{T()}catch(r){if(Lt.errors){Lt.errors.push(r);break}throw r}mt(),i=Lt.tokens,"undefined"!=typeof Lt.errors&&(i.errors=Lt.errors)}catch(o){throw o}finally{Lt={}}return i}function yt(t,e){var n,i;i=String,"string"==typeof t||t instanceof String||(t=i(t)),_t=t,kt=0,St=_t.length>0?1:0,Dt=0,Mt=_t.length,Tt=null,$t={allowIn:!0,labelSet:{},parenthesisCount:0,inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},Lt={},"undefined"!=typeof e&&(Lt.range="boolean"==typeof e.range&&e.range,Lt.loc="boolean"==typeof e.loc&&e.loc,Lt.loc&&null!==e.source&&void 0!==e.source&&(Lt.source=i(e.source)),"boolean"==typeof e.tokens&&e.tokens&&(Lt.tokens=[]),"boolean"==typeof e.tolerant&&e.tolerant&&(Lt.errors=[]));try{n=gt(),"undefined"!=typeof Lt.tokens&&(mt(),n.tokens=Lt.tokens),"undefined"!=typeof Lt.errors&&(n.errors=Lt.errors)}catch(r){throw r}finally{Lt={}}return n}var wt,bt,At,Ct,xt,Et,_t,Ft,kt,St,Dt,Mt,Tt,$t,Lt;wt={BooleanLiteral:1,EOF:2,Identifier:3,Keyword:4,NullLiteral:5,NumericLiteral:6,Punctuator:7,StringLiteral:8,RegularExpression:9},bt={},bt[wt.BooleanLiteral]="Boolean",bt[wt.EOF]="<end>",bt[wt.Identifier]="Identifier",bt[wt.Keyword]="Keyword",bt[wt.NullLiteral]="Null",bt[wt.NumericLiteral]="Numeric",bt[wt.Punctuator]="Punctuator",bt[wt.StringLiteral]="String",bt[wt.RegularExpression]="RegularExpression",At={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",BinaryExpression:"BinaryExpression",CallExpression:"CallExpression",ConditionalExpression:"ConditionalExpression",ExpressionStatement:"ExpressionStatement",Identifier:"Identifier",Literal:"Literal",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",ObjectExpression:"ObjectExpression",Program:"Program",Property:"Property",UnaryExpression:"UnaryExpression"},Ct={Data:1,Get:2,Set:4},xt={UnexpectedToken:"Unexpected token %0",UnexpectedNumber:"Unexpected number",UnexpectedString:"Unexpected string",UnexpectedIdentifier:"Unexpected identifier",UnexpectedReserved:"Unexpected reserved word",UnexpectedEOS:"Unexpected end of input",NewlineAfterThrow:"Illegal newline after throw",InvalidRegExp:"Invalid regular expression",UnterminatedRegExp:"Invalid regular expression: missing /",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NoCatchOrFinally:"Missing catch or finally after try",UnknownLabel:"Undefined label '%0'",Redeclaration:"%0 '%1' has already been declared",IllegalContinue:"Illegal continue statement",IllegalBreak:"Illegal break statement",IllegalReturn:"Illegal return statement",StrictModeWith:"Strict mode code may not include a with statement",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictDuplicateProperty:"Duplicate data property in object literal not allowed in strict mode",AccessorDataProperty:"Object literal may not have data and accessor property with the same name",AccessorGetSet:"Object literal may not have multiple get/set accessors with the same name",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictReservedWord:"Use of future reserved word in strict mode"},Et={NonAsciiIdentifierStart:new RegExp("[--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]"),NonAsciiIdentifierPart:new RegExp("[--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]")},O.prototype=N.prototype={finish:function(){Lt.range&&(this.range[1]=kt),Lt.loc&&(this.loc.end=new L,Lt.source&&(this.loc.source=Lt.source))},finishArrayExpression:function(t){return this.type=At.ArrayExpression,this.elements=t,this.finish(),this},finishAssignmentExpression:function(t,e,n){return this.type=At.AssignmentExpression,this.operator=t,this.left=e,this.right=n,this.finish(),this},finishBinaryExpression:function(t,e,n){return this.type="||"===t||"&&"===t?At.LogicalExpression:At.BinaryExpression,this.operator=t,this.left=e,this.right=n,this.finish(),this},finishCallExpression:function(t,e){return this.type=At.CallExpression,this.callee=t,this.arguments=e,this.finish(),this},finishConditionalExpression:function(t,e,n){return this.type=At.ConditionalExpression,this.test=t,this.consequent=e,this.alternate=n,this.finish(),this},finishExpressionStatement:function(t){return this.type=At.ExpressionStatement,this.expression=t,this.finish(),this},finishIdentifier:function(t){return this.type=At.Identifier,this.name=t,this.finish(),this},finishLiteral:function(t){return this.type=At.Literal,this.value=t.value,this.raw=_t.slice(t.start,t.end),t.regex&&("//"==this.raw&&(this.raw="/(?:)/"),this.regex=t.regex),this.finish(),this},finishMemberExpression:function(t,e,n){return this.type=At.MemberExpression,this.computed="["===t,this.object=e,this.property=n,this.finish(),this},finishObjectExpression:function(t){return this.type=At.ObjectExpression,this.properties=t,this.finish(),this},finishProgram:function(t){return this.type=At.Program,this.body=t,this.finish(),this},finishProperty:function(t,e,n){return this.type=At.Property,this.key=e,this.value=n,this.kind=t,this.finish(),this},finishUnaryExpression:function(t,e){return this.type=At.UnaryExpression,this.operator=t,this.argument=e,this.prefix=!0,this.finish(),this}};var Bt={"if":1,"this":1};return{tokenize:vt,parse:yt}}()},{}],48:[function(t,e,n){function i(t){console.log("[Vega Log]",t)}function r(t){console.error("[Vega Err]",t)}function o(t,e){if(o.enable){var n=Function.prototype.bind.call(console.log,console),i={prevTime:Date.now()-s,stamp:t.stamp};t.add&&(i.add=t.add.length,i.mod=t.mod.length,i.rem=t.rem.length,i.reflow=!!t.reflow),n.apply(console,(e.push(JSON.stringify(i)),e)),s=Date.now()}}var s=Date.now();e.exports={log:i,error:r,debug:(o.enable=!1,o)}},{}],49:[function(t,e,n){e.exports={path:t("./path"),render:t("./render"),Item:t("./util/Item"),bound:t("./util/bound"),Bounds:t("./util/Bounds"),canvas:t("./util/canvas"),Gradient:t("./util/Gradient"),toJSON:t("./util/scene").toJSON,fromJSON:t("./util/scene").fromJSON}},{"./path":51,"./render":71,"./util/Bounds":77,"./util/Gradient":79,"./util/Item":81,"./util/bound":82,"./util/canvas":83,"./util/scene":85}],50:[function(t,e,n){function i(t,e,n,i,r,s,l,u,c){var h=a.call(arguments);if(o[h])return o[h];var d=l*(Math.PI/180),f=Math.sin(d),p=Math.cos(d);n=Math.abs(n),i=Math.abs(i);var g=p*(u-t)*.5+f*(c-e)*.5,m=p*(c-e)*.5-f*(u-t)*.5,v=g*g/(n*n)+m*m/(i*i);v>1&&(v=Math.sqrt(v),n*=v,i*=v);var y=p/n,w=f/n,b=-f/i,A=p/i,C=y*u+w*c,x=b*u+A*c,E=y*t+w*e,_=b*t+A*e,F=(E-C)*(E-C)+(_-x)*(_-x),k=1/F-.25;0>k&&(k=0);var S=Math.sqrt(k);s==r&&(S=-S);var D=.5*(C+E)-S*(_-x),M=.5*(x+_)+S*(E-C),T=Math.atan2(x-M,C-D),$=Math.atan2(_-M,E-D),L=$-T;0>L&&1===s?L+=2*Math.PI:L>0&&0===s&&(L-=2*Math.PI);for(var B=Math.ceil(Math.abs(L/(.5*Math.PI+.001))),R=[],N=0;B>N;++N){var O=T+N*L/B,I=T+(N+1)*L/B;R[N]=[D,M,O,I,n,i,f,p]}return o[h]=R}function r(t){var e=a.call(t);if(s[e])return s[e];var n=t[0],i=t[1],r=t[2],o=t[3],l=t[4],u=t[5],c=t[6],h=t[7],d=h*l,f=-c*u,p=c*l,g=h*u,m=Math.cos(r),v=Math.sin(r),y=Math.cos(o),w=Math.sin(o),b=.5*(o-r),A=Math.sin(.5*b),C=8/3*A*A/Math.sin(b),x=n+m-C*v,E=i+v+C*m,_=n+y,F=i+w,k=_+C*w,S=F-C*y;return s[e]=[d*x+f*E,p*x+g*E,d*k+f*S,p*k+g*S,d*_+f*F,p*_+g*F]}var o={},s={},a=[].join;e.exports={segments:i,bezier:r,cache:{segments:o,bezier:s}}},{}],51:[function(t,e,n){e.exports={parse:t("./parse"),render:t("./render")}},{"./parse":52,"./render":53}],52:[function(t,e,n){var i={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},r=[/([MLHVCSQTAZmlhvcsqtaz])/g,/###/,/(\d)([-+])/g,/\s|,|###/];e.exports=function(t){var e,n,o,s,a,l,u,c,h,d,f,p=[];for(e=t.slice().replace(r[0],"###$1").split(r[1]).slice(1),c=0,d=e.length;d>c;++c){for(n=e[c],o=n.slice(1).trim().replace(r[2],"$1###$2").split(r[3]),l=n.charAt(0),s=[l],h=0,f=o.length;f>h;++h)(a=+o[h])===a&&s.push(a);if(u=i[l.toLowerCase()],s.length-1>u)for(h=1,f=s.length;f>h;h+=u)p.push([l].concat(s.slice(h,h+u)));else p.push(s)}return p}},{}],53:[function(t,e,n){function i(t,e,n,i){for(var o=r.segments(i[5],i[6],i[0],i[1],i[3],i[4],i[2],e,n),s=0;s<o.length;++s){var a=r.bezier(o[s]);t.bezierCurveTo.apply(t,a)}}var r=t("./arc");e.exports=function(t,e,n,r){var o,s,a,l,u,c=null,h=0,d=0,f=0,p=0;null==n&&(n=0),null==r&&(r=0),t.beginPath();for(var g=0,m=e.length;m>g;++g){switch(o=e[g],o[0]){case"l":h+=o[1],d+=o[2],t.lineTo(h+n,d+r);break;case"L":h=o[1],d=o[2],t.lineTo(h+n,d+r);break;case"h":h+=o[1],t.lineTo(h+n,d+r);break;case"H":h=o[1],t.lineTo(h+n,d+r);break;case"v":d+=o[1],t.lineTo(h+n,d+r);break;case"V":d=o[1],t.lineTo(h+n,d+r);break;case"m":h+=o[1],d+=o[2],t.moveTo(h+n,d+r);break;case"M":h=o[1],d=o[2],t.moveTo(h+n,d+r);break;case"c":s=h+o[5],a=d+o[6],f=h+o[3],p=d+o[4],t.bezierCurveTo(h+o[1]+n,d+o[2]+r,f+n,p+r,s+n,a+r),h=s,d=a;break;case"C":h=o[5],d=o[6],f=o[3],p=o[4],t.bezierCurveTo(o[1]+n,o[2]+r,f+n,p+r,h+n,d+r);break;case"s":s=h+o[3],a=d+o[4],f=2*h-f,p=2*d-p,t.bezierCurveTo(f+n,p+r,h+o[1]+n,d+o[2]+r,s+n,a+r),f=h+o[1],p=d+o[2],h=s,d=a;break;case"S":s=o[3],a=o[4],f=2*h-f,p=2*d-p,t.bezierCurveTo(f+n,p+r,o[1]+n,o[2]+r,s+n,a+r),h=s,d=a,f=o[1],p=o[2];break;case"q":s=h+o[3],a=d+o[4],f=h+o[1],p=d+o[2],t.quadraticCurveTo(f+n,p+r,s+n,a+r),h=s,d=a;break;case"Q":s=o[3],a=o[4],t.quadraticCurveTo(o[1]+n,o[2]+r,s+n,a+r),h=s,d=a,f=o[1],p=o[2];break;case"t":s=h+o[1],a=d+o[2],null===c[0].match(/[QqTt]/)?(f=h,p=d):"t"===c[0]?(f=2*h-l,p=2*d-u):"q"===c[0]&&(f=2*h-f,p=2*d-p),l=f,u=p,t.quadraticCurveTo(f+n,p+r,s+n,a+r),h=s,d=a,f=h+o[1],p=d+o[2];break;case"T":s=o[1],a=o[2],f=2*h-f,p=2*d-p,t.quadraticCurveTo(f+n,p+r,s+n,a+r),h=s,d=a;break;case"a":i(t,h+n,d+r,[o[1],o[2],o[3],o[4],o[5],o[6]+h+n,o[7]+d+r]),h+=o[6],d+=o[7];break;case"A":i(t,h+n,d+r,[o[1],o[2],o[3],o[4],o[5],o[6]+n,o[7]+r]),h=o[6],d=o[7];break;case"z":case"Z":t.closePath()}c=o}}},{"./arc":50}],54:[function(t,e,n){function i(){this._active=null,this._handlers={}}var r=i.prototype;r.initialize=function(t,e,n){return this._el=t,this._obj=n||null,this.padding(e)},r.element=function(){return this._el},r.padding=function(t){return this._padding=t||{top:0,left:0,bottom:0,right:0},this},r.scene=function(t){return arguments.length?(this._scene=t,this):this._scene},r.on=function(){},r.off=function(){},r.handlers=function(){var t,e=this._handlers,n=[];for(t in e)n.push.apply(n,e[t]);return n},r.eventName=function(t){var e=t.indexOf(".");return 0>e?t:t.slice(0,e)},e.exports=i},{}],55:[function(t,e,n){function i(){this._el=null,this._bgcolor=null}var r=i.prototype;r.initialize=function(t,e,n,i){return this._el=t,this.resize(e,n,i)},r.element=function(){return this._el},r.scene=function(){return this._el&&this._el.firstChild},r.background=function(t){return 0===arguments.length?this._bgcolor:(this._bgcolor=t,this)},r.resize=function(t,e,n){return this._width=t,this._height=e,this._padding=n||{top:0,left:0,bottom:0,right:0},this},r.render=function(){return this},e.exports=i},{}],56:[function(t,e,n){function i(){a.call(this),this._down=null,this._touch=null,this._first=!0}function r(t,e,n){return function(i){var r=this._active,o=this.pickEvent(i);o===r?this.fire(t,i):(this.fire(n,i),this._active=o,this.fire(e,i),this.fire(t,i))}}function o(t){return function(e){this.fire(t,e),this._active=null}}var s=t("../../util/dom"),a=t("../Handler"),l=t("./marks"),u=a.prototype,c=i.prototype=Object.create(u);c.constructor=i,c.initialize=function(t,e,n){var i=this._canvas=s.find(t,"canvas");if(i){var r=this;this.events.forEach(function(t){i.addEventListener(t,function(e){c[t]?c[t].call(r,e):r.fire(t,e)})})}return u.initialize.call(this,t,e,n)},c.canvas=function(){return this._canvas},c.context=function(){return this._canvas.getContext("2d")},c.events=["keydown","keypress","keyup","dragenter","dragleave","dragover","mousedown","mouseup","mousemove","mouseout","mouseover","click","dblclick","wheel","mousewheel","touchstart","touchmove","touchend"],c.DOMMouseScroll=function(t){this.fire("mousewheel",t)},c.mousemove=r("mousemove","mouseover","mouseout"),c.dragover=r("dragover","dragenter","dragleave"),c.mouseout=o("mouseout"),c.dragleave=o("dragleave"),c.mousedown=function(t){this._down=this._active,this.fire("mousedown",t)},c.click=function(t){this._down===this._active&&(this.fire("click",t),this._down=null)},c.touchstart=function(t){this._touch=this.pickEvent(t.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire("touchstart",t,!0)},c.touchmove=function(t){this.fire("touchmove",t,!0)},c.touchend=function(t){this.fire("touchend",t,!0),this._touch=null},c.fire=function(t,e,n){var i,r,o=n?this._touch:this._active,s=this._handlers[t];if(s)for(e.vegaType=t,i=0,r=s.length;r>i;++i)s[i].handler.call(this._obj,e,o)},c.on=function(t,e){var n=this.eventName(t),i=this._handlers;return(i[n]||(i[n]=[])).push({type:t,handler:e}),this},c.off=function(t,e){var n,i=this.eventName(t),r=this._handlers[i];if(r){for(n=r.length;--n>=0;)r[n].type===t&&(e&&r[n].handler!==e||r.splice(n,1));return this}},c.pickEvent=function(t){var e,n,i=this._canvas.getBoundingClientRect(),r=this._padding;return this.pick(this._scene,e=t.clientX-i.left,n=t.clientY-i.top,e-r.left,n-r.top)},c.pick=function(t,e,n,i,r){var o=this.context(),s=l[t.marktype];return s.pick.call(this,o,t,e,n,i,r)},e.exports=i},{"../../util/dom":84,"../Handler":54,"./marks":63}],57:[function(t,e,n){function i(t){c.call(this),this._loader=new l(t)}function r(t,e){if(!e)return null;var n,i,r,s,l,u=new a;for(n=0,i=e.length;i>n;++n)r=e[n],s=r.mark,l=s.group,r=h[s.marktype].nested?s:r,u.union(o(r.bounds,l)),r["bounds:prev"]&&u.union(o(r["bounds:prev"],l));return u.round(),t.beginPath(),t.rect(u.x1,u.y1,u.width(),u.height()),t.clip(),u}function o(t,e){if(null==e)return t;
for(var n=t.clone();null!=e;e=e.mark.group)n.translate(e.x||0,e.y||0);return n}var s=t("../../util/dom"),a=t("../../util/Bounds"),l=t("../../util/ImageLoader"),u=t("../../util/canvas"),c=t("../Renderer"),h=t("./marks");i.RETINA=!0;var d=c.prototype,f=i.prototype=Object.create(d);f.constructor=i,f.initialize=function(t,e,n,i){return this._canvas=u.instance(e,n),t&&(s.clear(t,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),d.initialize.call(this,t,e,n,i)},f.resize=function(t,e,n){return d.resize.call(this,t,e,n),u.resize(this._canvas,this._width,this._height,this._padding,i.RETINA),this},f.canvas=function(){return this._canvas},f.context=function(){return this._canvas?this._canvas.getContext("2d"):null},f.pendingImages=function(){return this._loader.pending()},f.render=function(t,e){var n,i=this.context(),o=this._padding,s=this._width+o.left+o.right,a=this._height+o.top+o.bottom;return this._scene=t,i.save(),n=r(i,e),this.clear(-o.left,-o.top,s,a),this.draw(i,t,n),i.restore(),this._scene=null,this},f.draw=function(t,e,n){var i=h[e.marktype];i.draw.call(this,t,e,n)},f.clear=function(t,e,n,i){var r=this.context();r.clearRect(t,e,n,i),null!=this._bgcolor&&(r.fillStyle=this._bgcolor,r.fillRect(t,e,n,i))},f.loadImage=function(t){var e=this,n=this._scene;return this._loader.loadImage(t,function(){e.renderAsync(n)})},f.renderAsync=function(t){var e=this;e._async_id&&clearTimeout(e._async_id),e._async_id=setTimeout(function(){e.render(t),delete e._async_id},10)},e.exports=i},{"../../util/Bounds":77,"../../util/ImageLoader":80,"../../util/canvas":83,"../../util/dom":84,"../Renderer":55,"./marks":63}],58:[function(t,e,n){e.exports={Handler:t("./CanvasHandler"),Renderer:t("./CanvasRenderer")}},{"./CanvasHandler":56,"./CanvasRenderer":57}],59:[function(t,e,n){function i(t,e){var n=e.x||0,i=e.y||0,r=e.innerRadius||0,s=e.outerRadius||0,a=(e.startAngle||0)-o,l=(e.endAngle||0)-o;t.beginPath(),0===r?t.moveTo(n,i):t.arc(n,i,r,a,l,0),t.arc(n,i,s,l,a,1),t.closePath()}var r=t("./util"),o=Math.PI/2;e.exports={draw:r.drawAll(i),pick:r.pickPath(i)}},{"./util":70}],60:[function(t,e,n){function i(t,e){var n=e[0],i=n.pathCache||(n.pathCache=s(l(e)));a(t,i)}function r(t,e,n,i,r,o){var s=e.items,a=e.bounds;return!s||!s.length||a&&!a.contains(r,o)?null:(null!=t.pixelratio&&1!==t.pixelratio&&(n*=t.pixelratio,i*=t.pixelratio),u(t,s,n,i)?s[0]:null)}var o=t("./util"),s=t("../../../path/parse"),a=t("../../../path/render"),l=t("../../../util/svg").path.area,u=o.testPath(i);e.exports={draw:o.drawOne(i),pick:r,nested:!0}},{"../../../path/parse":52,"../../../path/render":53,"../../../util/svg":86,"./util":70}],61:[function(t,e,n){function i(t,e,n){if(e.items&&e.items.length){var i,r,a,l,u,c,h,d,f,p,g,m,v,y=e.items,w=this;for(p=0,g=y.length;g>p;++p){for(i=y[p],a=i.axisItems||s,r=i.items||s,l=i.legendItems||s,u=i.x||0,c=i.y||0,h=i.width||0,d=i.height||0,(i.stroke||i.fill)&&(f=null==i.opacity?1:i.opacity,f>0&&(i.fill&&o.fill(t,i,f)&&t.fillRect(u,c,h,d),i.stroke&&o.stroke(t,i,f)&&t.strokeRect(u,c,h,d))),t.save(),t.translate(u,c),i.clip&&(t.beginPath(),t.rect(0,0,h,d),t.clip()),n&&n.translate(-u,-c),m=0,v=a.length;v>m;++m)"back"===a[m].layer&&w.draw(t,a[m],n);for(m=0,v=r.length;v>m;++m)w.draw(t,r[m],n);for(m=0,v=a.length;v>m;++m)"back"!==a[m].layer&&w.draw(t,a[m],n);for(m=0,v=l.length;v>m;++m)w.draw(t,l[m],n);n&&n.translate(u,c),t.restore()}}}function r(t,e,n,i,r,o){if(e.bounds&&!e.bounds.contains(r,o))return null;var a,l,u,c,h,d,f,p,g,m,v,y=e.items||s;for(g=y.length;--g>=0;)if(l=y[g],v=l.bounds,!v||v.contains(r,o)){for(u=l.axisItems||s,c=l.items||s,h=l.legendItems||s,f=l.x||0,p=l.y||0,t.save(),t.translate(f,p),f=r-f,p=o-p,m=h.length;--m>=0;)if(a=h[m],a.interactive!==!1&&(d=this.pick(a,n,i,f,p)))return t.restore(),d;for(m=u.length;--m>=0;)if(a=u[m],a.interactive!==!1&&"back"!==a.layer&&(d=this.pick(a,n,i,f,p)))return t.restore(),d;for(m=c.length;--m>=0;)if(a=c[m],a.interactive!==!1&&(d=this.pick(a,n,i,f,p)))return t.restore(),d;for(m=u.length;--m>=0;)if(a=u[m],a.interative!==!1&&"back"===a.layer&&(d=this.pick(a,n,i,f,p)))return t.restore(),d;if(t.restore(),e.interactive!==!1&&(l.fill||l.stroke)&&f>=0&&f<=l.width&&p>=0&&p<=l.height)return l}return null}var o=t("./util"),s=[];e.exports={draw:i,pick:r}},{"./util":70}],62:[function(t,e,n){function i(t,e,n){if(e.items&&e.items.length)for(var i,r=this,o=e.items,s=0,a=o.length;a>s;++s)if(i=o[s],!n||n.intersects(i.bounds)){i.image&&i.image.url===i.url||(i.image=r.loadImage(i.url),i.image.url=i.url);var l,u=i.x||0,c=i.y||0,h=i.width||i.image&&i.image.width||0,d=i.height||i.image&&i.image.height||0;u-="center"===i.align?h/2:"right"===i.align?h:0,c-="middle"===i.baseline?d/2:"bottom"===i.baseline?d:0,i.image.loaded&&(t.globalAlpha=null!=(l=i.opacity)?l:1,t.drawImage(i.image,u,c,h,d))}}var r=t("./util");e.exports={draw:i,pick:r.pick()}},{"./util":70}],63:[function(t,e,n){e.exports={arc:t("./arc"),area:t("./area"),group:t("./group"),image:t("./image"),line:t("./line"),path:t("./path"),rect:t("./rect"),rule:t("./rule"),symbol:t("./symbol"),text:t("./text")}},{"./arc":59,"./area":60,"./group":61,"./image":62,"./line":64,"./path":65,"./rect":66,"./rule":67,"./symbol":68,"./text":69}],64:[function(t,e,n){function i(t,e){var n=e[0],i=n.pathCache||(n.pathCache=s(l(e)));a(t,i)}function r(t,e,n,i,r,o){var s=e.items,a=e.bounds;return!s||!s.length||a&&!a.contains(r,o)?null:(null!=t.pixelratio&&1!==t.pixelratio&&(n*=t.pixelratio,i*=t.pixelratio),u(t,s,n,i)?s[0]:null)}var o=t("./util"),s=t("../../../path/parse"),a=t("../../../path/render"),l=t("../../../util/svg").path.line,u=o.testPath(i,!1);e.exports={draw:o.drawOne(i),pick:r,nested:!0}},{"../../../path/parse":52,"../../../path/render":53,"../../../util/svg":86,"./util":70}],65:[function(t,e,n){function i(t,e){if(null==e.path)return!0;var n=e.pathCache||(e.pathCache=o(e.path));s(t,n,e.x,e.y)}var r=t("./util"),o=t("../../../path/parse"),s=t("../../../path/render");e.exports={draw:r.drawAll(i),pick:r.pickPath(i)}},{"../../../path/parse":52,"../../../path/render":53,"./util":70}],66:[function(t,e,n){function i(t,e,n){if(e.items&&e.items.length)for(var i,o,s,a,l,u,c=e.items,h=0,d=c.length;d>h;++h)i=c[h],n&&!n.intersects(i.bounds)||(o=null==i.opacity?1:i.opacity,0!==o&&(s=i.x||0,a=i.y||0,l=i.width||0,u=i.height||0,i.fill&&r.fill(t,i,o)&&t.fillRect(s,a,l,u),i.stroke&&r.stroke(t,i,o)&&t.strokeRect(s,a,l,u)))}var r=t("./util");e.exports={draw:i,pick:r.pick()}},{"./util":70}],67:[function(t,e,n){function i(t,e,n){if(e.items&&e.items.length)for(var i,r,o,a,l,u,c=e.items,h=0,d=c.length;d>h;++h)i=c[h],n&&!n.intersects(i.bounds)||(r=null==i.opacity?1:i.opacity,0!==r&&(o=i.x||0,a=i.y||0,l=null!=i.x2?i.x2:o,u=null!=i.y2?i.y2:a,i.stroke&&s.stroke(t,i,r)&&(t.beginPath(),t.moveTo(o,a),t.lineTo(l,u),t.stroke())))}function r(t,e){var n=e.x||0,i=e.y||0,r=null!=e.x2?e.x2:n,o=null!=e.y2?e.y2:i,s=e.strokeWidth,a=e.strokeCap;t.lineWidth=null!=s?s:1,t.lineCap=null!=a?a:"butt",t.beginPath(),t.moveTo(n,i),t.lineTo(r,o)}function o(t,e,n,i){return t.isPointInStroke?(r(t,e),t.isPointInStroke(n,i)):!1}var s=t("./util");e.exports={draw:i,pick:s.pick(o)}},{"./util":70}],68:[function(t,e,n){function i(t,e){var n,i,o,c,h=null!=e.size?e.size:100,d=e.x,f=e.y;if(t.beginPath(),null==e.shape||"circle"===e.shape)return n=Math.sqrt(h/Math.PI),t.arc(d,f,n,0,2*Math.PI,0),void t.closePath();switch(e.shape){case"cross":n=Math.sqrt(h/5)/2,i=3*n,t.moveTo(d-i,f-n),t.lineTo(d-n,f-n),t.lineTo(d-n,f-i),t.lineTo(d+n,f-i),t.lineTo(d+n,f-n),t.lineTo(d+i,f-n),t.lineTo(d+i,f+n),t.lineTo(d+n,f+n),t.lineTo(d+n,f+i),t.lineTo(d-n,f+i),t.lineTo(d-n,f+n),t.lineTo(d-i,f+n);break;case"diamond":c=Math.sqrt(h/(2*u)),o=c*u,t.moveTo(d,f-c),t.lineTo(d+o,f),t.lineTo(d,f+c),t.lineTo(d-o,f);break;case"square":i=Math.sqrt(h),n=i/2,t.rect(d-n,f-n,i,i);break;case"triangle-down":o=Math.sqrt(h/l),c=o*l/2,t.moveTo(d,f+c),t.lineTo(d+o,f-c),t.lineTo(d-o,f-c);break;case"triangle-up":o=Math.sqrt(h/l),c=o*l/2,t.moveTo(d,f-c),t.lineTo(d+o,f+c),t.lineTo(d-o,f+c);break;default:var p=r(s(e.shape),h);a(t,p,d,f)}t.closePath()}function r(t,e){var n,i,r,o,s,a=Math.sqrt(e);for(n=0,i=t.length;i>n;++n)for(s=t[n],r=1,o=s.length;o>r;++r)s[r]*=a;return t}var o=t("./util"),s=t("../../../path/parse"),a=t("../../../path/render"),l=Math.sqrt(3),u=Math.tan(30*Math.PI/180);e.exports={draw:o.drawAll(i),pick:o.pickPath(i)}},{"../../../path/parse":52,"../../../path/render":53,"./util":70}],69:[function(t,e,n){function i(t,e,n){if(e.items&&e.items.length)for(var i,r,o,s,u,c,h,d=e.items,f=0,p=d.length;p>f;++f)i=d[f],n&&!n.intersects(i.bounds)||(h=a.value(i.text),h&&(r=null==i.opacity?1:i.opacity,0!==r&&(t.font=a.font(i),t.textAlign=i.align||"left",o=i.x||0,s=i.y||0,(u=i.radius)&&(c=(i.theta||0)-Math.PI/2,o+=u*Math.cos(c),s+=u*Math.sin(c)),i.angle&&(t.save(),t.translate(o,s),t.rotate(i.angle*Math.PI/180),o=s=0),o+=i.dx||0,s+=(i.dy||0)+a.offset(i),i.fill&&l.fill(t,i,r)&&t.fillText(h,o,s),i.stroke&&l.stroke(t,i,r)&&t.strokeText(h,o,s),i.angle&&t.restore())))}function r(t,e,n,i,r,o){if(e.fontSize<=0)return!1;if(!e.angle)return!0;var a=s(e,u,!0),l=-e.angle*Math.PI/180,c=Math.cos(l),h=Math.sin(l),d=e.x,f=e.y,p=c*r-h*o+(d-d*c+f*h),g=h*r+c*o+(f-d*h-f*c);return a.contains(p,g)}var o=t("../../../util/Bounds"),s=t("../../../util/bound").text,a=t("../../../util/text"),l=t("./util"),u=new o;e.exports={draw:i,pick:l.pick(r)}},{"../../../util/Bounds":77,"../../../util/bound":82,"../../../util/text":87,"./util":70}],70:[function(t,e,n){function i(t,e,n,i){if(!t(e,i)){var r=null==n.opacity?1:n.opacity;0!==r&&(n.fill&&c(e,n,r)&&e.fill(),n.stroke&&h(e,n,r)&&e.stroke())}}function r(t,e,n,r){var o,s,a;for(o=0,s=n.items.length;s>o;++o)a=n.items[o],r&&!r.intersects(a.bounds)||i(t,e,a,a)}function o(t){return function(e,n,i){r(t,e,n,i)}}function s(t){return function(e,n,r){n.items.length&&(r&&!r.intersects(n.bounds)||i(t,e,n.items[0],n.items))}}function a(t){return t||(t=p),function(e,n,i,r,o,s){if(!n.items.length)return null;var a,l,u;for(null!=e.pixelratio&&1!==e.pixelratio&&(i*=e.pixelratio,r*=e.pixelratio),u=n.items.length;--u>=0;)if(a=n.items[u],l=a.bounds,(!l||l.contains(o,s))&&l&&t(e,a,i,r,o,s))return a;return null}}function l(t,e){return function(n,i,r,o){var s,a,l=Array.isArray(i)?i[0]:i,u=null==e?l.fill:e,c=l.stroke&&n.isPointInStroke;return c&&(s=l.strokeWidth,a=l.strokeCap,n.lineWidth=null!=s?s:1,n.lineCap=null!=a?a:"butt"),t(n,i)?!1:u&&n.isPointInPath(r,o)||c&&n.isPointInStroke(r,o)}}function u(t){return a(l(t))}function c(t,e,n){return n*=null==e.fillOpacity?1:e.fillOpacity,n>0?(t.globalAlpha=n,t.fillStyle=d(t,e,e.fill),!0):!1}function h(t,e,n){var i,r=null!=(r=e.strokeWidth)?r:1;return 0>=r?!1:(n*=null==e.strokeOpacity?1:e.strokeOpacity,n>0?(t.globalAlpha=n,t.strokeStyle=d(t,e,e.stroke),t.lineWidth=r,t.lineCap=null!=(i=e.strokeCap)?i:"butt",t.vgLineDash(e.strokeDash||null),t.vgLineDashOffset(e.strokeDashOffset||0),!0):!1)}function d(t,e,n){return n.id?f(t,n,e.bounds):n}function f(t,e,n){var i,r,o=n.width(),s=n.height(),a=n.x1+e.x1*o,l=n.y1+e.y1*s,u=n.x1+e.x2*o,c=n.y1+e.y2*s,h=t.createLinearGradient(a,l,u,c),d=e.stops;for(i=0,r=d.length;r>i;++i)h.addColorStop(d[i].offset,d[i].color);return h}var p=function(){return!0};e.exports={drawOne:s,drawAll:o,pick:a,pickPath:u,testPath:l,stroke:h,fill:c,color:d,gradient:f}},{}],71:[function(t,e,n){e.exports={canvas:t("./canvas"),svg:t("./svg")}},{"./canvas":58,"./svg":75}],72:[function(t,e,n){function i(){o.call(this)}var r=t("../../util/dom"),o=t("../Handler"),s=o.prototype,a=i.prototype=Object.create(s);a.constructor=i,a.initialize=function(t,e,n){return this._svg=r.find(t,"svg"),s.initialize.call(this,t,e,n)},a.svg=function(){return this._svg},a.listener=function(t){var e=this;return function(n){var i=n.target,r=i.__data__;n.vegaType=n.type,r=Array.isArray(r)?r[0]:r,t.call(e._obj,n,r)}},a.on=function(t,e){var n=this.eventName(t),i=this._svg,r=this._handlers,o={type:t,handler:e,listener:this.listener(e)};return(r[n]||(r[n]=[])).push(o),i.addEventListener(n,o.listener),this},a.off=function(t,e){var n,i=this.eventName(t),r=this._svg,o=this._handlers[i];if(o){for(n=o.length;--n>=0;)(o[n].type===t&&!e||o[n].handler===e)&&(r.removeEventListener(i,o[n].listener),o.splice(n,1));return this}},e.exports=i},{"../../util/dom":84,"../Handler":54}],73:[function(t,e,n){function i(t){h.call(this),this._loader=new c(t),this._dirtyID=0}function r(t,e,n){var i,r,o;for(t=f.child(t,n,"linearGradient",g),t.setAttribute("id",e.id),t.setAttribute("x1",e.x1),t.setAttribute("x2",e.x2),t.setAttribute("y1",e.y1),t.setAttribute("y2",e.y2),i=0,r=e.stops.length;r>i;++i)o=f.child(t,i,"stop",g),o.setAttribute("offset",e.stops[i].offset),o.setAttribute("stop-color",e.stops[i].color);f.clear(t,i)}function o(t,e,n){var i;t=f.child(t,n,"clipPath",g),t.setAttribute("id",e.id),i=f.child(t,0,"rect",g),i.setAttribute("x",0),i.setAttribute("y",0),i.setAttribute("width",e.width),i.setAttribute("height",e.height)}function s(t,e){for(;t&&t.dirty!==e;t=t.mark.group){if(t.dirty=e,!t.mark||t.mark.dirty===e)return;t.mark.dirty=e}}function a(t,e,n,i,r){var o=f.child(t,i,e.tag,g,null,r);if(o.__data__=n,o.__values__={fill:"default"},"g"===e.tag){var s=f.child(o,0,"rect",g,"background");s.__data__=n}return n._svg=o}function l(t,e,n){e!==b[t]&&(null!=e?n?w.setAttributeNS(n,t,e):w.setAttribute(t,e):n?w.removeAttributeNS(n,t):w.removeAttribute(t),b[t]=e)}function u(){return"undefined"!=typeof window?window.location.href:""}var c=t("../../util/ImageLoader"),h=t("../Renderer"),d=t("../../util/text"),f=t("../../util/dom"),p=t("../../util/svg"),g=p.metadata.xmlns,m=t("./marks"),v=h.prototype,y=i.prototype=Object.create(v);y.constructor=i,y.initialize=function(t,e,n,i){return t&&(this._svg=f.child(t,0,"svg",g,"marks"),f.clear(t,1),this._root=f.child(this._svg,0,"g",g),f.clear(this._svg,1)),this._defs={clip_id:1,gradient:{},clipping:{}},this.background(this._bgcolor),v.initialize.call(this,t,e,n,i)},y.background=function(t){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",t),v.background.apply(this,arguments)},y.resize=function(t,e,n){if(v.resize.call(this,t,e,n),this._svg){var i=this._width,r=this._height,o=this._padding;this._svg.setAttribute("width",i+o.left+o.right),this._svg.setAttribute("height",r+o.top+o.bottom),this._root.setAttribute("transform","translate("+o.left+","+o.top+")")}return this},y.svg=function(){if(!this._svg)return null;var t={"class":"marks",width:this._width+this._padding.left+this._padding.right,height:this._height+this._padding.top+this._padding.bottom};for(var e in p.metadata)t[e]=p.metadata[e];return f.openTag("svg",t)+this._svg.innerHTML+f.closeTag("svg")},y.imageURL=function(t){return this._loader.imageURL(t)},y.render=function(t,e){return this._dirtyCheck(e)&&(this._dirtyAll&&this._resetDefs(),this.draw(this._root,t,-1),f.clear(this._root,1)),this.updateDefs(),this},y.draw=function(t,e,n){this.drawMark(t,e,n,m[e.marktype])},y.updateDefs=function(){var t,e=this._svg,n=this._defs,i=n.el,s=0;for(t in n.gradient)i||(i=n.el=f.child(e,0,"defs",g)),r(i,n.gradient[t],s++);for(t in n.clipping)i||(i=n.el=f.child(e,0,"defs",g)),o(i,n.clipping[t],s++);i&&(0===s?(e.removeChild(i),n.el=null):f.clear(i,s))},y._resetDefs=function(){var t=this._defs;t.clip_id=1,t.gradient={},t.clipping={}},y.isDirty=function(t){return this._dirtyAll||t.dirty===this._dirtyID},y._dirtyCheck=function(t){if(this._dirtyAll=!0,!t)return!0;var e,n,i,r,o,a,l,u=++this._dirtyID;for(o=0,a=t.length;a>o;++o)e=t[o],n=e.mark,n.marktype!==i&&(i=n.marktype,r=m[i]),"exit"!==e.status?(e=r.nest?n.items[0]:e,e._update!==u&&(e._svg?this._update(r,e._svg,e):(this._dirtyAll=!1,s(e,u)),e._update=u)):e._svg&&(r.nest&&e.mark.items.length?(this._update(r,e._svg,e.mark.items[0]),l=e.mark.items[0],l._svg=e._svg,l._update=u):f.remove(e._svg),e._svg=null);return!this._dirtyAll},y.drawMark=function(t,e,n,i){if(this.isDirty(e)){var r,o,s,l,u,c,h=i.nest?e.items&&e.items.length?[e.items[0]]:[]:e.items||[],d=e.interactive===!1?"none":null,p="g"===i.tag,m=f.cssClass(e);for(r=f.child(t,n+1,"g",g,m),r.setAttribute("class",m),e._svg=r,!p&&d&&r.style.setProperty("pointer-events",d),o=0,s=h.length;s>o;++o)this.isDirty(u=h[o])&&(c=!(this._dirtyAll||u._svg),l=a(r,i,u,o,c),this._update(i,l,u),p&&(c&&(this._dirtyAll=!0),this._recurse(l,u),c&&(this._dirtyAll=!1)));return f.clear(r,o),r}},y._recurse=function(t,e){var n,i,r=e.items||[],o=e.legendItems||[],s=e.axisItems||[],a=0;for(n=0,i=s.length;i>n;++n)"back"===s[n].layer&&this.drawMark(t,s[n],a++,m.group);for(n=0,i=r.length;i>n;++n)this.draw(t,r[n],a++);for(n=0,i=s.length;i>n;++n)"back"!==s[n].layer&&this.drawMark(t,s[n],a++,m.group);for(n=0,i=o.length;i>n;++n)this.drawMark(t,o[n],a++,m.group);f.clear(t,1+a)};var w=null,b=null,A={group:function(t,e,n){w=e.childNodes[0],b=e.__values__,t.background(l,n,this);var i=n.mark.interactive===!1?"none":null;i!==b.events&&(w.style.setProperty("pointer-events",i),b.events=i)},text:function(t,e,n){var i=d.value(n.text);i!==b.text&&(e.textContent=i,b.text=i),i=d.font(n),i!==b.font&&(e.style.setProperty("font",i),b.font=i)}};y._update=function(t,e,n){w=e,b=e.__values__,t.attr(l,n,this);var i=A[t.type];i&&i(t,e,n),this.style(w,n)},y.style=function(t,e){if(null!=e){var n,i,r,o,s;for(n=0,i=p.styleProperties.length;i>n;++n)r=p.styleProperties[n],s=e[r],s!==b[r]&&(o=p.styles[r],null==s?"fill"===o?t.style.setProperty(o,"none"):t.style.removeProperty(o):(s.id&&(this._defs.gradient[s.id]=s,s="url("+u()+"#"+s.id+")"),t.style.setProperty(o,s+"")),b[r]=s)}},e.exports=i},{"../../util/ImageLoader":80,"../../util/dom":84,"../../util/svg":86,"../../util/text":87,"../Renderer":55,"./marks":76}],74:[function(t,e,n){function i(t){a.call(this),this._loader=new l(t),this._text={head:"",root:"",foot:"",defs:"",body:""},this._defs={clip_id:1,gradient:{},clipping:{}}}function r(t,e,n,i){v[i||t]=e}function o(t,e,n,i){if(null==t)return"";var r,o,s,a,l,h="";for("bgrect"===n&&e.interactive===!1&&(h+="pointer-events: none;"),"text"===n&&(h+="font: "+c.font(t)+";"),r=0,o=u.styleProperties.length;o>r;++r)s=u.styleProperties[r],a=u.styles[s],l=t[s],null==l?"fill"===a&&(h+=(h.length?" ":"")+"fill: none;"):(l.id&&(i.gradient[l.id]=l,l="url(#"+l.id+")"),h+=(h.length?" ":"")+a+": "+l+";");return h?'style="'+h+'"':null}function s(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}var a=t("../Renderer"),l=t("../../util/ImageLoader"),u=t("../../util/svg"),c=t("../../util/text"),h=t("../../util/dom"),d=h.openTag,f=h.closeTag,p=t("./marks"),g=a.prototype,m=i.prototype=Object.create(g);m.constructor=i,m.resize=function(t,e,n){g.resize.call(this,t,e,n);var i=this._padding,r=this._text,o={"class":"marks",width:this._width+i.left+i.right,height:this._height+i.top+i.bottom};for(var s in u.metadata)o[s]=u.metadata[s];return r.head=d("svg",o),r.root=d("g",{transform:"translate("+i.left+","+i.top+")"}),r.foot=f("g")+f("svg"),this},m.svg=function(){var t=this._text;return t.head+t.defs+t.root+t.body+t.foot},m.render=function(t){return this._text.body=this.mark(t),this._text.defs=this.buildDefs(),this},m.reset=function(){return this._defs.clip_id=0,this},m.buildDefs=function(){var t,e,n,i,r=this._defs,o="";for(e in r.gradient){for(n=r.gradient[e],i=n.stops,o+=d("linearGradient",{id:e,x1:n.x1,x2:n.x2,y1:n.y1,y2:n.y2}),t=0;t<i.length;++t)o+=d("stop",{offset:i[t].offset,"stop-color":i[t].color})+f("stop");o+=f("linearGradient")}for(e in r.clipping)n=r.clipping[e],o+=d("clipPath",{id:e}),o+=d("rect",{x:0,y:0,width:n.width,height:n.height})+f("rect"),o+=f("clipPath");return o.length>0?d("defs")+o+f("defs"):""},m.imageURL=function(t){return this._loader.imageURL(t)};var v;m.attributes=function(t,e){return v={},t(r,e,this),v},m.mark=function(t){var e,n,i,r=p[t.marktype],a=r.tag,l=r.attr,u=r.nest||!1,g=u?t.items&&t.items.length?[t.items[0]]:[]:t.items||[],m=this._defs,v="";for("g"!==a&&t.interactive===!1&&(e='style="pointer-events: none;"'),v+=d("g",{"class":h.cssClass(t)},e),n=0;n<g.length;++n)i=g[n],e="g"!==a?o(i,t,a,m):null,v+=d(a,this.attributes(l,i),e),"text"===a?v+=s(c.value(i.text)):"g"===a&&(v+=d("rect",this.attributes(r.background,i),o(i,t,"bgrect",m))+f("rect"),v+=this.markGroup(i)),v+=f(a);return v+f("g")},m.markGroup=function(t){var e,n,i="",r=t.axisItems||[],o=t.items||[],s=t.legendItems||[];for(e=0,n=r.length;n>e;++e)"back"===r[e].layer&&(i+=this.mark(r[e]));for(e=0,n=o.length;n>e;++e)i+=this.mark(o[e]);for(e=0,n=r.length;n>e;++e)"back"!==r[e].layer&&(i+=this.mark(r[e]));for(e=0,n=s.length;n>e;++e)i+=this.mark(s[e]);return i},e.exports=i},{"../../util/ImageLoader":80,"../../util/dom":84,"../../util/svg":86,"../../util/text":87,"../Renderer":55,"./marks":76}],75:[function(t,e,n){e.exports={Handler:t("./SVGHandler"),Renderer:t("./SVGRenderer"),string:{Renderer:t("./SVGStringRenderer")}}},{"./SVGHandler":72,"./SVGRenderer":73,"./SVGStringRenderer":74}],76:[function(t,e,n){function i(t){return r(t.x||0,t.y||0)}function r(t,e){return"translate("+t+","+e+")"}var o=t("../../util/text"),s=t("../../util/svg"),a=s.symbolTypes,l=s.textAlign,u=s.path;e.exports={arc:{tag:"path",type:"arc",attr:function(t,e){t("transform",i(e)),t("d",u.arc(e))}},area:{tag:"path",type:"area",nest:!0,attr:function(t,e){var n=e.mark.items;n.length&&t("d",u.area(n))}},group:{tag:"g",type:"group",attr:function(t,e,n){var r,o,s=null;t("transform",i(e)),e.clip&&(r=n._defs,s=e.clip_id||(e.clip_id="clip"+r.clip_id++),o=r.clipping[s]||(r.clipping[s]={id:s}),o.width=e.width||0,o.height=e.height||0),t("clip-path",s?"url(#"+s+")":null)},background:function(t,e){t("class","background"),t("width",e.width||0),t("height",e.height||0)}},image:{tag:"image",type:"image",attr:function(t,e,n){var i=e.x||0,o=e.y||0,s=e.width||0,a=e.height||0,l=n.imageURL(e.url);i-="center"===e.align?s/2:"right"===e.align?s:0,o-="middle"===e.baseline?a/2:"bottom"===e.baseline?a:0,t("href",l,"http://www.w3.org/1999/xlink","xlink:href"),t("transform",r(i,o)),t("width",s),t("height",a)}},line:{tag:"path",type:"line",nest:!0,attr:function(t,e){var n=e.mark.items;n.length&&t("d",u.line(n))}},path:{tag:"path",type:"path",attr:function(t,e){t("transform",i(e)),t("d",e.path)}},rect:{tag:"rect",type:"rect",nest:!1,attr:function(t,e){t("transform",i(e)),t("width",e.width||0),t("height",e.height||0)}},rule:{tag:"line",type:"rule",attr:function(t,e){t("transform",i(e)),t("x2",null!=e.x2?e.x2-(e.x||0):0),t("y2",null!=e.y2?e.y2-(e.y||0):0)}},symbol:{tag:"path",type:"symbol",attr:function(t,e){var n=!e.shape||a[e.shape]?u.symbol(e):u.resize(e.shape,e.size);t("transform",i(e)),t("d",n)}},text:{tag:"text",type:"text",nest:!1,attr:function(t,e){var n,i=e.dx||0,s=(e.dy||0)+o.offset(e),a=e.x||0,u=e.y||0,c=e.angle||0,h=e.radius||0;h&&(n=(e.theta||0)-Math.PI/2,a+=h*Math.cos(n),u+=h*Math.sin(n)),t("text-anchor",l[e.align]||"start"),c?(n=r(a,u)+" rotate("+c+")",(i||s)&&(n+=" "+r(i,s))):n=r(a+i,u+s),t("transform",n)}}}},{"../../util/svg":86,"../../util/text":87}],77:[function(t,e,n){function i(t){this.clear(),t&&this.union(t)}var r=i.prototype;r.clone=function(){return new i(this)},r.clear=function(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},r.set=function(t,e,n,i){return this.x1=t,this.y1=e,this.x2=n,this.y2=i,this},r.add=function(t,e){return t<this.x1&&(this.x1=t),e<this.y1&&(this.y1=e),t>this.x2&&(this.x2=t),e>this.y2&&(this.y2=e),this},r.expand=function(t){return this.x1-=t,this.y1-=t,this.x2+=t,this.y2+=t,this},r.round=function(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},r.translate=function(t,e){return this.x1+=t,this.x2+=t,this.y1+=e,this.y2+=e,this},r.rotate=function(t,e,n){var i=Math.cos(t),r=Math.sin(t),o=e-e*i+n*r,s=n-e*r-n*i,a=this.x1,l=this.x2,u=this.y1,c=this.y2;return this.clear().add(i*a-r*u+o,r*a+i*u+s).add(i*a-r*c+o,r*a+i*c+s).add(i*l-r*u+o,r*l+i*u+s).add(i*l-r*c+o,r*l+i*c+s)},r.union=function(t){return t.x1<this.x1&&(this.x1=t.x1),t.y1<this.y1&&(this.y1=t.y1),t.x2>this.x2&&(this.x2=t.x2),t.y2>this.y2&&(this.y2=t.y2),this},r.encloses=function(t){return t&&this.x1<=t.x1&&this.x2>=t.x2&&this.y1<=t.y1&&this.y2>=t.y2},r.alignsWith=function(t){return t&&(this.x1==t.x1||this.x2==t.x2||this.y1==t.y1||this.y2==t.y2)},r.intersects=function(t){return t&&!(this.x2<t.x1||this.x1>t.x2||this.y2<t.y1||this.y1>t.y2)},r.contains=function(t,e){return!(t<this.x1||t>this.x2||e<this.y1||e>this.y2)},r.width=function(){return this.x2-this.x1},r.height=function(){return this.y2-this.y1},e.exports=i},{}],78:[function(t,e,n){e.exports=function(t){function e(){}function n(e,n){t.add(e,n)}return{bounds:function(e){return arguments.length?(t=e,this):t},beginPath:e,closePath:e,moveTo:n,lineTo:n,quadraticCurveTo:function(e,n,i,r){t.add(e,n),t.add(i,r)},bezierCurveTo:function(e,n,i,r,o,s){t.add(e,n),t.add(i,r),t.add(o,s)}}}},{}],79:[function(t,e,n){function i(t){this.id="gradient_"+r++,this.type=t||"linear",this.stops=[],this.x1=0,this.x2=1,this.y1=0,this.y2=0}var r=0,o=i.prototype;o.stop=function(t,e){return this.stops.push({offset:t,color:e}),this},e.exports=i},{}],80:[function(t,e,n){(function(n){function i(t){this._pending=0,this._config=t||i.Config}function r(t,e){var n=s.sanitizeUrl(this.params(t));if(!n)return e&&e(t,null),null;var i=this,r=new Image;return i._pending+=1,r.onload=function(){i._pending-=1,r.loaded=!0,e&&e(null,r)},r.src=n,r}function o(t,e){var i=this,r=new("undefined"!=typeof window?window.canvas:"undefined"!=typeof n?n.canvas:null).Image;return i._pending+=1,s(this.params(t),function(t,n){return i._pending-=1,t?(e&&e(t,null),null):(r.src=n,r.loaded=!0,void(e&&e(null,r)))}),r}var s=t("datalib/src/import/load");i.Config=null;var a=i.prototype;a.pending=function(){return this._pending},a.params=function(t){var e,n={url:t};for(e in this._config)n[e]=this._config[e];return n},a.imageURL=function(t){return s.sanitizeUrl(this.params(t))},a.loadImage=function(t,e){return s.useXHR?r.call(this,t,e):o.call(this,t,e)},e.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"datalib/src/import/load":22}],81:[function(t,e,n){function i(t){this.mark=t}var r=i.prototype;r.hasPropertySet=function(t){var e=this.mark.def.properties;return e&&null!=e[t]},r.cousin=function(t,e){if(0===t)return this;t=t||-1;var n=this.mark,i=n.group,r=null==e?n.items.indexOf(this):e,o=i.items.indexOf(n)+t;return i.items[o].items[r]},r.sibling=function(t){if(0===t)return this;t=t||-1;var e=this.mark,n=e.items.indexOf(this)+t;return e.items[n]},r.remove=function(){var t=this,e=t.mark.items,n=e.indexOf(t);return n>=0&&(n===e.length-1?e.pop():e.splice(n,1)),t},r.touch=function(){this.pathCache&&(this.pathCache=null)},e.exports=i},{}],82:[function(t,e,n){function i(){return T||(T=b.instance(1,1).getContext("2d"))}function r(t,e){return t.stroke&&0!==t.opacity&&0!==t.stokeOpacity&&e.expand(null!=t.strokeWidth?t.strokeWidth:1),e}function o(t,e,n,i,o){return null==e?n.set(0,0,0,0):(_($.bounds(n),e,i,o),r(t,n)),n}function s(t,e){var n=t.path?t.pathCache||(t.pathCache=E(t.path)):null;return o(t,n,e,t.x,t.y)}function a(t,e){if(0===t.items.length)return e;var n=t.items,i=n[0],r=i.pathCache||(i.pathCache=E(F(n)));return o(i,r,e)}function l(t,e){if(0===t.items.length)return e;var n=t.items,i=n[0],r=i.pathCache||(i.pathCache=E(k(n)));return o(i,r,e)}function u(t,e){var n,i;return r(t,e.set(n=t.x||0,i=t.y||0,n+t.width||0,i+t.height||0))}function c(t,e){var n=t.x||0,i=t.y||0,r=t.width||0,o=t.height||0;return n-="center"===t.align?r/2:"right"===t.align?r:0,i-="middle"===t.baseline?o/2:"bottom"===t.baseline?o:0,e.set(n,i,n+r,i+o)}function h(t,e){var n,i;return r(t,e.set(n=t.x||0,i=t.y||0,null!=t.x2?t.x2:n,null!=t.y2?t.y2:i))}function d(t,e){var n,i,o,s,a,l,u,c,h,d=t.x||0,f=t.y||0,p=t.innerRadius||0,g=t.outerRadius||0,m=(t.startAngle||0)-S,v=(t.endAngle||0)-S,y=1/0,w=-(1/0),b=1/0,A=-(1/0),C=[m,v],x=m-m%S;for(i=0;4>i&&v>x;++i,x+=S)C.push(x);for(i=0,o=C.length;o>i;++i)n=C[i],s=Math.cos(n),l=p*s,c=g*s,a=Math.sin(n),u=p*a,h=g*a,y=Math.min(y,l,c),w=Math.max(w,l,c),b=Math.min(b,u,h),A=Math.max(A,u,h);return r(t,e.set(d+y,f+b,d+w,f+A))}function f(t,e){var n,i,o,s,a=null!=t.size?t.size:100,l=t.x||0,u=t.y||0;switch(t.shape){case"cross":i=3*Math.sqrt(a/5)/2,e.set(l-i,u-i,l+i,u+i);break;case"diamond":s=Math.sqrt(a/(2*M)),o=s*M,e.set(l-o,u-s,l+o,u+s);break;case"square":i=Math.sqrt(a),n=i/2,e.set(l-n,u-n,l+n,u+n);break;case"triangle-down":o=Math.sqrt(a/D),s=o*D/2,e.set(l-o,u-s,l+o,u+s);break;case"triangle-up":o=Math.sqrt(a/D),s=o*D/2,e.set(l-o,u-s,l+o,u+s);break;default:n=Math.sqrt(a/Math.PI),e.set(l-n,u-n,l+n,u+n)}return r(t,e)}function p(t,e,n){var r,o,s=i(),a=C.size(t),l=t.align,u=t.radius||0,c=t.x||0,h=t.y||0,d=t.dx||0,f=(t.dy||0)+C.offset(t)-Math.round(.8*a);return u&&(o=(t.theta||0)-Math.PI/2,c+=u*Math.cos(o),h+=u*Math.sin(o)),s.font=C.font(t),r=s.measureText(C.value(t.text)).width,"center"===l?d-=r/2:"right"===l&&(d-=r),e.set(d+=c,f+=h,d+r,f+a),t.angle&&!n&&e.rotate(t.angle*Math.PI/180,c,h),e.expand(n?0:1)}function g(t,e,n){var i,o,s=t.axisItems||[],a=t.items||[],l=t.legendItems||[];if(!t.clip){for(i=0,o=s.length;o>i;++i)e.union(s[i].bounds);for(i=0,o=a.length;o>i;++i)a[i].bounds&&e.union(a[i].bounds);if(n)for(i=0,o=l.length;o>i;++i)e.union(l[i].bounds)}return(t.clip||t.width||t.height)&&r(t,e.add(0,0).add(t.width||0,t.height||0)),e.translate(t.x||0,t.y||0)}function m(t,e,n){var i=t.mark.marktype;e=e||L[i],e.nest&&(t=t.mark);var r=t.bounds,o=t["bounds:prev"]||(t["bounds:prev"]=new w);return r?(o.clear().union(r),r.clear()):t.bounds=new w,e(t,t.bounds,n),r||o.clear().union(t.bounds),t.bounds}function v(t,e,n){var i,r,o,s,a=t.marktype,l=L[a],u=t.items,c=u&&u.length;if(l.nest)return o=c?u[0]:(B.mark=t,B),s=m(o,l,n),e=e&&e.union(s)||s;if(e=e||t.bounds&&t.bounds.clear()||new w,c)for(i=0,r=u.length;r>i;++i)e.union(m(u[i],l,n));return t.bounds=e}var y=t("./BoundsContext"),w=t("./Bounds"),b=t("./canvas"),A=t("./svg"),C=t("./text"),x=t("../path"),E=x.parse,_=x.render,F=A.path.area,k=A.path.line,S=Math.PI/2,D=Math.sqrt(3),M=Math.tan(30*Math.PI/180),T=null,$=y(),L={group:g,symbol:f,image:c,rect:u,rule:h,arc:d,text:p,path:s,area:a,line:l};L.area.nest=!0,L.line.nest=!0;var B={mark:null};e.exports={mark:v,item:m,text:p,group:g}},{"../path":51,"./Bounds":77,"./BoundsContext":78,"./canvas":83,"./svg":86,"./text":87}],83:[function(t,e,n){(function(t){function n(e,n){e=e||1,n=n||1;var i;if("undefined"!=typeof document&&document.createElement)i=document.createElement("canvas"),i.width=e,i.height=n;else{var r="undefined"!=typeof window?window.canvas:"undefined"!=typeof t?t.canvas:null;if(!r.prototype)return null;i=new r(e,n)}return o(i)}function i(t,e,n,i,o){var s=this._ctx=t.getContext("2d"),a=1;return t.width=e+i.left+i.right,t.height=n+i.top+i.bottom,o&&"undefined"!=typeof HTMLElement&&t instanceof HTMLElement&&(s.pixelratio=a=r(t)||1),s.setTransform(a,0,0,a,a*i.left,a*i.top),t}function r(t){var e=t.getContext("2d"),n=window&&window.devicePixelRatio||1,i=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1,r=n/i;if(n!==i){var o=t.width,s=t.height;t.width=o*r,t.height=s*r,t.style.width=o+"px",t.style.height=s+"px"}return r}function o(t){var e=t.getContext("2d");if(!e.vgLineDash){var n=function(){},i=[];return e.setLineDash?(e.vgLineDash=function(t){this.setLineDash(t||i)},e.vgLineDashOffset=function(t){this.lineDashOffset=t}):void 0!==e.webkitLineDash?(e.vgLineDash=function(t){this.webkitLineDash=t||i},e.vgLineDashOffset=function(t){this.webkitLineDashOffset=t}):void 0!==e.mozDash?(e.vgLineDash=function(t){this.mozDash=t},e.vgLineDashOffset=n):(e.vgLineDash=n,e.vgLineDashOffset=n),t}}e.exports={instance:n,resize:i,lineDash:o}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],84:[function(t,e,n){function i(t,e,n){return n?t.createElementNS(n,e):t.createElement(e)}function r(t){if(t){var e=t.parentNode;
e&&(e.removeChild(t),e.childNodes&&e.childNodes.length||r(e))}}e.exports={find:function(t,e){e=e.toLowerCase();for(var n=0,i=t.childNodes.length;i>n;++n)if(t.childNodes[n].tagName.toLowerCase()===e)return t.childNodes[n]},child:function(t,e,n,r,o,s){var a,l;return a=l=t.childNodes[e],(!a||s||a.tagName.toLowerCase()!==n.toLowerCase()||o&&a.getAttribute("class")!=o)&&(a=i(t.ownerDocument,n,r),t.insertBefore(a,l||null),o&&a.setAttribute("class",o)),a},clear:function(t,e){for(var n=t.childNodes.length;n>e;)t.removeChild(t.childNodes[--n]);return t},remove:r,cssClass:function(t){return"mark-"+t.marktype+(t.name?" "+t.name:"")},openTag:function(t,e,n){var i,r,o="<"+t;if(e)for(i in e)r=e[i],null!=r&&(o+=" "+i+'="'+r+'"');return n&&(o+=" "+n),o+">"},closeTag:function(t){return"</"+t+">"}}},{}],85:[function(t,e,n){function i(t,e){return JSON.stringify(t,l,e)}function r(t){var e="string"==typeof t?JSON.parse(t):t;return o(e)}function o(t){var e,n,i,r,l,u=t.marktype;for(i=0,r=a.length;r>i;++i)if(l=t[a[i]])for(e=0,n=l.length;n>e;++e)l[e][u?"mark":"group"]=t,u&&"group"!==u||o(l[e]);return u&&s.mark(t),t}var s=t("../util/bound"),a=["items","axisItems","legendItems"],l=["marktype","name","interactive","clip","items","axisItems","legendItems","layer","x","y","width","height","align","baseline","fill","fillOpacity","opacity","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","startAngle","endAngle","innerRadius","outerRadius","interpolate","tension","orient","url","path","x2","y2","size","shape","text","angle","theta","radius","dx","dy","font","fontSize","fontWeight","fontStyle","fontVariant"];e.exports={toJSON:i,fromJSON:r}},{"../util/bound":82}],86:[function(t,e,n){(function(n){function i(t){return t.x||0}function r(t){return t.y||0}function o(t){return(t.x||0)+(t.width||0)}function s(t){return(t.y||0)+(t.height||0)}function a(t){return null==t.size?100:t.size}function l(t){return t.shape||"circle"}var u=t("datalib"),c=("undefined"!=typeof window?window.d3:"undefined"!=typeof n?n.d3:null).svg,h=t("../path/parse"),d=c.area().x(i).y1(r).y0(s),f=c.area().y(r).x1(i).x0(o),p=c.line().x(i).y(r);e.exports={metadata:{version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},path:{arc:c.arc(),symbol:c.symbol().type(l).size(a),area:function(t){var e=t[0];return("horizontal"===e.orient?f:d).interpolate(e.interpolate||"linear").tension(e.tension||.7)(t)},line:function(t){var e=t[0];return p.interpolate(e.interpolate||"linear").tension(e.tension||.7)(t)},resize:function(t,e){var n,i,r,o,s,a,l,u=h(t),c="";for(e=Math.sqrt(e),o=0,s=u.length;s>o;++o)for(n=u[o],a=0,l=n.length;l>a&&"Z"!==n[a];++a)(i=+n[a])===i&&(r=t.indexOf(i),c+=t.substring(0,r)+i*e,t=t.substring(r+(i+"").length));return c+"Z"}},symbolTypes:u.toMap(c.symbolTypes),textAlign:{left:"start",center:"middle",right:"end"},textBaseline:{top:"before-edge",bottom:"after-edge",middle:"central"},styles:{fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeWidth:"stroke-width",strokeOpacity:"stroke-opacity",strokeCap:"stroke-linecap",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",opacity:"opacity"},styleProperties:["fill","fillOpacity","stroke","strokeWidth","strokeOpacity","strokeCap","strokeDash","strokeDashOffset","opacity"]}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../path/parse":52,datalib:26}],87:[function(t,e,n){function i(t){return null!=t.fontSize?t.fontSize:11}e.exports={size:i,value:function(t){return null!=t?String(t):""},font:function(t,e){var n=t.font;return e&&n&&(n=String(n).replace(/\"/g,"'")),""+(t.fontStyle?t.fontStyle+" ":"")+(t.fontVariant?t.fontVariant+" ":"")+(t.fontWeight?t.fontWeight+" ":"")+i(t)+"px "+(n||"sans-serif")},offset:function(t){var e=t.baseline,n=i(t);return Math.round("top"===e?.93*n:"middle"===e?.3*n:"bottom"===e?-.21*n:0)}}},{}],88:[function(t,e,n){function i(t,e,n){a.call(this,t,e,n),this._type="canvas",this._renderers={canvas:o,svg:s}}var r=t("vega-scenegraph").render,o=r.canvas,s=r.svg.string,a=t("./View"),l=i.prototype=new a;l.renderer=function(t){return t&&(this._type=t),a.prototype.renderer.apply(this,arguments)},l.canvas=function(){return"canvas"===this._type?this._renderer.canvas():null},l.canvasAsync=function(t){function e(){0===n.pendingImages()?(i.render(),t(i.canvas())):setTimeout(e,10)}var n=this._renderer,i=this;return"canvas"!==this._type?null:void(n.pendingImages()>0?e():t(this.canvas()))},l.svg=function(){return"svg"===this._type?this._renderer.svg():null},l.initialize=function(){var t=this._width,e=this._height,n=this._bgcolor,i=this._padding,r=this.model().config();return this._viewport&&(t=this._viewport[0]-(i?i.left+i.right:0),e=this._viewport[1]-(i?i.top+i.bottom:0)),this._renderer=(this._renderer||new this._io.Renderer(r.load)).initialize(null,t,e,i).background(n),this},e.exports=i},{"./View":90,"vega-scenegraph":49}],89:[function(t,e,n){function i(t){this._defs={},this._predicates={},this._scene=null,this._groups=null,this._node=null,this._builder=null,this._reset={axes:!1,legends:!1},this.config(t),this.expr=d(this),l.init.call(this)}function r(t){var e=this,n={};return o.isArray(t)?(t.forEach(function(t){n[t]=e._predicates[t]}),n):this._predicates[t]}var o=t("datalib"),s=t("vega-dataflow"),a=s.ChangeSet,l=s.Graph.prototype,u=s.Node,c=t("../scene/GroupBuilder"),h=t("../scene/visit"),d=t("../parse/expr"),f=t("./config"),p=i.prototype=Object.create(l);p.constructor=i,p.defs=function(t){return arguments.length?(this._defs=t,this):this._defs},p.config=function(t){if(!arguments.length)return this._config;this._config=Object.create(f);for(var e in t){var n=t[e],i=this._config[e];o.isObject(n)&&o.isObject(i)?this._config[e]=o.extend({},i,n):this._config[e]=n}return this},p.width=function(t){return this._defs&&(this._defs.width=t),this._defs&&this._defs.marks&&(this._defs.marks.width=t),this._scene&&(this._scene.items[0].width=t,this._scene.items[0]._dirty=!0),this._reset.axes=!0,this},p.height=function(t){return this._defs&&(this._defs.height=t),this._defs&&this._defs.marks&&(this._defs.marks.height=t),this._scene&&(this._scene.items[0].height=t,this._scene.items[0]._dirty=!0),this._reset.axes=!0,this},p.node=function(){return this._node||(this._node=new u(this))},p.data=function(){var t=l.data.apply(this,arguments);return arguments.length>1&&this.node().addListener(t.pipeline()[0]),t},p.predicate=function(t,e){return 1===arguments.length?r.call(this,t):this._predicates[t]=e},p.predicates=function(){return this._predicates},p.scene=function(t){if(!arguments.length)return this._scene;this._builder&&(this.node().removeListener(this._builder),this._builder._groupBuilder.disconnect());var e=this,n=this._builder=new u(this);return n.evaluate=function(i){if(n._groupBuilder)return i;var r=n._groupBuilder=new c(e,e._defs.marks,e._scene={}),o=r.pipeline();return e._groups={},this.addListener(r.connect()),o[o.length-1].addListener(t),i},this.addListener(n),this},p.group=function(t,e){var n=this._groups;return 1===arguments.length?n[t]:(n[t]=e,this)},p.reset=function(){return this._scene&&this._reset.axes&&(h(this._scene,function(t){t.axes&&t.axes.forEach(function(t){t.reset()})}),this._reset.axes=!1),this._scene&&this._reset.legends&&(h(this._scene,function(t){t.legends&&t.legends.forEach(function(t){t.reset()})}),this._reset.legends=!1),this},p.addListener=function(t){this.node().addListener(t)},p.removeListener=function(t){this.node().removeListener(t)},p.fire=function(t){t||(t=a.create()),this.propagate(t,this.node())},e.exports=i},{"../parse/expr":96,"../scene/GroupBuilder":112,"../scene/visit":117,"./config":91,datalib:26,"vega-dataflow":41}],90:[function(t,e,n){(function(n){function i(t,e,n){this._el=null,this._model=null,this._width=this.__width=e||500,this._height=this.__height=n||300,this._bgcolor=null,this._cursor=!0,this._autopad=1,this._padding={top:0,left:0,bottom:0,right:0},this._viewport=null,this._renderer=null,this._handler=null,this._streamer=null,this._skipSignals=!1,this._changeset=null,this._repaint=!0,this._renderers=c,this._io=null,this._api={}}function r(t){var e=this,n=this._model.data(t);if(!n)return h.error('Data source "'+t+'" is not defined.');var i=n.pipeline()[0],r=this._streamer,o={};return this._api[t]?this._api[t]:(o.insert=function(s){return n.insert(l.duplicate(s)),r.addListener(i),e._changeset.data[t]=1,o},o.update=function(){return r.addListener(i),e._changeset.data[t]=1,n.update.apply(n,arguments),o},o.remove=function(){return r.addListener(i),e._changeset.data[t]=1,n.remove.apply(n,arguments),o},o.values=function(){return n.values()},this._api[t]=o)}function o(t,e){var n=this._changeset,i=this._model.signal(t);return i?(this._streamer.addListener(i.value(e)),n.signals[t]=1,void(n.reflow=!0)):h.error('Signal "'+t+'" is not defined.')}function s(){var t=this;return t._renderNode=new u.Node(t._model).router(!0),t._renderNode.evaluate=function(e){h.debug(e,["rendering"]);var n=t._model.scene(),i=t._handler;return i&&i.scene&&i.scene(n),e.trans?e.trans.start(function(e){t._renderer.render(n,e)}):t._repaint?t._renderer.render(n):e.dirty.length&&t._renderer.render(n,e.dirty),e.dirty.length&&(e.dirty.forEach(function(t){t._dirty=!1}),n.items[0]._dirty=!1),t._repaint=t._skipSignals=!1,e},t._model.scene(t._renderNode),!0}var a="undefined"!=typeof window?window.d3:"undefined"!=typeof n?n.d3:null,l=t("datalib"),u=t("vega-dataflow"),c=t("vega-scenegraph").render,h=t("vega-logging"),d=u.Dependencies,f=t("../parse/streams"),p=t("../scene/Encoder"),g=t("../scene/Transition"),m=i.prototype;m.model=function(t){return arguments.length?(this._model!==t&&(this._model=t,this._streamer=new u.Node(t),this._streamer._rank=-1,this._changeset=u.ChangeSet.create(),this._handler&&this._handler.model(t)),this):this._model},m.data=function(t){var e=this;return arguments.length?l.isString(t)?r.call(e,t):(l.isObject(t)&&l.keys(t).forEach(function(n){var i=r.call(e,n);t[n](i)}),this):e._model.values()};var v=l.toMap(["width","height","padding"]);m.signal=function(t,e,n){var i,r,s=this._model;if(!arguments.length)return s.values(d.SIGNALS);if(1===arguments.length&&l.isString(t))return s.values(d.SIGNALS,t);l.isObject(t)?(r=t,n=e):(r={},r[t]=e);for(i in r)v[i]?this[i](r[i]):o.call(this,i,r[i]);return this._skipSignals=n,this},m.width=function(t){return arguments.length?(this.__width!==t&&(this._width=this.__width=t,this.model().width(t),this.initialize(),this._strict&&(this._autopad=1),o.call(this,"width",t)),this):this.__width},m.height=function(t){return arguments.length?(this.__height!==t&&(this._height=this.__height=t,this.model().height(t),this.initialize(),this._strict&&(this._autopad=1),o.call(this,"height",t)),this):this.__height},m.background=function(t){return arguments.length?(this._bgcolor!==t&&(this._bgcolor=t,this.initialize()),this):this._bgcolor},m.padding=function(t){return arguments.length?(this._padding!==t&&(l.isString(t)?(this._autopad=1,this._padding={top:0,left:0,bottom:0,right:0},this._strict="strict"===t):(this._autopad=0,this._padding=t,this._strict=!1),this._renderer&&this._renderer.resize(this._width,this._height,this._padding),this._handler&&this._handler.padding(this._padding),o.call(this,"padding",this._padding)),this._repaint=!0,this):this._padding},m.autopad=function(t){if(this._autopad<1)return this;this._autopad=0;var e=this.model().scene().bounds,n=this._padding,i=this.model().config(),r=i.autopadInset,s=e.x1<0?Math.ceil(-e.x1)+r:0,a=e.y1<0?Math.ceil(-e.y1)+r:0,l=e.x2>this._width?Math.ceil(+e.x2-this._width)+r:0;return e=e.y2>this._height?Math.ceil(+e.y2-this._height)+r:0,n={left:s,top:a,right:l,bottom:e},this._strict?(this._autopad=0,this._padding=n,this._width=Math.max(0,this.__width-(s+l)),this._height=Math.max(0,this.__height-(a+e)),this._model.width(this._width).height(this._height).reset(),o.call(this,"width",this._width),o.call(this,"height",this._height),o.call(this,"padding",n),this.initialize().update({props:"enter"}).update({props:"update"})):this.padding(n).update(t),this},m.viewport=function(t){return arguments.length?(this._viewport!==t&&(this._viewport=t,this.initialize()),this):this._viewport},m.renderer=function(t){if(!arguments.length)return this._renderer;if(this._renderers[t])t=this._renderers[t];else{if(l.isString(t))throw new Error("Unknown renderer: "+t);if(!t)throw new Error("No renderer specified")}return this._io!==t&&(this._io=t,this._renderer=null,this.initialize(),this._build&&this.render()),this},m.initialize=function(t){var e,n=this,i=n._width,r=n._height,o=n._padding,s=n._bgcolor,l=this.model().config();return arguments.length&&null!==t||(t=this._el?this._el.parentNode:null)?(a.select(t).select("div.vega").remove(),this._el=t=a.select(t).append("div").attr("class","vega").style("position","relative").node(),n._viewport&&a.select(t).style("width",(n._viewport[0]||i)+"px").style("height",(n._viewport[1]||r)+"px").style("overflow","auto"),c.canvas.Renderer.RETINA=l.render.retina,n._renderer=(n._renderer||new this._io.Renderer(l.load)).initialize(t,i,r,o).background(s),e=n._handler,n._handler=(new this._io.Handler).initialize(t,o,n),e?e.handlers().forEach(function(t){n._handler.on(t.type,t.handler)}):n._detach=f(this),this._repaint=!0,this):this},m.destroy=function(){this._detach&&this._detach()},m.update=function(t){t=t||{};var e=this,n=this._model,i=this._streamer,r=this._changeset,o=t.duration?new g(t.duration,t.ease):null;if(o&&(r.trans=o),void 0!==t.props){if(l.keys(r.data).length>0)throw Error("New data values are not reflected in the visualization. Please call view.update() before updating a specified property set.");r.reflow=!0,r.request=t.props}var a=e._build;return e._build=e._build||s.call(this),t.items&&a?(p.update(n,t.trans,t.props,t.items,r.dirty),e._renderNode.evaluate(r)):i.listeners().length&&a?(this._repaint&&i.addListener(n.node()),n.propagate(r,i,null,this._skipSignals),i.disconnect()):n.fire(r),e._changeset=u.ChangeSet.create(),e.autopad(t)},m.toImageURL=function(t){var e,n=this;switch(t||"png"){case"canvas":case"png":e=c.canvas.Renderer;break;case"svg":e=c.svg.string.Renderer;break;default:throw Error("Unrecognized renderer type: "+t)}var i=c.canvas.Renderer.RETINA;c.canvas.Renderer.RETINA=!1;var r=new e(n._model.config.load).initialize(null,n._width,n._height,n._padding).background(n._bgcolor).render(n._model.scene());if(c.canvas.Renderer.RETINA=i,"svg"===t){var o=new Blob([r.svg()],{type:"image/svg+xml"});return window.URL.createObjectURL(o)}return r.canvas().toDataURL("image/png")},m.render=function(t){return this._renderer.render(this._model.scene(),t),this},m.on=function(){return this._handler.on.apply(this._handler,arguments),this},m.onSignal=function(t,e){var n=this._model.signal(t);return n?n.on(e):h.error('Signal "'+t+'" is not defined.'),this},m.off=function(){return this._handler.off.apply(this._handler,arguments),this},m.offSignal=function(t,e){var n=this._model.signal(t);return n?n.off(e):h.error('Signal "'+t+'" is not defined.'),this},i.factory=function(e){var n=t("./HeadlessView");return function(t){t=t||{};var r=e.defs(),o=(t.el?new i:new n).model(e).renderer(t.renderer||"canvas").width(r.width).height(r.height).background(r.background).padding(r.padding).viewport(r.viewport).initialize(t.el);return t.data&&o.data(t.data),t.el&&(t.hover!==!1&&o.on("mouseover",function(t,e){e&&e.hasPropertySet("hover")&&this.update({props:"hover",items:e})}).on("mouseout",function(t,e){e&&e.hasPropertySet("hover")&&this.update({props:"update",items:e})}),t.cursor!==!1&&o.onSignal("cursor",function(t,e){var n=a.select("body");l.isString(e)?(o._cursor="default"===e,n.style("cursor",e)):l.isObject(e)&&o._cursor&&n.style("cursor",e["default"])})),o}},e.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../parse/streams":107,"../scene/Encoder":111,"../scene/Transition":114,"./HeadlessView":88,datalib:26,"vega-dataflow":41,"vega-logging":48,"vega-scenegraph":49}],91:[function(t,e,n){(function(t){var n="undefined"!=typeof window?window.d3:"undefined"!=typeof t?t.d3:null,i={};i.load={baseURL:"",domainWhiteList:!1},i.autopadInset=5,i.scale={time:n.time.scale,utc:n.time.scale.utc},i.render={retina:!0},i.scene={fill:void 0,fillOpacity:void 0,stroke:void 0,strokeOpacity:void 0,strokeWidth:void 0,strokeDash:void 0,strokeDashOffset:void 0},i.axis={layer:"back",ticks:10,padding:3,axisColor:"#000",axisWidth:1,gridColor:"#000",gridOpacity:.15,tickColor:"#000",tickLabelColor:"#000",tickWidth:1,tickSize:6,tickLabelFontSize:11,tickLabelFont:"sans-serif",titleColor:"#000",titleFont:"sans-serif",titleFontSize:11,titleFontWeight:"bold",titleOffset:"auto",titleOffsetAutoMin:30,titleOffsetAutoMax:1e4,titleOffsetAutoMargin:4},i.legend={orient:"right",offset:20,padding:3,margin:2,gradientStrokeColor:"#888",gradientStrokeWidth:1,gradientHeight:16,gradientWidth:100,labelColor:"#000",labelFontSize:10,labelFont:"sans-serif",labelAlign:"left",labelBaseline:"middle",labelOffset:8,symbolShape:"circle",symbolSize:50,symbolColor:"#888",symbolStrokeWidth:1,titleColor:"#000",titleFont:"sans-serif",titleFontSize:11,titleFontWeight:"bold"},i.color={rgb:[128,128,128],lab:[50,0,0],hcl:[0,0,50],hsl:[0,0,.5]},i.range={category10:n.scale.category10().range(),category20:n.scale.category20().range(),category20b:n.scale.category20b().range(),category20c:n.scale.category20c().range(),shapes:["circle","cross","diamond","square","triangle-down","triangle-up"]},e.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],92:[function(t,e,n){function i(t,e,n){var i=t.schema;i&&(i.refs&&r.extend(n.refs,i.refs),i.defs&&r.extend(n.defs,i.defs))}var r=t("datalib"),o=t("../parse"),s=t("../scene/Scale"),a=t("./config");e.exports=function(t){var e=null;return t=t||{},t.url?e=r.json(r.extend({url:t.url},a.load)):(e={$schema:"http://json-schema.org/draft-04/schema#",title:"Vega Visualization Specification Language",defs:{},refs:{},$ref:"#/defs/spec"},r.keys(o).forEach(function(n){i(o[n],t,e)}),i(s,t,e)),t.properties&&r.keys(t.properties).forEach(function(n){e.defs.propset.properties[n]={$ref:"#/refs/"+t.properties[n]+"Value"}}),t.propertySets&&r.keys(t.propertySets).forEach(function(t){e.defs.mark.properties.properties.properties[t]={$ref:"#/defs/propset"}}),e}},{"../parse":97,"../scene/Scale":113,"./config":91,datalib:26}],93:[function(t,e,n){function i(t,e,n,i){var s=o(t);(e||[]).forEach(function(e,o){n[o]=n[o]||a(t,s[e.type]),r(s[e.type],e,o,n[o],i)})}function r(t,e,n,i,r){var o;void 0!==e.scale&&i.scale(o=r.scale(e.scale));var a=t.grid;s.isObject(a)&&(t.grid=void 0!==a[o.type]?a[o.type]:a["default"]),i.orient(l(e,t,"orient",u[e.type])),i.offset(l(e,t,"offset",0)),i.layer(l(e,t,"layer","front")),i.grid(l(e,t,"grid",!1)),i.title(e.title||null),i.titleOffset(l(e,t,"titleOffset")),i.tickValues(e.values||null),i.tickFormat(e.format||null),i.tickFormatType(e.formatType||null),i.tickSubdivide(e.subdivide||0),i.tickPadding(l(e,t,"tickPadding",t.padding));var c=l(e,t,"tickSize"),h=[c,c,c];h[0]=l(e,t,"tickSizeMajor",h[0]),h[1]=l(e,t,"tickSizeMinor",h[1]),h[2]=l(e,t,"tickSizeEnd",h[2]),h.length&&i.tickSize.apply(i,h),i.tickCount(l(e,t,"ticks"));var d=e.properties;d&&d.ticks?(i.majorTickProperties(d.majorTicks?s.extend({},d.ticks,d.majorTicks):d.ticks),i.minorTickProperties(d.minorTicks?s.extend({},d.ticks,d.minorTicks):d.ticks)):(i.majorTickProperties(d&&d.majorTicks||{}),i.minorTickProperties(d&&d.minorTicks||{})),i.tickLabelProperties(d&&d.labels||{}),i.titleProperties(d&&d.title||{}),i.gridLineProperties(d&&d.grid||{}),i.domainProperties(d&&d.axis||{})}function o(t){var e=t.config(),n=e.axis;return{x:s.extend(s.duplicate(n),e.axis_x),y:s.extend(s.duplicate(n),e.axis_y)}}var s=t("datalib"),a=t("../scene/axis"),l=t("../util/theme-val"),u={x:"bottom",y:"left",top:"top",bottom:"bottom",left:"left",right:"right"};e.exports=i},{"../scene/axis":115,"../util/theme-val":149,datalib:26}],94:[function(t,e,n){(function(t){function n(t){return null==t?null:i.rgb(t)+""}var i="undefined"!=typeof window?window.d3:"undefined"!=typeof t?t.d3:null;e.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],95:[function(t,e,n){function i(t,e,n){function s(t,e){o.error("PARSE DATA FAILED: "+e.name+" "+t),u=-1,n(t)}function a(e){return function(i,o){if(i)s(i,e);else if(u>0)try{t.data(e.name).values(r.read(o,e.format)),0===--u&&n()}catch(a){s(a,e)}}}var l=t.config(),u=0;return(e||[]).forEach(function(e){e.url&&(u+=1,r.load(r.extend({url:e.url},l.load),a(e)));try{i.datasource(t,e)}catch(n){s(n,e)}}),0===u&&setTimeout(n,1),e}var r=t("datalib"),o=t("vega-logging"),s=t("./transforms"),a=t("./modify");i.datasource=function(t,e){var n=(e.transform||[]).map(function(e){return s(t,e)}),i=(e.modify||[]).map(function(n){return a(t,n,e)}),o=t.data(e.name,i.concat(n));return e.values?o.values(r.read(e.values,e.format)):e.source&&(o.source(e.source).addListener(o),t.removeListener(o.pipeline()[0])),o},e.exports=i},{"./modify":101,"./transforms":108,datalib:26,"vega-logging":48}],96:[function(t,e,n){function i(t){return function(e){e=e.map(t);var n=e.length;if(1>n||n>2)throw Error("open takes exactly 1 or 2 arguments.");return"this.defs.open(this.model, "+e[0]+(n>1?","+e[1]:"")+")"}}function r(t,e,n){if("undefined"==typeof window||!window||!window.open)throw Error("Open function can only be invoked in a browser.");var i=p.extend({type:"open",url:e,name:n},t.config().load),r=p.load.sanitizeUrl(i);if(!r)throw Error("Invalid URL: "+i.url);window.open(r,n)}function o(t,e){return function(n){n=n.map(t);var i=n.length;if(2>i||i>3)throw Error("scale takes exactly 2 or 3 arguments.");return"this.defs.scale(this.model, "+e+", "+n[0]+","+n[1]+(i>2?","+n[2]:"")+")"}}function s(t,e,n,i,r){if(r&&r.scale||(r=r&&r.mark?r.mark.group:t.scene().items[0]),t.group(r._id)!==r)throw Error('Scope for scale "'+n+'" is not a valid group item.');var o=r.scale(n);return o?e?o.invert(i):o(i):i}function a(t,e,n,i){var r=e,o=n;return e>n&&(r=n,o=e),i?t>r&&o>t:t>=r&&o>=t}function l(t){return function(e,n,i,r){var o;if(3!==e.length)throw Error("indata takes 3 arguments.");if("Literal"!==e[0].type)throw Error("Data source name must be a literal for indata.");return o=e[0].value,r[o]=1,"Literal"===e[2].type&&l.model.requestIndex(o,e[2].value),e=e.map(t),"this.defs.indata(this.model,"+e[0]+","+e[1]+","+e[2]+")"}}function u(t,e,n,i){var r=t.data(e),o=r.getIndex(i);return o[n]>0}function c(t,e){return g.format(t,"number")(e)}function h(t,e){return g.format(t,"time")(e)}function d(t,e){return g.format(t,"utc")(e)}function f(t){return function(e){l.model=t;var n=y(e);return n.model=t,n.sig=t?t._signals:{},n}}var p=t("datalib"),g=p.template,m=t("vega-expression"),v=["datum","parent","event","signals"],y=m.compiler(v,{idWhiteList:v,fieldVar:v[0],globalVar:function(t){return"this.sig["+p.str(t)+"]._value"},functions:function(t){var e=m.functions(t);return e.eventItem="event.vg.getItem",e.eventGroup="event.vg.getGroup",e.eventX="event.vg.getX",e.eventY="event.vg.getY",e.open=i(t),e.scale=o(t,!1),e.iscale=o(t,!0),e.inrange="this.defs.inrange",e.indata=l(t),e.format="this.defs.format",e.timeFormat="this.defs.timeFormat",e.utcFormat="this.defs.utcFormat",e},functionDefs:function(){return{scale:s,inrange:a,indata:u,format:c,timeFormat:h,utcFormat:d,open:r}}});f.scale=s,f.codegen=y.codegen,e.exports=f},{datalib:26,"vega-expression":46}],97:[function(t,e,n){e.exports={axes:t("./axes"),background:t("./background"),data:t("./data"),events:t("vega-event-selector"),expr:t("./expr"),legends:t("./legends"),mark:t("./mark"),marks:t("./marks"),modify:t("./modify"),padding:t("./padding"),predicates:t("./predicates"),properties:t("./properties"),signals:t("./signals"),spec:t("./spec"),streams:t("./streams"),transforms:t("./transforms")}},{"./axes":93,"./background":94,"./data":95,"./expr":96,"./legends":98,"./mark":99,"./marks":100,"./modify":101,"./padding":102,"./predicates":103,"./properties":104,"./signals":105,"./spec":106,"./streams":107,"./transforms":108,"vega-event-selector":42}],98:[function(t,e,n){function i(t,e,n,i){(e||[]).forEach(function(e,s){n[s]=n[s]||o(t),r(e,s,n[s],i)})}function r(t,e,n,i){n.size(t.size?i.scale(t.size):null),n.shape(t.shape?i.scale(t.shape):null),n.fill(t.fill?i.scale(t.fill):null),n.stroke(t.stroke?i.scale(t.stroke):null),n.opacity(t.opacity?i.scale(t.opacity):null),t.orient&&n.orient(t.orient),null!=t.offset&&n.offset(t.offset),n.title(t.title||null),n.values(t.values||null),n.format(void 0!==t.format?t.format:null),n.formatType(t.formatType||null);var r=t.properties;n.titleProperties(r&&r.title||{}),n.labelProperties(r&&r.labels||{}),n.legendProperties(r&&r.legend||{}),n.symbolProperties(r&&r.symbols||{}),n.gradientProperties(r&&r.gradient||{})}var o=t("../scene/legend");e.exports=i},{"../scene/legend":116}],99:[function(t,e,n){function i(t,e,n){var s=e.properties||n&&(e.properties={}),a=s.enter||n&&(s.enter={}),l=e.marks,u=t.config().marks||{};if(n){"symbol"===e.type&&!a.size&&u.symbolSize&&(a.size={value:u.symbolSize});var c={arc:"fill",area:"fill",rect:"fill",symbol:"fill",text:"fill",line:"stroke",path:"stroke",rule:"stroke"},h=c[e.type];!a[h]&&u.color&&(a[h]={value:u.color})}return r.keys(s).forEach(function(n){s[n]=o(t,e.type,s[n])}),e.delay&&(e.delay=o(t,e.type,{delay:e.delay})),l&&(e.marks=l.map(function(e){return i(t,e,!0)})),e}var r=t("datalib"),o=t("./properties");e.exports=i},{"./properties":104,datalib:26}],100:[function(t,e,n){function i(t,e,n,i){return{type:"group",width:n,height:i,properties:r(e.scene||{},t),scales:e.scales||[],axes:e.axes||[],legends:e.legends||[],marks:(e.marks||[]).map(function(e){return o(t,e,!0)})}}function r(t,e){var n,i,r,o,l,u=e.config().scene,c={};for(n=0,i=r=a.length;i>n;++n)o=a[n],void 0!==(l=t[o])?c[o]=l.signal?l:{value:l}:u[o]?c[o]={value:u[o]}:--r;return r?{update:s(e,"group",c)}:{}}var o=t("./mark"),s=t("./properties"),a=["fill","fillOpacity","stroke","strokeOpacity","strokeWidth","strokeDash","strokeDashOffset"];e.exports=i},{"./mark":99,"./properties":104}],101:[function(t,e,n){function i(t,e,n,i){var r,o,s,a,l=!0,u=t.length;for(r=n.length-1;r>=0;--r){for(o=0;u>o;++o)if(s=t[o],a=e&&s(e)||e,s(n[r])!==a){l=!1;break}l&&i.push.apply(i,n.splice(r,1)),l=!0}}function r(t,e,n){var i=c.ingest(e);t.add.push(i),n._data.push(i)}function o(t,e,n){var o=e.signal?s.field(e.signal):null,l=o?o[0]:null,p=e.predicate?t.predicate(e.predicate.name||e.predicate):null,g=e.test?t.expr(e.test):null,m=null===p&&null===g,v=e.type===d.CLEAR,y=s.array(e.field||"data"),w=y.map(s.accessor),b=y.map(s.mutator),A=new u(t).router(v);return A.evaluate=function(u){var A,C;if(null!==p&&(A=t.values(h.DATA,p.data||f),C=t.values(h.SIGNALS,p.signals||f),m=p.call(p,{},A,C,t._predicates)),null!==g&&(C=t.values(h.SIGNALS,g.globals||f),m=g.fn()),a.debug(u,[e.type+"ing",m]),!m||!v&&!u.signals[l])return u;var x,E=o?t.signalRef(e.signal):null,_=t.data(n.name),F=null,k=[],S=[],D=0;return s.isObject(E)?(x=E,e.field||(y=s.keys(x),w=y.map(s.accessor),b=y.map(s.mutator))):(x={},b.forEach(function(t){t(x,E)})),e.type===d.INSERT?r(u,x,_):e.type===d.REMOVE?(i(w,E,u.mod,u.rem),i(w,E,u.add,S),i(w,E,_._data,S)):e.type===d.UPSERT?(u.mod.forEach(function(t){var e=w.every(function(e){return e(t)===e(x)});e&&(s.extend(t,x),D+=1)}),0===D&&r(u,x,_)):e.type===d.TOGGLE?(i(w,E,u.mod,S),u.rem.push.apply(u.rem,S),i(w,E,u.add,k),k.length||S.length?_._data=_._data.filter(function(t){return S.indexOf(t)<0&&k.indexOf(t)<0}):(u.add.push(F=c.ingest(x)),_._data.push(F))):e.type===d.CLEAR&&(u.rem.push.apply(u.rem,u.mod.splice(0)),u.add.splice(0),_._data.splice(0)),y.forEach(function(t){u.fields[t]=1}),u},l&&A.dependency(h.SIGNALS,l),p&&(A.dependency(h.DATA,p.data),A.dependency(h.SIGNALS,p.signals)),g&&(A.dependency(h.SIGNALS,g.globals),A.dependency(h.DATA,g.dataSources)),A}var s=t("datalib"),a=t("vega-logging"),l=t("vega-dataflow"),u=l.Node,c=l.Tuple,h=l.Dependencies,d={INSERT:"insert",REMOVE:"remove",UPSERT:"upsert",TOGGLE:"toggle",CLEAR:"clear"},f=[];e.exports=o},{datalib:26,"vega-dataflow":41,"vega-logging":48}],102:[function(t,e,n){function i(t){return null==t?"auto":r.isObject(t)?t:r.isNumber(t)?{top:t,left:t,right:t,bottom:t}:"strict"===t?t:"auto"}var r=t("datalib");e.exports=i},{datalib:26}],103:[function(t,e,n){function i(t,e){return(e||[]).forEach(function(e){var n=h[e.type](t,e),i=Function("args","db","signals","predicates",n.code);i.root=function(){return t.scene().items[0]},i.nullScale=d,i.isFunction=c.isFunction,i.signals=n.signals,i.data=n.data,t.predicate(e.name,i)}),e}function r(t,e){var n=c.field(t),i="signals["+n.map(c.str).join("][")+"]";return e[n[0]]=1,i}function o(t,e){function n(t){a[t]=1}function i(t){l[t]=1}var o=[],s=[],a={},l={};return c.array(e).forEach(function(e,l){var u="o"+l,h="";if(void 0!==e.value)h=c.str(e.value);else if(e.arg)h="args["+c.str(e.arg)+"]";else if(e.signal)h=r(e.signal,a);else if(e.predicate){var d=e.predicate,f=d&&(d.name||d),p=t.predicate(f),g="predicates["+c.str(f)+"]";p.signals.forEach(n),p.data.forEach(i),c.isObject(d)&&c.keys(d).forEach(function(t){if("name"!==t){var e=d[t];h+="args["+c.str(t)+"] = ",e.signal?h+=r(e.signal,a):e.arg&&(h+="args["+c.str(e.arg)+"]"),h+=", "}}),h+=g+".call("+g+", args, db, signals, predicates)"}o.push(u),s.push(u+"=("+h+")")}),{code:"var "+o.join(", ")+";\n"+s.join(";\n")+";\n",signals:c.keys(a),data:c.keys(l)}}function s(t,e){var n=o(t,e.operands);return"="===e.type&&(e.type="=="),n.code+="o0 = o0 instanceof Date ? o0.getTime() : o0;\no1 = o1 instanceof Date ? o1.getTime() : o1;\n",{code:n.code+"return "+["o0","o1"].join(e.type)+";",signals:n.signals,data:n.data}}function a(t,e){for(var n=o(t,e.operands),i=[],r=0,s=e.operands.length;i.push("o"+r++)<s;);return"and"===e.type?e.type="&&":"or"===e.type&&(e.type="||"),{code:n.code+"return "+i.join(e.type)+";",signals:n.signals,data:n.data}}function l(t,e){var n=[e.item],i="";e.range&&n.push.apply(n,e.range),e.scale&&(i=u(e.scale,n));var r=o(t,n);if(i=r.code+i+"\n  var ordSet = null;\n",e.data){var s=c.field(e.field).map(c.str);i+="var where = function(d) { return d["+s.join("][")+"] == o0 };\n",i+="return db["+c.str(e.data)+"].filter(where).length > 0;"}else e.range&&(e.scale&&(i+="if (scale.length == 2) {\n  ordSet = scale(o1, o2);\n} else {\n  o1 = scale(o1);\no2 = scale(o2);\n}"),i+="return ordSet !== null ? ordSet.indexOf(o0) !== -1 :\n  o1 < o2 ? o1 <= o0 && o0 <= o2 : o2 <= o0 && o0 <= o1;");return{code:i,signals:r.signals,data:r.data.concat(e.data?[e.data]:[])}}function u(t,e){var n="var scale = ",i=e.length;return c.isString(t)?(e.push({value:t}),n+="this.root().scale(o"+i+")"):t.arg?(e.push(t),n+="o"+i):t.name&&(e.push(c.isString(t.name)?{value:t.name}:t.name),n+="(this.isFunction(o"+i+") ? o"+i+" : ",t.scope?(e.push(t.scope),n+="((o"+(i+1)+".scale || this.root().scale)(o"+i+") || this.nullScale)"):n+="this.root().scale(o"+i+")",n+=")"),t.invert===!0&&(n+=".invert"),n+";\n"}var c=t("datalib"),h={"=":s,"==":s,"!=":s,">":s,">=":s,"<":s,"<=":s,and:a,"&&":a,or:a,"||":a,"in":l},d=function(){return 0};d.invert=d,e.exports=i},{datalib:26}],104:[function(t,e,n){(function(n){function i(t,e,n){function i(t){if(null!=v[t]){var e,n,i=f.array(v[t]);for(e=0,n=i.length;n>e;++e)x[t][i[e]]=1}}function r(t){var e=(t.parent?"parent_":"group_")+t.level;x._nRefs[e]=t}var u,c,h,v,y=t.config(),w="",b=f.keys(n),A=[],C={},x={signals:{},scales:{},data:{},fields:{},nested:[],_nRefs:{},reflow:!1};for(w+="var o = trans ? {} : item, d=0, exprs=this.exprs, set=this.tpl.set, tmpl=signals||{}, t;\ntmpl.datum  = item.datum;\ntmpl.group  = group;\ntmpl.parent = group.datum;\n",s(t,y,n),u=0,c=b.length;c>u;++u)v=n[h=b[u]],w+=u>0?"\n  ":"  ",v.rule?(v=a(t,h,v.rule,A),w+="\n  "+v.code):f.isArray(v)?(v=a(t,h,v,A),w+="\n  "+v.code):(v=l(y,h,v),w+="d += set(o, "+f.str(h)+", "+v.val+");"),C[h]=!0,
m.forEach(i),x.reflow=x.reflow||v.reflow,v.nested.length&&v.nested.forEach(r);f.keys(x._nRefs).forEach(function(t){x.nested.push(x._nRefs[t])}),x.nested.sort(function(t,e){return t=t.level,e=e.level,e>t?-1:t>e?1:t>=e?0:NaN}),C.x2&&(C.x?(w+="\n  if (o.x > o.x2) { \n    t = o.x;\n    d += set(o, 'x', o.x2);\n    d += set(o, 'x2', t); \n  };",w+="\n  d += set(o, 'width', (o.x2 - o.x));"):w+=C.width?"\n  d += set(o, 'x', (o.x2 - o.width));":"\n  d += set(o, 'x', o.x2);"),C.xc&&(w+=C.width?"\n  d += set(o, 'x', (o.xc - o.width/2));":"\n  d += set(o, 'x', o.xc);"),C.y2&&(C.y?(w+="\n  if (o.y > o.y2) { \n    t = o.y;\n    d += set(o, 'y', o.y2);\n    d += set(o, 'y2', t);\n  };",w+="\n  d += set(o, 'height', (o.y2 - o.y));"):w+=C.height?"\n  d += set(o, 'y', (o.y2 - o.height));":"\n  d += set(o, 'y', o.y2);"),C.yc&&(w+=C.height?"\n  d += set(o, 'y', (o.yc - o.height/2));":"\n  d += set(o, 'y', o.yc);"),o(e,C)&&(w+="\n  d += (item.touch(), 1);"),w+="\n  if (trans) trans.interpolate(item, o);",w+="\n  return d > 0;";try{var E=Function("item","group","trans","db","signals","predicates",w);return E.tpl=g,E.exprs=A,E.util=f,E.d3=d,f.extend(E,f.template.context),{encode:E,signals:f.keys(x.signals),scales:f.keys(x.scales),data:f.keys(x.data),fields:f.keys(x.fields),nested:x.nested,reflow:x.reflow}}catch(_){p.error(_),p.log(w)}}function r(t,e){return f.isObject(t)||(t={reflow:!1,nested:[]},m.forEach(function(e){t[e]=[]})),f.isObject(e)&&(t.reflow=t.reflow||e.reflow,t.nested.push.apply(t.nested,e.nested),m.forEach(function(n){t[n].push.apply(t[n],e[n])})),t}function o(t,e){return e.path||("area"===t||"line"===t)&&(e.x||e.x2||e.width||e.y||e.y2||e.height||e.tension||e.interpolate)}function s(t,e,n){var i,r,o=n.shape,s=0;if(o&&(i=o.value)){for(e.shape&&e.shape[i]&&(i=e.shape[i]),o="";null!==(r=v.exec(i));)o+=i.substring(s,r.index),o+=t.expr(r[1]).fn(),s=v.lastIndex;n.shape.value=o+i.substring(s)}}function a(t,e,n,i){var o=t.config(),s=r(),a=[],u="";return(n||[]).forEach(function(c,h){var d=l(o,e,c);if(r(s,d),c.test){var p=t.expr(c.test);s.signals.push.apply(s.signals,p.globals),s.data.push.apply(s.data,p.dataSources),u+="if (exprs["+i.length+"](item.datum, item.mark.group.datum, null)) {\n    d += set(o, "+f.str(e)+", "+d.val+");",u+=n[h+1]?"\n  } else ":"  }",i.push(p.fn)}else{var g=c.predicate,m=g&&(g.name||g),v=t.predicate(m),y="predicates["+f.str(m)+"]",w=[],b=e+"_arg"+h;f.isObject(g)&&f.keys(g).forEach(function(t){if("name"!==t){var e=l(o,h,g[t],!0);w.push(f.str(t)+": "+e.val),r(s,e)}}),m?(s.signals.push.apply(s.signals,v.signals),s.data.push.apply(s.data,v.data),a.push(b+" = {\n    "+w.join(",\n    ")+"\n  }"),u+="if ("+y+".call("+y+","+b+", db, signals, predicates)) {\n    d += set(o, "+f.str(e)+", "+d.val+");",u+=n[h+1]?"\n  } else ":"  }"):u+="{\n    d += set(o, "+f.str(e)+", "+d.val+");\n  }\n"}}),a.length&&(u="var "+a.join(",\n      ")+";\n  "+u),s.code=u,s}function l(t,e,n,i){if(null==n)return null;if("fill"===e||"stroke"===e){if(n.c)return u(t,"hcl",n.h,n.c,n.l);if(n.h||n.s)return u(t,"hsl",n.h,n.s,n.l);if(n.l||n.a)return u(t,"lab",n.l,n.a,n.b);if(n.r||n.g||n.b)return u(t,"rgb",n.r,n.g,n.b)}var o=null,s=null,a=r(),l=null,d=null,p=null,g={};return void 0!==n.template&&(o=f.template.source(n.template,"tmpl",g),f.keys(g).forEach(function(t){var e=f.field(t),n=e.shift();"parent"===n||"group"===n?a.nested.push({parent:"parent"===n,group:"group"===n,level:1}):"datum"===n?a.fields.push(e[0]):a.signals.push(n)})),void 0!==n.value&&(o=f.str(n.value)),void 0!==n.signal&&(l=f.field(n.signal),o="signals["+l.map(f.str).join("][")+"]",a.signals.push(l.shift())),void 0!==n.field&&(n.field=f.isString(n.field)?{datum:n.field}:n.field,d=c(n.field),o=d.val,r(a,d)),void 0!==n.scale&&(p=h(n.scale),s=p.val,r(a,p),a.scales.push(n.scale.name||n.scale),null!==o||n.band||n.mult||n.offset||!i?o=s+(n.band?".rangeBand()":"("+(null!==o?o:"item.datum.data")+")"):i&&(o=s)),o="("+(n.mult?f.number(n.mult)+" * ":"")+o+")"+(n.offset?" + "+f.number(n.offset):""),a.val=o,a}function u(t,e,n,i,o){var s=n?l(t,"",n):t.color[e][0],a=i?l(t,"",i):t.color[e][1],u=o?l(t,"",o):t.color[e][2],c=r();[s,a,u].forEach(function(t){f.isArray||r(c,t)});var h="(this.d3."+e+"("+[s.val,a.val,u.val].join(",")+') + "")';return c.val=h,c}function c(t){if(f.isString(t))return{val:f.field(t).map(f.str).join("][")};var e=t.level||1,n=(t.group||t.parent)&&e,i=n?Array(e).join("group.mark."):"",o=c(t.datum||t.group||t.parent||t.signal),s=o.val,a=r(null,o);return t.datum?(s="item.datum["+s+"]",a.fields.push(t.datum)):t.group?(s=i+"group["+s+"]",a.nested.push({level:e,group:!0})):t.parent?(s=i+"group.datum["+s+"]",a.nested.push({level:e,parent:!0})):t.signal&&(s="signals["+s+"]",a.signals.push(f.field(t.signal)[0]),a.reflow=!0),a.val=s,a}function h(t){var e=null,n=null,i=r();return e=f.isString(t)?f.str(t):t.name?f.isString(t.name)?f.str(t.name):(n=c(t.name)).val:(n=c(t)).val,e="(item.mark._scaleRefs["+e+"] = 1, group.scale("+e+"))",t.invert&&(e+=".invert"),n&&n.nested.forEach(function(t){t.scale=!0}),n?(n.val=e,n):(i.val=e,i)}var d="undefined"!=typeof window?window.d3:"undefined"!=typeof n?n.d3:null,f=t("datalib"),p=t("vega-logging"),g=t("vega-dataflow").Tuple,m=["signals","scales","data","fields"],v=/{{(.*?)}}/g;e.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{datalib:26,"vega-dataflow":41,"vega-logging":48}],105:[function(t,e,n){function i(t,e){return(e||[]).forEach(function(e){if(-1!==l.indexOf(e.name))throw Error('Signal name "'+e.name+'" is a reserved keyword ('+l.join(", ")+").");var n=t.signal(e.name,e.init).verbose(e.verbose);e.init&&e.init.expr&&(e.init.expr=t.expr(e.init.expr),n.value(r(t,e.init))),e.expr&&(e.expr=t.expr(e.expr),n.evaluate=function(i){var o=r(t,e),s=i.signals;return(o!==n.value()||n.verbose())&&(n.value(o),s[e.name]=1),s[e.name]?i:t.doNotPropagate},n.dependency(a,e.expr.globals),e.expr.globals.forEach(function(e){t.signal(e).addListener(n)}))}),e}function r(t,e){var n=e.expr,r=n.fn();return e.scale?i.scale(t,e,r):r}var o=t("datalib"),s=t("./expr"),a=t("vega-dataflow").Dependencies.SIGNALS,l=["datum","event","signals","width","height","padding"].concat(o.keys(s.codegen.functions));i.scale=function(t,e,n,i,r){var a,l=e.scale,u=l.name||l.signal||l,c=l.scope;return c&&(c.signal?c=t.signalRef(c.signal):o.isString(c)&&(a=l._expr=l._expr||t.expr(c),c=a.fn(i,r))),s.scale(t,l.invert,u,n,c)},e.exports=i},{"./expr":96,datalib:26,"vega-dataflow":41}],106:[function(t,e,n){function i(e){function n(e){try{e=r.duplicate(e);var n=t("./"),o=s(e,c,"width",500),a=s(e,c,"height",500),l=n.padding(s(e,c,"padding")),h=s(e,c,"background");p.signal("width",o),p.signal("height",a),p.signal("padding",l),i(e),p.defs({width:o,height:a,padding:l,viewport:e.viewport||null,background:n.background(h),signals:n.signals(p,e.signals),predicates:n.predicates(p,e.predicates),marks:n.marks(p,e,o,a),data:n.data(p,e.data,u)})}catch(d){u(d)}}function i(t){var e,n=t.signals||(t.signals=[]);n.some(function(t){return"cursor"===t.name?(e=t,!0):!1}),e||n.push(e={name:"cursor",streams:[]}),e.init=e.init||{},e.streams.unshift({type:"mousemove",expr:"eventItem().cursor === cursor.default ? cursor : {default: eventItem().cursor}"})}function u(t){var e;t?o.error(t):e=g(p.buildIndexes()),f&&(f.length>1?f(t,e):t||f(e),f=null)}var c,h=arguments.length,d=2,f=arguments[h-1],p=new a,g=l.factory;if(h>d&&r.isFunction(arguments[h-d])&&(g=arguments[h-d],++d),h>d&&r.isObject(arguments[h-d])&&p.config(arguments[h-d]),c=p.config(),r.isObject(e))n(e);else if(r.isString(e)){var m=r.extend({url:e},c.load);r.json(m,function(t,e){t?u("SPECIFICATION LOAD FAILED: "+t):n(e)})}else u("INVALID SPECIFICATION: Must be a valid JSON object or URL.")}var r=t("datalib"),o=t("vega-logging"),s=t("../util/theme-val"),a=t("../core/Model"),l=t("../core/View");e.exports=i},{"../core/Model":89,"../core/View":90,"../util/theme-val":149,"./":97,datalib:26,"vega-logging":48}],107:[function(t,e,n){(function(n){function i(t){function e(e,n){var i,o,s,a=r.mouse((r.event=e,t.renderer().scene())),l=t.padding(),u={};if(n)for(i=n.mark,o="group"===i.marktype?n:i.group,s=n;null!=s;s=s.mark.group)s.mark.def.name&&(u[s.mark.def.name]=s);u.root=t.model().scene().items[0],e.vg=Object.create(h),e.vg.group=o,e.vg.item=n||{},e.vg.name=u,e.vg.x=a[0]-l.left,e.vg.y=a[1]-l.top}function n(t,e,n,i,r){function o(t){return!t.fn(n,i,r)}var a,u,c,h,d=t.handlers[e],f=t.nodes[e],p=s.ChangeSet.create(null,!0),m=!1;for(u=0,c=d.length;c>u;++u)h=d[u],m=h.filters.some(o),m||(a=h.exp.fn(n,i,r),h.spec.scale&&(a=l.scale(g,h.spec,a,n,r)),(a!==h.signal.value()||h.signal.verbose())&&(h.signal.value(a),p.signals[h.signal.name()]=1));g.propagate(p,f)}function i(t,e,n,r){e.forEach(function(e){e.event?d(t,e,n,r):e.signal?f(t,e,n,r):e.start?p(t,e,n,r):e.stream&&(e.filters&&e.stream.forEach(function(t){t.filters=o.array(t.filters).concat(e.filters)}),i(t,e.stream,n,r))})}function d(t,e,n,i){var r=e.event,a=e.name,l=e.mark,u=e.target,c=o.array(e.filters),h=u?A:b,d=u?u+":"+r:r,f=h.nodes[d]||(h.nodes[d]=new s.Node(g)),p=h.handlers[d]||(h.handlers[d]=[]);a?c.push('!!event.vg.name["'+a+'"]'):l&&c.push("event.vg.item.mark && event.vg.item.mark.marktype==="+o.str(l)),p.push({signal:t,exp:n,spec:i,filters:c.map(function(t){return g.expr(t)})}),f.addListener(t)}function f(t,e,n,i){var r=t.name(),o=g.signal(r+c,null);o.evaluate=function(o){if(!o.signals[e.signal])return g.doNotPropagate;var s=n.fn();return i.scale&&(s=l.scale(g,i,s)),(s!==t.value()||t.verbose())&&(t.value(s),o.signals[r]=1,o.reflow=!0),o},o.dependency(s.Dependencies.SIGNALS,e.signal),o.addListener(t),g.signal(e.signal).addListener(o)}function p(t,e,n,r){var o=t.name(),s=o+u,a=e.middle,l=a.filters||(a.filters=[]),c=g.signal(s)||g.signal(s,!1);i(c,[e.start],m,{}),i(c,[e.end],v,{}),l.push(c.name()),i(t,[e.middle],n,r)}var g=t.model(),m=g.expr("true"),v=g.expr("false"),y=g.defs().signals,w={handlers:{},nodes:{}},b=o.duplicate(w),A=o.duplicate(w);return o.array(y).forEach(function(t){var e=g.signal(t.name);t.expr||o.array(t.streams).forEach(function(t){var n=a.parse(t.type),r=g.expr(t.expr);i(e,n,r,t)})}),o.keys(b.handlers).forEach(function(i){t.on(i,function(t,r){t.preventDefault(),e(t,r),n(b,i,r&&r.datum||{},r&&r.mark&&r.mark.group&&r.mark.group.datum||{},t)})}),o.keys(A.handlers).forEach(function(t){function i(i){e(i),n(A,t,r.select(this).datum(),this.parentNode&&r.select(this.parentNode).datum(),i)}if("undefined"!=typeof window){for(var o=A.handlers[t],s=t.split(":"),a="window"===s[0]?[window]:window.document.querySelectorAll(s[0]),l=0;l<a.length;++l)a[l].addEventListener(s[1],i);o.elements=a,o.listener=i}}),A.detach=function(){o.keys(A.handlers).forEach(function(t){for(var e=A.handlers[t],n=t.split(":"),i=o.array(e.elements),r=0;r<i.length;++r)i[r].removeEventListener(n[1],e.listener)})},A.detach}var r="undefined"!=typeof window?window.d3:"undefined"!=typeof n?n.d3:null,o=t("datalib"),s=t("vega-dataflow"),a=t("vega-event-selector"),l=t("./signals"),u="_vgGATEKEEPER",c="_vgEVALUATOR",h={getItem:function(){return this.item},getGroup:function(t){var e=t?this.name[t]:this.group,n=e&&e.mark,i=n&&(n.interactive||void 0===n.interactive);return i?e:{}},getXY:function(t){var e={x:this.x,y:this.y};for("string"==typeof t&&(t=this.name[t]);t;t=t.mark&&t.mark.group)e.x-=t.x||0,e.y-=t.y||0;return e},getX:function(t){return this.getXY(t).x},getY:function(t){return this.getXY(t).y}};e.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./signals":105,datalib:26,"vega-dataflow":41,"vega-event-selector":42}],108:[function(t,e,n){function i(t,e){var n,i=o[e.type];if(!i)throw new Error('"'+e.type+'" is not a valid transformation');return n=new i(t),e.output&&n.output(e.output),r.keys(e).forEach(function(t){"type"!==t&&"output"!==t&&n.param(t,e[t])}),n}var r=t("datalib"),o=t("../transforms/index");e.exports=i},{"../transforms/index":145,datalib:26}],109:[function(t,e,n){function i(t,e){return this._mark=e,a.prototype.init.call(this,t).router(!0).reflows(!0).mutates(!0)}var r=t("datalib"),o=t("vega-dataflow"),s=t("vega-scenegraph"),a=o.Node,l=t("vega-logging"),u=s.bound,c=s.Bounds,h=t("./Encoder"),d=i.prototype=new a;d.evaluate=function(t){l.debug(t,["bounds",this._mark.marktype]);var e,n,i,s,a,d,f=this._mark,p=f.marktype,g="group"===p,m=f.items,v=r.array(f.def.legends).length>0,y=f.bounds,w=!y||t.rem.length;if("line"===p||"area"===p)u.mark(f,null,g&&!v);else if(t.add.forEach(function(t){u.item(t),w=w||y&&!y.encloses(t.bounds)}),t.mod.forEach(function(t){w=w||y&&y.alignsWith(t.bounds),u.item(t)}),w)for(y=f.bounds&&f.bounds.clear()||(f.bounds=new c),e=0,n=m.length;n>e;++e)y.union(m[e].bounds);if(g&&v){for(e=0,n=m.length;n>e;++e)for(a=m[e],a._legendPositions=null,i=0,s=a.legendItems.length;s>i;++i)d=a.legendItems[i],h.update(this._graph,t.trans,"legendPosition",d.items,t.dirty),u.mark(d,null,!1);u.mark(f,null,!0)}return o.ChangeSet.create(t,!0)},e.exports=i},{"./Encoder":111,datalib:26,"vega-dataflow":41,"vega-logging":48,"vega-scenegraph":49}],110:[function(t,e,n){function i(){return arguments.length?this.init.apply(this,arguments):this}function r(){var t,e,n,i,r,o,s,a=this._def.from,l=a.mark;if(l)i=this.sibling(l),t=i._isSuper?i:i._bounder,e=["vg",this._parent_id,l,t.listeners(!0).length].join("_"),n={name:e,transform:a.transform,modify:a.modify};else{if(t=this._graph.data(this._from),!t)throw Error('Data source "'+this._from+'" is not defined.');e=["vg",this._from,this._def.type,t.listeners(!0).length].join("_"),n={name:e,source:this._from,transform:a.transform,modify:a.modify}}this._from=e,this._ds=w.datasource(this._graph,n),l?(s=new d(this._graph).addListener(this._ds.listener()),s.evaluate=function(t){var e=g.create(t),n=i._output;return e.add=n.add,e.mod=n.mod,e.rem=n.rem,e},t.addListener(s)):(r=this._ds.source().last(),o=g.create(r),o.add=r.add,o.mod=r.mod,o.rem=r.rem,o.stamp=null,this._graph.propagate(o,this._ds.listener(),r.stamp))}function o(){var t=p.ingest(new c(this._mark));return this._def.width&&p.set(t,"width",this._def.width),this._def.height&&p.set(t,"height",this._def.height),t}function s(t,e,n,i,r){var s,l,u,c,h,d,f,g=a(this._def.key||(i?"_id":null)),m=this._mark.items||[],v=i?t.rem:m,y=p.idMap(!i||r?n:t.mod),w=[];for(s=0,u=v.length;u>s;++s)c=v[s]===m[s]?m[s]:g?this._map[g(v[s])]:v[s],c.status=b.EXIT;for(s=0,u=n.length;u>s;++s)h=n[s],c=g?this._map[l=g(h)]:m[s],d=c?!1:(c=o.call(this),!0),c.status=d?b.ENTER:b.UPDATE,f=!d&&c.datum!==h,c.datum=h,g&&(p.set(c,"key",l),this._map[l]=c),d?e.add.push(c):(f||y[h._id])&&e.mod.push(c),w.push(c);for(s=0,u=v.length;u>s;++s)c=v[s]===m[s]?m[s]:g?this._map[l=g(v[s])]:v[s],c.status===b.EXIT&&(c._dirty=!0,t.dirty.push(c),w.push(c),e.rem.push(c),g&&(this._map[l]=null));return this._mark.items=w,e}function a(t){if(null==t)return null;var e=l.array(t).map(l.accessor);return function(t){for(var n="",i=0,r=e.length;r>i;++i)i>0&&(n+="|"),n+=String(e[i](t));return n}}var l=t("datalib"),u=t("vega-logging"),c=t("vega-scenegraph").Item,h=t("vega-dataflow"),d=h.Node,f=h.Dependencies,p=h.Tuple,g=h.ChangeSet,m={},v=t("./Encoder"),y=t("./Bounder"),w=t("../parse/data"),b=i.STATUS={ENTER:"enter",UPDATE:"update",EXIT:"exit"},A=1,C=2,x=i.prototype=new d;x.init=function(t,e,n,i,o,s){return d.prototype.init.call(this,t).router(!0).collector(!0),this._def=e,this._mark=n,this._from=(e.from?e.from.data:null)||s,this._ds=l.isString(this._from)?t.data(this._from):null,this._map={},this._status=null,n.def=e,n.marktype=e.type,n.interactive=e.interactive!==!1,n.items=[],l.isValid(e.name)&&(n.name=e.name),this._parent=i,this._parent_id=o,e.from&&(e.from.mark||e.from.transform||e.from.modify)&&r.call(this),this._isSuper="group"!==this._def.type,this._encoder=new v(this._graph,this._mark,this),this._bounder=new y(this._graph,this._mark),this._output=null,this._ds&&this._encoder.dependency(f.DATA,this._from),this.dependency(f.DATA,this._encoder.dependency(f.DATA)),this.dependency(f.SCALES,this._encoder.dependency(f.SCALES)),this.dependency(f.SIGNALS,this._encoder.dependency(f.SIGNALS)),this},x.ds=function(){return this._ds},x.parent=function(){return this._parent},x.encoder=function(){return this._encoder},x.pipeline=function(){return[this]},x.connect=function(){var t=this;return this._graph.connect(this.pipeline()),this._encoder._scales.forEach(function(e){(e=t._parent.scale(e))&&e.addListener(t)}),this._parent&&(this._isSuper?this.addListener(this._parent._collector):this._bounder.addListener(this._parent._collector)),this._status=A,this},x.disconnect=function(){function t(t){for(var n,i=0,r=t.length;r>i;++i)(n=e._parent.scale(t[i]))&&n.removeListener(e)}var e=this;return this._listeners.length?(d.prototype.disconnect.call(this),this._graph.disconnect(this.pipeline()),t(this._encoder._scales),t(l.keys(this._mark._scaleRefs)),this._status=C,this):this},x.sibling=function(t){return this._parent.child(t,this._parent_id)},x.evaluate=function(t){u.debug(t,["building",this._from||this._def.from,this._def.type]);var e,n,i,r,o=this,a=this._mark.def,c=a.properties||{},h=c.update||{},d=g.create(t);if(this._ds){if(i=d.data[r=this._ds.name()],d.data[r]=null,e=this._encoder.reevaluate(d),d.data[r]=i,n=this._ds.last(),!n)throw Error("Builder evaluated before backing DataSource.");n.stamp>this._stamp?s.call(this,n,d,this._ds.values(),!0,e):e&&(d.mod=this._mark.items.slice())}else i=l.isFunction(this._def.from)?this._def.from():[m],s.call(this,t,d,i);return this._output=d=this._graph.evaluate(d,this._encoder),h.nested&&h.nested.length&&this._status===A&&l.keys(this._mark._scaleRefs).forEach(function(t){var e=o._parent.scale(t);e&&(e.addListener(o),o.dependency(f.SCALES,t),o._encoder.dependency(f.SCALES,t))}),this._isSuper&&(d.mod=d.mod.filter(function(t){return t._dirty}),d=this._graph.evaluate(d,this._bounder)),d},e.exports=i},{"../parse/data":95,"./Bounder":109,"./Encoder":111,datalib:26,"vega-dataflow":41,"vega-logging":48,"vega-scenegraph":49}],111:[function(t,e,n){function i(t,e,n){var i=e.def.properties||{},r=i.enter,o=i.update,s=i.exit;c.prototype.init.call(this,t),this._mark=e,this._builder=n;var a=this._scales=[];return r&&a.push.apply(a,r.scales),o&&(this.dependency(h.DATA,o.data),this.dependency(h.SIGNALS,o.signals),this.dependency(h.FIELDS,o.fields),this.dependency(h.SCALES,o.scales),a.push.apply(a,o.scales)),s&&a.push.apply(a,s.scales),this.mutates(!0)}function r(t,e,n,i){var r,o,s,a=n.add.length;return(r=i.enter)&&(o=r[t]).length&&a&&(s=e.values(t,o,s=s||{})),(r=i.exit)&&(o=r[t]).length&&n.rem.length&&(s=e.values(t,o,s=s||{})),(r=i.update)&&(o=r[t]).length&&(a||n.mod.length)&&(s=e.values(t,o,s=s||{})),s||f}function o(t,e,n,i,r,o,s){var a=t.encode,l=e._dirty,u=a.call(a,e,e.mark.group||e,n,i,r,o);e._dirty=u||l,u&&!l&&s.push(e)}function s(){for(var t,e,n,i=this._mark.def.properties.update.nested,r=this._builder,o=0,s=0,a=i.length;a>s;++s)if(t=i[s],!t.scale){for(;o<t.level;++o)r=r.parent(),e=r.ds();if(n=(t.group?r.encoder():e.last())._stamp,n>this._stamp)return!0}return!1}var a=t("datalib"),l=t("vega-logging"),u=t("vega-dataflow"),c=u.Node,h=u.Dependencies,d=t("vega-scenegraph").bound,f={},p=i.prototype=new c;p.evaluate=function(e){l.debug(e,["encoding",this._mark.def.type]);var n,i,s,a,u=this._graph,c=this._mark.def.properties||{},d=this._mark.items,p=c.enter,g=c.update,m=c.exit,v=e.dirty,y=u.predicates(),w=e.request,b=this._mark.group,A=b&&(b.mark.axis||b.mark.legend),C=f,x=f;if(w&&!A){if((a=c[w])&&e.mod.length)for(C=a.data?u.values(h.DATA,a.data):null,x=a.signals?u.values(h.SIGNALS,a.signals):null,n=0,i=e.mod.length;i>n;++n)s=e.mod[n],o.call(this,a,s,e.trans,C,x,y,v);return e}for(C=r(h.DATA,u,e,c),x=r(h.SIGNALS,u,e,c),n=0,i=e.rem.length;i>n;++n)s=e.rem[n],m&&o.call(this,m,s,e.trans,C,x,y,v),e.trans&&!m?e.trans.interpolate(s,f):e.trans||d.pop();var E=t("./Builder").STATUS.UPDATE;for(n=0,i=e.add.length;i>n;++n)s=e.add[n],p&&o.call(this,p,s,e.trans,C,x,y,v),g&&o.call(this,g,s,e.trans,C,x,y,v),s.status=E;if(g)for(n=0,i=e.mod.length;i>n;++n)s=e.mod[n],o.call(this,g,s,e.trans,C,x,y,v);return e},p.reevaluate=function(t){var e=this._mark.def,n=e.properties||{},i=a.isFunction(e.from)||e.orient||t.request||c.prototype.reevaluate.call(this,t);return i||(n.update?s.call(this):!1)},i.update=function(t,e,n,i,r){i=a.array(i);var s,l,u,c,f,p=t.predicates(),g=t.values(h.DATA),m=t.values(h.SIGNALS);for(s=0,l=i.length;l>s;++s)u=i[s],c=u.mark.def.properties,f=c&&c[n],f&&(o.call(null,f,u,e,g,m,p,r),d.item(u))},e.exports=i},{"./Builder":110,datalib:26,"vega-dataflow":41,"vega-logging":48,"vega-scenegraph":49}],112:[function(t,e,n){function i(){return this._children={},this._scaler=null,this._recursor=null,this._scales={},this.scale=o.bind(this),arguments.length?this.init.apply(this,arguments):this}function r(t){function e(t){t.type!=A.MARK||t.inline||void 0===m._graph.data(t.from)||m._recursor.removeListener(t.builder)}function n(e){var n=e.scale();t.scales[n.scaleName]&&e.reset().def()}function i(e){var n=e.size()||e.shape()||e.fill()||e.stroke()||e.opacity();t.scales[n.scaleName]&&e.reset().def()}function r(t){m._recursor.removeListener(t.builder),t.builder.disconnect()}var o,s,h,d,f,p,g,m=this,v=c.array(this._def.marks).length>0,y=c.array(this._def.axes).length>0,w=c.array(this._def.legends).length>0,b=!1;for(o=0,d=t.add.length;d>o;++o)f=t.add[o],v&&a.call(this,t,f),y&&l.call(this,t,f),w&&u.call(this,t,f);for(o=t.add.length-1;o>=0;--o)for(f=t.add[o],s=this._children[f._id].length-1;s>=0;--s)h=this._children[f._id][s],h.builder.connect(),p=h.builder.pipeline(),g=h.builder._def,b=g.type!==A.GROUP,b=b&&void 0!==this._graph.data(h.from),b=b&&1===p[p.length-1].listeners().length,b=b&&g.from&&!g.from.mark,h.inline=b,b?this._graph.evaluate(t,h.builder):this._recursor.addListener(h.builder);for(o=0,d=t.mod.length;d>o;++o)f=t.mod[o],v&&m._children[f._id].forEach(e),y&&f.axes.forEach(n),w&&f.legends.forEach(i);for(o=0,d=t.rem.length;d>o;++o)f=t.rem[o],m._children[f._id].forEach(r),delete m._children[f._id];return t}function o(t,e){var n=this,i=null;if(2===arguments.length)return n._scales[t]=e,e;for(;null==i&&(i=n._scales[t],n=n.mark?n.mark.group:n._parent););return i}function s(t,e){m.debug(t,["building group",e._id]),e._scales=e._scales||{},e.scale=o.bind(e),e.items=e.items||[],this._children[e._id]=this._children[e._id]||[],e.axes=e.axes||[],e.axisItems=e.axisItems||[],e.legends=e.legends||[],e.legendItems=e.legendItems||[],this._graph.group(e._id,e)}function a(t,e){m.debug(t,["building children marks #"+e._id]);var n,r,o,s,a,l,u=this._def.marks;for(s=0,a=u.length;a>s;++s)n=u[s],r=n.from||{},o=e.datum._facetID,e.items[s]={group:e,_scaleRefs:{}},l=n.type===A.GROUP?new i:new v,l.init(this._graph,n,e.items[s],this,e._id,o),this._children[e._id].push({builder:l,from:r.data||(r.mark?"vg_"+e._id+"_"+r.mark:o),type:A.MARK})}function l(t,e){var n=e.axes,r=e.axisItems,o=this;w(this._graph,this._def.axes,n,e),n.forEach(function(t,n){var s=o._def.axes[n].scale,a=t.def(),l=null;r[n]={group:e,axis:t,layer:a.layer},l=a.type===A.GROUP?new i:new v,l.init(o._graph,a,r[n],o).dependency(f.SCALES,s),o._children[e._id].push({builder:l,type:A.AXIS,scale:s})})}function u(t,e){var n=e.legends,r=e.legendItems,o=this;b(this._graph,this._def.legends,n,e),n.forEach(function(t,n){var s=t.size()||t.shape()||t.fill()||t.stroke()||t.opacity(),a=t.def(),l=null;r[n]={group:e,legend:t},l=a.type===A.GROUP?new i:new v,l.init(o._graph,a,r[n],o).dependency(f.SCALES,s),o._children[e._id].push({builder:l,type:A.LEGEND,scale:s})})}var c=t("datalib"),h=t("vega-dataflow"),d=h.Node,f=h.Dependencies,p=h.Tuple,g=h.Collector,m=t("vega-logging"),v=t("./Builder"),y=t("./Scale"),w=t("../parse/axes"),b=t("../parse/legends"),A=i.TYPES={GROUP:"group",MARK:"mark",AXIS:"axis",LEGEND:"legend"},C=i.prototype=new v;C.init=function(t,e){var n,i=this;this._scaler=new d(t),(e.scales||[]).forEach(function(e){e=i.scale(n=e.name,new y(t,e,i)),i.scale(n+":prev",e),i._scaler.addListener(e)}),this._recursor=new d(t),this._recursor.evaluate=r.bind(this);var o=(e.axes||[]).reduce(function(t,e){return t[e.scale]=1,t},{});return o=(e.legends||[]).reduce(function(t,e){return t[e.size||e.shape||e.fill||e.stroke||e.opacity]=1,t},o),this._recursor.dependency(f.SCALES,c.keys(o)),this._collector=new g(t),v.prototype.init.apply(this,arguments)},C.evaluate=function(){var t=v.prototype.evaluate.apply(this,arguments),e=this._graph,n=this,i=this._scales,r=this._mark.items;if(t.mod.length<r.length){var o=c.keys(i).some(function(e){return i[e].reevaluate(t)});!o&&this._def.axes&&(o=this._def.axes.reduce(function(e,n){return e||t.scales[n.scale]},!1)),!o&&this._def.legends&&(o=this._def.legends.reduce(function(e,n){return e||t.scales[n.size||n.shape||n.fill||n.stroke]},!1)),o&&(t.mod=t.mod.concat(p.idFilter(r,t.mod,t.add,t.rem)))}return t.add.forEach(function(e){s.call(n,t,e)}),t.rem.forEach(function(t){e.group(t._id,null)}),t},C.pipeline=function(){return[this,this._scaler,this._recursor,this._collector,this._bounder]},C.disconnect=function(){var t=this;return c.keys(t._children).forEach(function(e){t._children[e].forEach(function(e){t._recursor.removeListener(e.builder),e.builder.disconnect()})}),t._children={},v.prototype.disconnect.call(this)},C.child=function(t,e){for(var n,i=this._children[e],r=0,o=i.length;o>r&&(n=i[r],n.type!=A.MARK||n.builder._def.name!=t);++r);return n.builder},e.exports=i},{"../parse/axes":93,"../parse/legends":98,"./Builder":110,"./Scale":113,datalib:26,"vega-dataflow":41,"vega-logging":48}],113:[function(t,e,n){(function(n){function i(t,e,n){return this._def=e,this._parent=n,this._updated=!1,x.prototype.init.call(this,t).reflows(!0)}function r(t){var e=this._def.name,n=e+":prev",i=o.call(this,t.scale(e)),r=i.type===k.ORDINAL?s:l,a=y.call(this,t);return r.call(this,i,a,t),t.scale(e,i),t.scale(n,t.scale(n)||i),i}function o(t){var e=this._graph.config(),n=this._def.type||k.LINEAR;if(!t||n!==t.type){var i=e.scale[n]||w.scale[n];if(!i)throw Error("Unrecognized scale type: "+n);(t=i()).type=t.type||n,t.scaleName=this._def.name,t._prev={}}return t}function s(t,e,n){var i,r,o=this._def,s=t._prev,l=!1,u=m.call(this,o.padding)||0,c=null==o.outerPadding?u:m.call(this,o.outerPadding),h=o.points&&m.call(this,o.points),d=m.call(this,o.round)||null==o.round,f=!0;if(b.isObject(o.range)&&!b.isArray(o.range)&&(l=!0,e=g.call(this,S.RANGE,o.range,t,n)),i=g.call(this,S.DOMAIN,o.domain,t,n),i&&!b.equal(s.domain,i)&&(t.domain(i),s.domain=i,this._updated=!0),!b.equal(s.range,e)){if(o.bandSize){var p,v=m.call(this,o.bandSize),y=i.length,w=o.points?u*v:u*v*(y-1)+2*c;e[0]>e[1]?(p=e[1]||0,e=[p+(v*y+w),p]):(p=e[0]||0,e=[p,p+(v*y+w)]),o.reverse&&(e=e.reverse())}r="string"==typeof e[0],r||e.length>2||1===e.length||l?(t.range(e),f=!1):h&&d?t.rangeRoundPoints(e,u):h?t.rangePoints(e,u):d?t.rangeRoundBands(e,u,c):t.rangeBands(e,u,c),s.range=e,this._updated=!0}!t.invert&&f&&a(t)}function a(t){t.invert=function(e,n){var i=t.range(),r=i[0]<i[1],o=r?T:$;if(1===arguments.length){if(!b.isNumber(e))throw Error("Ordinal scale inversion is only supported for numeric input ("+e+").");return t.domain()[o(i,e)]}if(2===arguments.length){if(!b.isNumber(e)||!b.isNumber(n))throw Error("Extents to ordinal invert are not numbers ("+e+", "+n+").");var s,a=t.domain(),l=o(i,e),u=o(i,n),c=i.length-1;return l>u&&(s=l,l=u,u=l),0>l&&(l=0),u>c&&(u=c),(r?b.range(l,u+1):b.range(u,l-1,-1)).map(function(t){return a[t]})}}}function l(t,e,n){var i,r,o=this._def,s=t._prev,a=m.call(this,o.round),l=m.call(this,o.exponent),u=m.call(this,o.clamp),c=m.call(this,o.nice);i=o.type===k.QUANTILE?g.call(this,S.DOMAIN,o.domain,t,n):v.call(this,t,n),i&&!b.equal(s.domain,i)&&(t.domain(i),s.domain=i,this._updated=!0),"height"===m.call(this,o.range)&&(e=e.reverse()),e&&!b.equal(s.range,e)&&(t[a&&t.rangeRound?"rangeRound":"range"](e),s.range=e,this._updated=!0),l&&o.type===k.POWER&&t.exponent(l),u&&t.clamp(!0),c&&(o.type===k.TIME?(r=w.time[c],r||C.error("Unrecognized interval: "+r),t.nice(r)):t.nice())}function u(t){return t.type===k.ORDINAL||t.type===k.QUANTILE}function c(t){return t.fields||b.array(t)}function h(t){return t.some(function(t){return t.data?t.data&&b.array(t.field).some(function(t){return t.parent}):!0})}function d(t,e){return b.array(t.field).map(function(t){return t.parent?b.accessor(t.parent)(e.datum):t})}function f(t,e){var n=c(t);return 1==n.length&&1==b.array(n[0].field).length?_.TYPES.TUPLE:u(e)&&b.isObject(t.sort)?_.TYPES.MULTI:_.TYPES.VALUE}function p(t,e,n,i){var r=c(e),o=h(r),s=f(e,n),a=u(n),l=e.sort,p="_"+t,g=d(r[0],i);if(n[p]||this[p])return n[p]||this[p];var m,v,y=new _(this._graph).type(s);return o?n[p]=y:this[p]=y,a?s===_.TYPES.VALUE?(m=[{name:S.GROUPBY,get:b.identity}],v={"*":S.COUNT}):s===_.TYPES.TUPLE?(m=[{name:S.GROUPBY,get:b.$(g[0])}],v=b.isObject(l)?[{field:S.VALUE,get:b.$(l.field),ops:[l.op]}]:{"*":S.COUNT}):(m=S.GROUPBY,v=[{field:S.VALUE,ops:[l.op]}]):(m=[],v=[{field:S.VALUE,get:s==_.TYPES.TUPLE?b.$(g[0]):b.identity,ops:[S.MIN,S.MAX],as:[S.MIN,S.MAX]}]),y.param("groupby",m).param("summarize",v),y._lastUpdate=-1,y}function g(t,e,n,i){function r(t){x.dependency(E.SIGNALS,t)}if(null==e)return[];if(b.isArray(e))return e.map(m.bind(this));var o,s,a,l,g,v,y,w,A,C,x=this,F=this._graph,k=c(e),D=h(k),M=f(e,n),T=p.apply(this,arguments),$=e.sort,L=u(n);if(D||!D&&T._lastUpdate<this._stamp){for(o=0,s=k.length;s>o;++o)if(g=k[o],A=g.data||i.datum._facetID,w=F.data(A).last(),!(w.stamp<=this._stamp)){for(v=d(g,i),a=0,l=v.length;l>a;++a)y=v[a],M===_.TYPES.VALUE?T.accessors(null,y):M===_.TYPES.MULTI&&T.accessors(y,g.sort||$.field),T.evaluate(w);this.dependency(E.DATA,A),T.dependency(E.SIGNALS).forEach(r)}T._lastUpdate=this._stamp,w=T.aggr().result(),L?(b.isObject($)?(C=$.op+"_"+S.VALUE,C=b.comparator(C)):$===!0&&(C=b.comparator(S.GROUPBY)),C&&(w=w.sort(C)),T._values=w.map(function(t){return t[S.GROUPBY]})):(w=w[0],T._values=b.isValid(w)?[w[S.MIN],w[S.MAX]]:[])}return T._values}function m(t){if(!t||!t.signal)return t;var e,n=t.signal;return this.dependency(E.SIGNALS,(e=b.field(n))[0]),this._graph.signalRef(e)}function v(t,e){var n,i,r=this._def,o=[null,null];return void 0!==r.domain&&(o=b.isObject(r.domain)?g.call(this,S.DOMAIN,r.domain,t,e):o),i=o.length-1,void 0!==r.domainMin&&(b.isObject(r.domainMin)?r.domainMin.signal?o[0]=b.isValid(n=m.call(this,r.domainMin))?n:o[0]:o[0]=g.call(this,S.DOMAIN+S.MIN,r.domainMin,t,e)[0]:o[0]=r.domainMin),void 0!==r.domainMax&&(b.isObject(r.domainMax)?r.domainMax.signal?o[i]=b.isValid(n=m.call(this,r.domainMax))?n:o[i]:o[i]=g.call(this,S.DOMAIN+S.MAX,r.domainMax,t,e)[1]:o[i]=r.domainMax),r.type===k.LOG||r.type===k.TIME||!r.zero&&void 0!==r.zero||(o[0]=Math.min(0,o[0]),o[i]=Math.max(0,o[i])),o}function y(t){var e=this._def,n=this._graph.config(),i=m.call(this,e.range),r=[null,null];if(void 0!==i)if("string"==typeof i)if(F[i])r=[0,t[i]];else{if(!n.range[i])return C.error("Unrecogized range: "+i),r;r=n.range[i]}else if(b.isArray(i))r=b.duplicate(i).map(m.bind(this));else{if(b.isObject(i))return null;r=[0,i]}if(void 0!==e.rangeMin&&(r[0]=e.rangeMin.signal?m.call(this,e.rangeMin):e.rangeMin),void 0!==e.rangeMax&&(r[r.length-1]=e.rangeMax.signal?m.call(this,e.rangeMax):e.rangeMax),void 0!==e.reverse){var o=m.call(this,e.reverse);b.isObject(o)&&(o=b.accessor(o.field)(t.datum)),o&&(r=r.reverse())}return r}var w="undefined"!=typeof window?window.d3:"undefined"!=typeof n?n.d3:null,b=t("datalib"),A=t("vega-dataflow"),C=t("vega-logging"),x=A.Node,E=A.Dependencies,_=t("../transforms/Aggregate"),F={width:1,height:1},k={LINEAR:"linear",ORDINAL:"ordinal",LOG:"log",POWER:"pow",SQRT:"sqrt",TIME:"time",TIME_UTC:"utc",QUANTILE:"quantile",QUANTIZE:"quantize",THRESHOLD:"threshold"},S={DOMAIN:"domain",RANGE:"range",COUNT:"count",GROUPBY:"groupby",MIN:"min",MAX:"max",VALUE:"value",ASC:"asc",DESC:"desc"},D=i.prototype=new x;D.evaluate=function(t){var e=this,n=function(t){r.call(e,t)};return this._updated=!1,t.add.forEach(n),t.mod.forEach(n),this._updated&&(t.scales[this._def.name]=1,C.debug(t,["scale",this._def.name])),
A.ChangeSet.create(t,!0)},D.dependency=function(t,e){if(2==arguments.length){var n=t===E.DATA?"data":"signal";e=b.array(e);for(var i=0,r=e.length;r>i;++i)this._graph[n](e[i]).addListener(this._parent)}return x.prototype.dependency.call(this,t,e)};var M=w.bisector(b.numcmp).right,T=function(t,e){return M(t,e)-1},$=w.bisector(function(t,e){return-1*b.numcmp(t,e)}).left;e.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../transforms/Aggregate":118,datalib:26,"vega-dataflow":41,"vega-logging":48}],114:[function(t,e,n){(function(n){function i(t,e){this.duration=t||500,this.ease=e&&o.ease(e)||o.ease("cubic-in-out"),this.updates={next:null}}function r(t){for(var e,n,i,r,o,a,u=this.updates,c=u,h=c.next,d=this.duration,f=!0;null!=h;c=h,h=c.next)if(e=h.item,n=e.delay||0,i=(t-n)/d,0>i)f=!1;else{for(i>1&&(i=1),r=h.ease(i),o=0,a=h.length;a>o;++o)e[h[o].property]=h[o](r);e.touch(),s.item(e),1===i?(h.remove&&(e.status=l.EXIT,e.remove()),c.next=h.next,h=c):f=!1}return this.callback(),f}var o="undefined"!=typeof window?window.d3:"undefined"!=typeof n?n.d3:null,s=t("vega-scenegraph").bound,a=t("vega-dataflow").Tuple,l=t("./Builder").STATUS,u=i.prototype,c={text:1,url:1};u.interpolate=function(t,e){var n,i,r,s,u=null;for(n in e)i=t[n],r=e[n],i!==r&&(c[n]||void 0===i?a.set(t,n,r):"number"!=typeof i||isFinite(i)?(s=o.interpolate(i,r),s.property=n,(u||(u=[])).push(s)):a.set(t,n,r));return null===u&&t.status===l.EXIT&&(u=[]),null!=u&&(u.item=t,u.ease=t.mark.ease||this.ease,u.next=this.updates.next,this.updates.next=u),this},u.start=function(t){for(var e=this,n=e.updates,i=n.next;null!=i;n=i,i=n.next)i.item.status===l.EXIT&&(i.item.status=l.UPDATE,i.remove=!0);e.callback=t,o.timer(function(t){return r.call(e,t)})},e.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./Builder":110,"vega-dataflow":41,"vega-scenegraph":49}],115:[function(t,e,n){function i(t,e){function n(){D.type=null}function i(t){return{data:t}}function o(t){var e=O||(_.ticks?_.ticks(j):_.domain()),n=r(_,e,z).map(i);return e=e.map(function(e){return e=i(e),e.label=t(e.data),e}),[e,n]}function x(t){var n=t.orient,i=t.marks[5].properties.update,r=i.encode,o=e.titleOffsetAutoMin,s=e.titleOffsetAutoMax,a=e.titleOffsetAutoMargin;i.encode=function(t,e,i,l,u,c){var h=r.call(r,t,e,i,l,u,c),d="bottom"===n||"top"===n?"y":"x";if(null!=V[d])return h;b.clear().union(e.items[3].bounds).union(e.items[4].bounds);var f=i?{}:t,p="left"===n||"right"===n?"width":"height",g="top"===n||"left"===n?-1:1,m=~~(b[p]()+t.fontSize/2+a);return v.set(f,d,g*Math.min(Math.max(o,m),s)),i&&i.interpolate(t,f),!0}}function E(n){var i,r,o;n.type===A?(i={scale:n.scaleName,offset:.5+n.rangeBand()/2},r=i):(i={scale:n.scaleName,offset:.5},r={scale:n.scaleName+":prev",offset:.5}),o=s(n),m.extend(K.gridLines,d(e)),m.extend(K.majorTicks,d(e)),m.extend(K.minorTicks,d(e)),m.extend(K.tickLabels,f(e)),m.extend(K.domain,g(e)),m.extend(K.title,p(e)),K.gridLines.properties.enter.stroke={value:e.gridColor},K.gridLines.properties.enter.strokeOpacity={value:e.gridOpacity},K.gridLines.properties.enter.strokeWidth={value:e.gridWidth},K.gridLines.properties.enter.strokeDash={value:e.gridDash},l(F,K.gridLines,r,i,1/0,n,e,k),l(F,K.majorTicks,r,i,L,n,e),l(F,K.minorTicks,r,i,B,n,e),a(F,K.tickLabels,r,i,L,N),c(F,K.domain,o,R),u(F,K.title,o,+S||-1),m.extend(K.gridLines.properties.update,H),m.extend(K.majorTicks.properties.update,U),m.extend(K.minorTicks.properties.update,q),m.extend(K.tickLabels.properties.update,W),m.extend(K.domain.properties.update,G),m.extend(K.title.properties.update,V);var v=[K.gridLines,K.majorTicks,K.minorTicks,K.tickLabels,K.domain,K.title];m.extend(D,{type:"group",interactive:!1,properties:{enter:{encode:h,scales:[n.scaleName],signals:[],data:[]},update:{encode:h,scales:[n.scaleName],signals:[],data:[]}}}),D.marks=v.map(function(e){return y(t,e)})}var _,F=e.orient,k=0,S=e.titleOffset,D={},M="front",T=!1,$=null,L=e.tickSize,B=e.tickSize,R=e.tickSize,N=e.tickPadding||e.padding,O=null,I=null,P=null,z=0,j=e.ticks,H={},W={},U={},q={},V={},G={},K={gridLines:{},majorTicks:{},minorTicks:{},tickLabels:{},domain:{},title:{}},Y={};return Y.def=function(){D.type||E(_);var t=w.getTickFormat(_,j,P,I),e=o(t),n=$?[$].map(i):[];return D.marks[0].from=function(){return T?e[0]:[]},D.marks[1].from=function(){return e[0]},D.marks[2].from=function(){return e[1]},D.marks[3].from=D.marks[1].from,D.marks[4].from=function(){return[1]},D.marks[5].from=function(){return n},D.offset=k,D.orient=F,D.layer=M,"auto"===S&&x(D),D},Y.scale=function(t){return arguments.length?(_!==t&&(_=t,n()),Y):_},Y.orient=function(t){return arguments.length?(F!==t&&(F=t in C?t+"":e.orient,n()),Y):F},Y.title=function(t){return arguments.length?($!==t&&($=t,n()),Y):$},Y.tickCount=function(t){return arguments.length?(j=t,Y):j},Y.tickValues=function(t){return arguments.length?(O=t,Y):O},Y.tickFormat=function(t){return arguments.length?(I!==t&&(I=t,n()),Y):I},Y.tickFormatType=function(t){return arguments.length?(P!==t&&(P=t,n()),Y):P},Y.tickSize=function(t,e){if(!arguments.length)return L;var i=arguments.length-1,r=+t,o=i>1?+e:L,s=i>0?+arguments[i]:L;return L===r&&B===o&&R===s||n(),L=r,B=o,R=s,Y},Y.tickSubdivide=function(t){return arguments.length?(z=+t,Y):z},Y.offset=function(t){return arguments.length?(k=m.isObject(t)?t:+t,Y):k},Y.tickPadding=function(t){return arguments.length?(N!==+t&&(N=+t,n()),Y):N},Y.titleOffset=function(t){return arguments.length?(S!==t&&(S=t,n()),Y):S},Y.layer=function(t){return arguments.length?(M!==t&&(M=t,n()),Y):M},Y.grid=function(t){return arguments.length?(T!==t&&(T=t,n()),Y):T},Y.gridLineProperties=function(t){return arguments.length?(H!==t&&(H=t),Y):H},Y.majorTickProperties=function(t){return arguments.length?(U!==t&&(U=t),Y):U},Y.minorTickProperties=function(t){return arguments.length?(q!==t&&(q=t),Y):q},Y.tickLabelProperties=function(t){return arguments.length?(W!==t&&(W=t),Y):W},Y.titleProperties=function(t){return arguments.length?(V!==t&&(V=t),Y):V},Y.domainProperties=function(t){return arguments.length?(G!==t&&(G=t),Y):G},Y.reset=function(){return n(),Y},Y}function r(t,e,n){var i=[];if(n&&e.length>1){for(var r,s,a=o(t.domain()),l=-1,u=e.length,c=(e[1]-e[0])/++n;++l<u;)for(r=n;--r>0;)(s=+e[l]-r*c)>=a[0]&&i.push(s);for(--l,r=0;++r<n&&(s=+e[l]+r*c)<a[1];)i.push(s)}return i}function o(t){var e=t[0],n=t[t.length-1];return n>e?[e,n]:[n,e]}function s(t){return t.rangeExtent?t.rangeExtent():o(t.range())}function a(t,e,n,i,r,o){r=Math.max(r,0)+o,"left"!==t&&"top"!==t||(r*=-1),"top"===t||"bottom"===t?(m.extend(e.properties.enter,{x:n,y:{value:r}}),m.extend(e.properties.update,{x:i,y:{value:r},align:{value:"center"},baseline:{value:E[t]}})):(m.extend(e.properties.enter,{x:{value:r},y:n}),m.extend(e.properties.update,{x:{value:r},y:i,align:{value:x[t]},baseline:{value:"middle"}}))}function l(t,e,n,i,r,o,s,a){var l="left"===t||"top"===t?-1:1;if(r=r===1/0?"top"===t||"bottom"===t?{field:{group:"height",level:2},mult:-l,offset:a*-l}:{field:{group:"width",level:2},mult:-l,offset:a*-l}:{value:l*r,offset:a},"between"===s.tickPlacement&&o.type===A){var u=o.range(),c=.5+(o.rangeBand()||(u[1]-u[0])/2);i=n=m.duplicate(i),i.offset=n.offset=c}"top"===t||"bottom"===t?(m.extend(e.properties.enter,{x:n,y:{value:0},y2:r}),m.extend(e.properties.update,{x:i,y:{value:0},y2:r}),m.extend(e.properties.exit,{x:i})):(m.extend(e.properties.enter,{x:{value:0},x2:r,y:n}),m.extend(e.properties.update,{x:{value:0},x2:r,y:i}),m.extend(e.properties.exit,{y:i}))}function u(t,e,n,i){var r=e.properties.update,o=~~((n[0]+n[1])/2),s="top"===t||"left"===t?-1:1;"bottom"===t||"top"===t?(r.x={value:o},r.angle={value:0},i>=0&&(r.y={value:s*i})):(r.y={value:o},r.angle={value:"left"===t?-90:90},i>=0&&(r.x={value:s*i}))}function c(t,e,n,i){var r;"top"!==t&&"left"!==t||(i=-1*i),r="bottom"===t||"top"===t?"M"+n[0]+","+i+"V0H"+n[1]+"V"+i:"M"+i+","+n[0]+"H0V"+n[1]+"H"+i,e.properties.update.path={value:r}}function h(t,e,n){var i=n?{}:t,r=t.mark.def.offset,o=t.mark.def.orient,s=e.width,a=e.height;if(m.isArray(r)){var l=r[0],u=r[1];switch(o){case"left":v.set(i,"x",-l),v.set(i,"y",u);break;case"right":v.set(i,"x",s+l),v.set(i,"y",u);break;case"bottom":v.set(i,"x",l),v.set(i,"y",a+u);break;case"top":v.set(i,"x",l),v.set(i,"y",-u);break;default:v.set(i,"x",l),v.set(i,"y",u)}}else switch(m.isObject(r)&&(r=-e.scale(r.scale)(r.value)),o){case"left":v.set(i,"x",-r),v.set(i,"y",0);break;case"right":v.set(i,"x",s+r),v.set(i,"y",0);break;case"bottom":v.set(i,"x",0),v.set(i,"y",a+r);break;case"top":v.set(i,"x",0),v.set(i,"y",-r);break;default:v.set(i,"x",0),v.set(i,"y",0)}return n&&n.interpolate(t,i),!0}function d(t){return{type:"rule",interactive:!1,key:"data",properties:{enter:{stroke:{value:t.tickColor},strokeWidth:{value:t.tickWidth},opacity:{value:1e-6}},exit:{opacity:{value:1e-6}},update:{opacity:{value:1}}}}}function f(t){return{type:"text",interactive:!0,key:"data",properties:{enter:{fill:{value:t.tickLabelColor},font:{value:t.tickLabelFont},fontSize:{value:t.tickLabelFontSize},opacity:{value:1e-6},text:{field:"label"}},exit:{opacity:{value:1e-6}},update:{opacity:{value:1}}}}}function p(t){return{type:"text",interactive:!0,properties:{enter:{font:{value:t.titleFont},fontSize:{value:t.titleFontSize},fontWeight:{value:t.titleFontWeight},fill:{value:t.titleColor},align:{value:"center"},baseline:{value:"middle"},text:{field:"data"}},update:{}}}}function g(t){return{type:"path",interactive:!1,properties:{enter:{x:{value:.5},y:{value:.5},stroke:{value:t.axisColor},strokeWidth:{value:t.axisWidth}},update:{}}}}var m=t("datalib"),v=t("vega-dataflow").Tuple,y=t("../parse/mark"),w=t("../util"),b=new(t("vega-scenegraph").Bounds),A="ordinal",C={top:1,right:1,bottom:1,left:1},x={bottom:"center",top:"center",left:"right",right:"left"},E={bottom:"top",top:"bottom",left:"middle",right:"middle"};e.exports=i},{"../parse/mark":99,"../util":148,datalib:26,"vega-dataflow":41,"vega-scenegraph":49}],116:[function(t,e,n){(function(n){function i(t){function e(){U.type=null}function n(t,e){return{data:t,index:e}}function i(t){return"ordinal"===t||"quantize"===t||"quantile"===t||"threshold"===t}function y(t){var e,i,r,o=w(C,x,E,_,F),s=(null==S?t.ticks?t.ticks.apply(t,N):t.domain():S).map(n),a=m.getTickFormat(t,s.length,M,D),l=5,u=h.range(s.length);C?(i=s.map(function(t){return Math.sqrt(C(t.data))}),r=h.max(i),i=i.reduce(function(t,e,n,i){return n>0&&(t[n]=t[n-1]+i[n-1]/2+l),t[n]+=e/2,t},[0]).map(Math.round)):(r=Math.round(Math.sqrt($.symbolSize)),i=k||(e=j.fontSize)&&e.value+l||$.labelFontSize+l,i=u.map(function(t,e){return Math.round(r/2+e*i)}));var c,f=R;T&&(c=z.fontSize,f+=5+(c&&c.value||$.titleFontSize));for(var p=0,g=i.length;g>p;++p)i[p]+=f;o.scales=o.scales||[{}],d.extend(o.scales[0],{name:"legend",type:"ordinal",points:!0,domain:u,range:i});var v=(T?[T]:[]).map(n);return s.forEach(function(t){t.label=a(t.data),t.offset=r}),o.marks[0].from=function(){return v},o.marks[1].from=function(){return s},o.marks[2].from=o.marks[1].from,o}function w(e,n,i,u,c){var h=d.extend(H.titles,s($)),f=d.extend(H.symbols,a($)),m=d.extend(H.labels,l($));return o(f,e,n,i,u,c),d.extend(h.properties.update,z),d.extend(f.properties.update,I),d.extend(m.properties.update,j),h.properties.enter.x.value+=R,h.properties.enter.y.value+=R,m.properties.enter.x.offset+=R+1,f.properties.enter.x.offset=R+1,m.properties.update.x.offset+=R+1,f.properties.update.x.offset=R+1,d.extend(U,{type:"group",interactive:!1,properties:{enter:p(t,"group",O),legendPosition:{encode:r.bind(null,$),signals:[],scales:[],data:[],fields:[]}}}),U.marks=[h,f,m].map(function(e){return g(t,e)}),U}function b(t){var e=A(t),i=t.domain(),r=(null==S?i:S).map(n),o=P.width&&P.width.value||$.gradientWidth,s=m.getTickFormat(t,r.length,M,D);e.scales=e.scales||[{}];var a=d.extend(e.scales[0],{name:"legend",type:t.type,round:!0,zero:!1,domain:[i[0],i[i.length-1]],range:[R,o+R]});"pow"===t.type&&(a.exponent=t.exponent());var l=(T?[T]:[]).map(n);return r.forEach(function(t,e){t.label=s(t.data),t.align=e==r.length-1?"right":0===e?"left":"center"}),e.marks[0].from=function(){return l},e.marks[1].from=function(){return[1]},e.marks[2].from=function(){return r},e}function A(e){var n=d.extend(H.titles,s($)),i=d.extend(H.gradient,u($)),o=d.extend(H.labels,c($)),a=new f,l=e.domain(),h=l[0],m=l[l.length-1],v=e.copy().domain([h,m]).range([0,1]),y="linear"!==e.type&&e.ticks?e.ticks.call(e,15):l;h!==y[0]&&y.unshift(h),m!==y[y.length-1]&&y.push(m);for(var w=0,b=y.length;b>w;++w)a.stop(v(y[w]),e(y[w]));i.properties.enter.fill={value:a},d.extend(n.properties.update,z),d.extend(i.properties.update,P),d.extend(o.properties.update,j);var A=i.properties,C=P.height,x=C&&C.value||A.enter.height.value;if(o.properties.enter.y.value=x,o.properties.update.y.value=x,T){var E=n.properties,_=z.fontSize,F=4+(_&&_.value||E.enter.fontSize.value);i.properties.enter.y.value+=F,o.properties.enter.y.value+=F,i.properties.update.y.value+=F,o.properties.update.y.value+=F}return n.properties.enter.x.value+=R,n.properties.enter.y.value+=R,i.properties.enter.x.value+=R,i.properties.enter.y.value+=R,o.properties.enter.y.value+=R,i.properties.update.x.value+=R,i.properties.update.y.value+=R,o.properties.update.y.value+=R,d.extend(U,{type:"group",interactive:!1,properties:{enter:p(t,"group",O),legendPosition:{encode:r.bind(null,$),signals:[],scales:[],data:[],fields:[]}}}),U.marks=[n,i,o].map(function(e){return g(t,e)}),U}var C=null,x=null,E=null,_=null,F=null,k=null,S=null,D=null,M=null,T=null,$=t.config().legend,L=$.orient,B=$.offset,R=$.padding,N=[5],O={},I={},P={},z={},j={},H={titles:{},symbols:{},labels:{},gradient:{}},W={},U={};return W.def=function(){var t=C||x||E||_||F;return U.type||(U=t!==E&&t!==_||i(t.type)?y(t):b(t)),U.orient=L,U.offset=B,U.padding=R,U.margin=$.margin,U},W.size=function(t){return arguments.length?(C!==t&&(C=t,e()),W):C},W.shape=function(t){return arguments.length?(x!==t&&(x=t,e()),W):x},W.fill=function(t){return arguments.length?(E!==t&&(E=t,e()),W):E},W.stroke=function(t){return arguments.length?(_!==t&&(_=t,e()),W):_},W.opacity=function(t){return arguments.length?(F!==t&&(F=t,e()),W):F},W.title=function(t){return arguments.length?(T!==t&&(T=t,e()),W):T},W.format=function(t){return arguments.length?(D!==t&&(D=t,e()),W):D},W.formatType=function(t){return arguments.length?(M!==t&&(M=t,e()),W):M},W.spacing=function(t){return arguments.length?(k!==+t&&(k=+t,e()),W):k},W.orient=function(t){return arguments.length?(L=t in v?t+"":$.orient,W):L},W.offset=function(t){return arguments.length?(B=+t,W):B},W.values=function(t){return arguments.length?(S=t,W):S},W.legendProperties=function(t){return arguments.length?(O=t,W):O},W.symbolProperties=function(t){return arguments.length?(I=t,W):I},W.gradientProperties=function(t){return arguments.length?(P=t,W):P},W.labelProperties=function(t){return arguments.length?(j=t,W):j},W.titleProperties=function(t){return arguments.length?(z=t,W):z},W.reset=function(){return e(),W},W}function r(t,e,n,i,r,o,s){var a,l=i?{}:e,u=e.mark.def,c=u.offset,h=u.orient,d=2*u.padding,f="left"===h?0:n.width,p=~~e.bounds.width()+(e.width?0:d),g=~~e.bounds.height()+(e.height?0:d),m=n._legendPositions||(n._legendPositions={right:.5,left:.5});if(l.x=.5,l.y=.5,l.width=p,l.height=g,"left"===h||"right"===h){l.y=m[h],m[h]+=g+u.margin;var y=n.axes,w=n.axisItems,b=v[h];for(a=0;a<y.length;++a)y[a].orient()===h&&(f=Math.max(f,Math.abs(w[a].bounds[b])))}switch(h){case"left":l.x-=f+c+p;break;case"right":l.x+=f+c;break;case"top-left":l.x+=c,l.y+=c;break;case"top-right":l.x+=n.width-p-c,l.y+=c;break;case"bottom-left":l.x+=c,l.y+=n.height-g-c;break;case"bottom-right":l.x+=n.width-p-c,l.y+=n.height-g-c}var A=t.baseline,C=0;for(a=0;a<n.legendItems.length;a++){var x=n.legendItems[a];C+=x.bounds.height()+(e.height?0:d)}"middle"===A?l.y+=c+n.height/2-C/2:"bottom"===A&&(l.y+=c+n.height-C),i&&i.interpolate(e,l);var E=e.mark.def.properties.enter.encode;return E.call(E,e,n,i,r,o,s),!0}function o(t,e,n,i,r,o){var s=t.properties.enter,a=t.properties.update;e&&(s.size=a.size={scale:e.scaleName,field:"data"}),n&&(s.shape=a.shape={scale:n.scaleName,field:"data"}),i&&(s.fill=a.fill={scale:i.scaleName,field:"data"}),r&&(s.stroke=a.stroke={scale:r.scaleName,field:"data"}),o&&(a.opacity={scale:o.scaleName,field:"data"})}function s(t){return{type:"text",interactive:!1,key:"data",properties:{enter:{x:{value:0},y:{value:0},fill:{value:t.titleColor},font:{value:t.titleFont},fontSize:{value:t.titleFontSize},fontWeight:{value:t.titleFontWeight},baseline:{value:"top"},text:{field:"data"},opacity:{value:1e-6}},exit:{opacity:{value:1e-6}},update:{opacity:{value:1}}}}}function a(t){return{type:"symbol",interactive:!1,key:"data",properties:{enter:{x:{field:"offset",mult:.5},y:{scale:"legend",field:"index"},shape:{value:t.symbolShape},size:{value:t.symbolSize},stroke:{value:t.symbolColor},strokeWidth:{value:t.symbolStrokeWidth},opacity:{value:1e-6}},exit:{opacity:{value:1e-6}},update:{x:{field:"offset",mult:.5},y:{scale:"legend",field:"index"},opacity:{value:1}}}}}function l(t){return{type:"text",interactive:!1,key:"data",properties:{enter:{x:{field:"offset",offset:5},y:{scale:"legend",field:"index"},fill:{value:t.labelColor},font:{value:t.labelFont},fontSize:{value:t.labelFontSize},align:{value:t.labelAlign},baseline:{value:t.labelBaseline},text:{field:"label"},opacity:{value:1e-6}},exit:{opacity:{value:1e-6}},update:{opacity:{value:1},x:{field:"offset",offset:5},y:{scale:"legend",field:"index"}}}}}function u(t){return{type:"rect",interactive:!1,properties:{enter:{x:{value:0},y:{value:0},width:{value:t.gradientWidth},height:{value:t.gradientHeight},stroke:{value:t.gradientStrokeColor},strokeWidth:{value:t.gradientStrokeWidth},opacity:{value:1e-6}},exit:{opacity:{value:1e-6}},update:{x:{value:0},y:{value:0},opacity:{value:1}}}}}function c(t){return{type:"text",interactive:!1,key:"data",properties:{enter:{x:{scale:"legend",field:"data"},y:{value:20},dy:{value:2},fill:{value:t.labelColor},font:{value:t.labelFont},fontSize:{value:t.labelFontSize},align:{field:"align"},baseline:{value:"top"},text:{field:"label"},opacity:{value:1e-6}},exit:{opacity:{value:1e-6}},update:{x:{scale:"legend",field:"data"},y:{value:20},opacity:{value:1}}}}}var h="undefined"!=typeof window?window.d3:"undefined"!=typeof n?n.d3:null,d=t("datalib"),f=t("vega-scenegraph").Gradient,p=t("../parse/properties"),g=t("../parse/mark"),m=t("../util"),v={left:"x1",right:"x2","top-left":"x1","top-right":"x2","bottom-left":"x1","bottom-right":"x2"};e.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../parse/mark":99,"../parse/properties":104,"../util":148,datalib:26,"vega-scenegraph":49}],117:[function(t,e,n){e.exports=function i(t,e){var n,r,o,s,a;if(e(t))return!0;var l=["items","axisItems","legendItems"];for(o=0,s=l.length;s>o;++o)if(a=t[l[o]])for(n=0,r=a.length;r>n;++n)if(i(a[n],e))return!0}},{}],118:[function(t,e,n){function i(t){return h.prototype.init.call(this,t),h.addParameters(this,{groupby:{type:"array<field>"},summarize:{type:"custom",set:function(t){function e(t){t.signal&&(u[t.signal]=1)}var n,i,r,s,a,l,u={},h=this._transform;if(!o.isArray(s=t)){s=[];for(a in t)l=o.array(t[a]),s.push({field:a,ops:l})}for(n=0,i=s.length;i>n;++n)r=s[n],r.field.signal&&(u[r.field.signal]=1),o.array(r.ops).forEach(e),o.array(r.as).forEach(e);return h._fields=s,h._aggr=null,h.dependency(c.SIGNALS,o.keys(u)),h}}}),this._aggr=null,this._input=null,this._args=null,this._fields=[],this._out=[],this._type=p.TUPLE,this._acc={groupby:o["true"],value:o["true"]},this.router(!0).produces(!0)}function r(t){var e,n,i,r,o,s,a,l=[];for(o=t._dims,e=0,n=o.length;n>e;++e)l.push(o[e].name);for(s=t._aggr,e=0,n=s.length;n>e;++e)for(a=s[e].measures.fields,i=0,r=a.length;r>i;++i)l.push(a[i]);return l}var o=t("datalib"),s=t("vega-dataflow"),a=t("vega-logging"),l=s.ChangeSet,u=s.Tuple,c=s.Dependencies,h=t("./Transform"),d=t("./Facetor"),f=i.prototype=Object.create(h.prototype);f.constructor=i;var p=i.TYPES={VALUE:1,TUPLE:2,MULTI:3};i.VALID_OPS=["values","count","valid","missing","distinct","sum","mean","average","variance","variancep","stdev","stdevp","median","q1","q3","modeskew","min","max","argmin","argmax"],f.type=function(t){return this._type=t,this},f.accessors=function(t,e){var n=this._acc;n.groupby=o.$(t)||o["true"],n.value=o.$(e)||o["true"]},f.aggr=function(){if(this._aggr)return this._aggr;var t=this._graph,e=!1,n=[],i=this.param("groupby").field,s=function(e){return e.signal?t.signalRef(e.signal):e},a=this._fields.map(function(t){var i={name:s(t.field),as:o.array(t.as),ops:o.array(s(t.ops)).map(s),get:t.get};return e=e||null!=i.get,n.push(i.name),i});i.forEach(function(t){t.get&&(e=!0),n.push(t.name||t)}),this._args=e||!a.length?null:n,a.length||(a={"*":"values"});var l=this._aggr=(new d).groupby(i).stream(!0).summarize(a);return this._out=r(l),this._type!==p.VALUE&&l.key("_id"),l},f.transform=function(t,e){a.debug(t,["aggregate"]);var n,i,r,o,s,c=l.create(t),h=this.aggr(),d=this._out,f=this._args,g=!0,m=u.prev;if(e&&(c.rem.push.apply(c.rem,h.result()),h.clear(),this._aggr=null,h=this.aggr()),this._type===p.TUPLE)n=function(t){h._add(t),u.prev_init(t)},i=function(t){h._rem(m(t))},r=function(t){h._mod(t,m(t))},o=function(t){h._markMod(t,m(t))};else{var v=this._acc.groupby,y=this._acc.value,w=this._type===p.VALUE?y:function(t){return{_id:t._id,groupby:v(t),value:y(t)}};n=function(t){h._add(w(t)),u.prev_init(t)},i=function(t){h._rem(w(m(t)))},r=function(t){h._mod(w(t),w(m(t)))},o=function(t){h._mark(w(t),w(m(t)))}}if(t.add.forEach(n),e)t.mod.forEach(n);else{if(t.rem.forEach(i),f)for(s=0,g=!1;s<f.length;++s)if(t.fields[f[s]]){g=!0;break}t.mod.forEach(g?r:o)}for(s=0;s<d.length;++s)c.fields[d[s]]=1;return h._input=t,h.changes(c)},e.exports=i},{"./Facetor":124,"./Transform":140,datalib:26,"vega-dataflow":41,"vega-logging":48}],119:[function(t,e,n){function i(){this._collector=null}var r=t("./Transform").prototype,o=i.prototype=Object.create(r);o.constructor=i,o.init=function(t){return r.init.call(this,t),this.batch(!0)},o.transform=function(t,e){return this.batchTransform(t,this._collector.data(),e)},o.batchTransform=function(){},e.exports=i},{"./Transform":140}],120:[function(t,e,n){function i(t){return l.prototype.init.call(this,t),a.addParameters(this,{field:{type:"field"},min:{type:"value"},max:{type:"value"},base:{type:"value","default":10},maxbins:{type:"value","default":20},step:{type:"value"},steps:{type:"value"},minstep:{type:"value"},div:{type:"array<value>","default":[5,2]}}),this._output={start:"bin_start",end:"bin_end",mid:"bin_mid"},this.mutates(!0)}var r=t("datalib"),o=t("vega-dataflow").Tuple,s=t("vega-logging"),a=t("./Transform"),l=t("./BatchTransform"),u=i.prototype=Object.create(l.prototype);u.constructor=i,u.extent=function(t){var e,n=[this.param("min"),this.param("max")];return null!=n[0]&&null!=n[1]||(e=r.extent(t,this.param("field").accessor),null==n[0]&&(n[0]=e[0]),null==n[1]&&(n[1]=e[1])),n},u.batchTransform=function(t,e){function n(t){var e=h(t);e=null==e?null:f.start+p*~~((e-f.start)/p),o.set(t,a.start,e),o.set(t,a.end,e+p),o.set(t,a.mid,e+p/2)}s.debug(t,["binning"]);var i=this.extent(e),a=this._output,l=this.param("step"),u=this.param("steps"),c=this.param("minstep"),h=this.param("field").accessor,d={min:i[0],max:i[1],base:this.param("base"),maxbins:this.param("maxbins"),div:this.param("div")};l&&(d.step=l),u&&(d.steps=u),c&&(d.minstep=c);var f=r.bins(d),p=f.step;return t.add.forEach(n),t.mod.forEach(n),t.rem.forEach(n),t.fields[a.start]=1,t.fields[a.end]=1,t.fields[a.mid]=1,t},e.exports=i},{"./BatchTransform":119,"./Transform":140,datalib:26,"vega-dataflow":41,"vega-logging":48}],121:[function(t,e,n){function i(t){return a.prototype.init.call(this,t),a.addParameters(this,{field:{type:"field","default":"data"},pattern:{type:"value","default":"[\\w']+"},"case":{type:"value","default":"lower"},stopwords:{type:"value","default":""}}),this._output={text:"text",count:"count"},this.router(!0).produces(!0)}var r=t("vega-dataflow"),o=r.Tuple,s=t("vega-logging"),a=t("./Transform"),l=i.prototype=Object.create(a.prototype);l.constructor=i,l.transform=function(t,e){function n(t){return o.prev_init(t),r(t)}function i(t){return r(o.prev(t))}s.debug(t,["countpattern"]);var r=this.param("field").accessor,a=this.param("pattern"),l=this.param("stopwords"),u=!1;return this._stop!==l&&(this._stop=l,this._stop_re=new RegExp("^"+l+"$","i"),e=!0),this._pattern!==a&&(this._pattern=a,this._match=new RegExp(this._pattern,"g"),e=!0),e&&(this._counts={}),this._add(t.add,n),e||this._rem(t.rem,i),(e||(u=t.fields[r.field]))&&(u&&this._rem(t.mod,i),this._add(t.mod,n)),this._changeset(t)},l._changeset=function(t){var e,n,i,s=this._counts,a=this._tuples||(this._tuples={}),l=r.ChangeSet.create(t),u=this._output;for(e in s)n=a[e],i=s[e]||0,!n&&i?(a[e]=n=o.ingest({}),n[u.text]=e,n[u.count]=i,l.add.push(n)):0===i?(n&&l.rem.push(n),delete s[e],delete a[e]):n[u.count]!==i&&(o.set(n,u.count,i),l.mod.push(n));return l},l._tokenize=function(t){switch(this.param("case")){case"upper":t=t.toUpperCase();break;case"lower":t=t.toLowerCase()}return t.match(this._match)},l._add=function(t,e){var n,i,r,o,s=this._counts,a=this._stop_re;for(r=0;r<t.length;++r)for(n=this._tokenize(e(t[r])),i=0;i<n.length;++i)a.test(o=n[i])||(s[o]=1+(s[o]||0))},l._rem=function(t,e){var n,i,r,o,s=this._counts,a=this._stop_re;for(r=0;r<t.length;++r)for(n=this._tokenize(e(t[r])),i=0;i<n.length;++i)a.test(o=n[i])||(s[o]-=1)},e.exports=i},{"./Transform":140,"vega-dataflow":41,"vega-logging":48}],122:[function(t,e,n){function i(t){return m.prototype.init.call(this,t),g.addParameters(this,{"with":{type:"data"},diagonal:{type:"value","default":"true"},filter:{type:"expr"}}),this._output={left:"a",right:"b"},this._lastWith=null,this._cids={},this._cache={},this.router(!0).produces(!0)}function r(t,e){var n=this._cache,i=n[t._id]||(n[t._id]={c:[],f:!1});i.c.push(e)}function o(t,e,n){return t?e._id+"_"+n._id:n._id+"_"+e._id}function s(t,e,n,i,s,a,l){for(var u,c,h=this._output,d=this._cache,p=this._cids,g=t.add,m=!1,v=0,y=n.length,w={};y>v;++v)u=n[v],c=o(e,l,u),p[c]||(l._id!==u._id||i)&&(f.set(w,h.left,e?l:u),f.set(w,h.right,e?u:l),!s||s(w)?(g.push(w=f.ingest(w)),r.call(this,l,w),l._id!==u._id&&r.call(this,u,w),a[w._id]=1,p[c]=!0,w={}):(d[u._id]&&(d[u._id].f=!0),m=!0));d[l._id]&&(d[l._id].f=m)}function a(t,e,n,i,r,a,l,u){var c,h,d,f,p,g=this._output,m=this._cache,v=this._cids,y=m[u._id],w=y&&y.c,b=!y||y.f,A=t.mod,C=t.rem;if(w)for(c=w.length-1;c>=0;--c)if(h=w[c],f=u===h[g.left],d=f?h[g.right]:h[g.left],p=o(f,u,d),m[d._id])if(!r||r(h)){if(a[h._id])continue;A.push(h),a[h._id]=1}else l[h._id]||C.push.apply(C,w.splice(c,1)),l[h._id]=1,v[p]=!1,y.f=!0;else v[p]=!1,w.splice(c,1);r&&b&&s.call(this,t,e,n,i,r,a,u)}function l(t,e,n,i){var r,s,a,l,u,c=this._output,h=this._cache[i._id],d=this._cids,f=t.rem;if(h){for(r=0,s=h.c.length;s>r;++r)a=h.c[r],u=i===a[c.left],l=u?a[c.right]:a[c.left],d[o(u,i,l)]=!1,n[a._id]||(f.push(a),n[a._id]=1);this._cache[i._id]=null}}function u(t,e){var n,i,r,o,s,a,l=this._cache,u=c.keys(l),h=t.rem;for(n=0,i=u.length;i>n;++n)for(s=l[u[n]],r=0,o=s.c.length;o>r;++r)a=s.c[r],e[a._id]||(h.push(a),e[a._id]=1);this._cache={},this._cids={},this._lastWith=null}var c=t("datalib"),h=t("vega-dataflow"),d=h.ChangeSet,f=h.Tuple,p=t("vega-logging"),g=t("./Transform"),m=t("./BatchTransform"),v=i.prototype=Object.create(m.prototype);v.constructor=i,v.batchTransform=function(t,e,n){p.debug(t,["crossing"]);var i=this.param("with"),r=this.param("diagonal"),o=this._output,c=this.param("filter")||null,h=!i.name,f=h?t:i.source.last(),g=h?e:i.source.values(),m=d.create(t),v={},y={};return n?(u.call(this,m,y),e.forEach(s.bind(this,m,!0,g,r,c,v)),this._lastWith=f.stamp):(t.rem.forEach(l.bind(this,m,!0,y)),t.add.forEach(s.bind(this,m,!0,g,r,c,v)),f.stamp>this._lastWith&&(f.rem.forEach(l.bind(this,m,!1,y)),f.add.forEach(s.bind(this,m,!1,e,r,c,v)),f.mod.forEach(a.bind(this,m,!1,e,r,c,v,y)),this._lastWith=f.stamp),t.mod.forEach(a.bind(this,m,!0,g,r,c,v,y))),m.fields[o.left]=1,m.fields[o.right]=1,m},e.exports=i},{"./BatchTransform":119,"./Transform":140,datalib:26,"vega-dataflow":41,"vega-logging":48}],123:[function(t,e,n){function i(e){return r.addParameters(this,{transform:{type:"custom",set:function(t){return this._transform._pipeline=t,this._transform},get:function(){var e=t("../parse/transforms"),n=this._transform;return n._pipeline.map(function(t){return e(n._graph,t)})}}}),this._pipeline=[],o.call(this,e)}var r=t("./Transform"),o=t("./Aggregate"),s=i.prototype=Object.create(o.prototype);s.constructor=i,s.aggr=function(){return o.prototype.aggr.call(this).facet(this)},s.transform=function(t,e){var n=o.prototype.transform.call(this,t,e);return t.add.length&&this.listeners()[0].rerank(),n},e.exports=i},{"../parse/transforms":108,"./Aggregate":118,"./Transform":140}],124:[function(t,e,n){function i(){s.call(this),this._facet=null,this._facetID=++h}function r(t){c.debug({},["disconnecting cell",this.tuple._id]);var e=this.ds.pipeline();t.removeListener(e[0]),t._graph.removeListener(e[0]),t._graph.disconnect(e)}var o=t("datalib"),s=o.Aggregator,a=s.prototype,l=t("vega-dataflow"),u=l.Tuple,c=t("vega-logging"),h=0,d=i.prototype=Object.create(a);d.constructor=i,d.facet=function(t){return arguments.length?(this._facet=t,this):this._facet},d._ingest=function(t){return u.ingest(t,null)},d._assign=u.set,d._newcell=function(t,e){var n=a._newcell.call(this,t,e),i=this._facet;if(i){var o=i._graph,s=n.tuple,l=i.param("transform");n.ds=o.data(s._facetID,l,s),n.disconnect=r,i.addListener(l[0])}return n},d._newtuple=function(t,e){var n=a._newtuple.call(this,t);return this._facet&&(u.set(n,"key",e),u.set(n,"_facetID",this._facetID+"_"+e)),n},d.clear=function(){if(this._facet)for(var t in this._cells)this._cells[t].disconnect(this._facet);return a.clear.call(this)},d._on_add=function(t,e){this._facet&&e.ds._input.add.push(t)},d._on_rem=function(t,e){this._facet&&e.ds._input.rem.push(t)},d._on_mod=function(t,e,n,i){this._facet&&(n===i?n.ds._input.mod.push(t):(n.ds._input.rem.push(t),i.ds._input.add.push(t)))},d._on_drop=function(t){this._facet&&t.disconnect(this._facet)},d._on_keep=function(t){this._facet&&l.ChangeSet.copy(this._input,t.ds._input)},e.exports=i},{datalib:26,"vega-dataflow":41,"vega-logging":48}],125:[function(t,e,n){function i(t){return s.prototype.init.call(this,t),s.addParameters(this,{test:{type:"expr"}}),this._skip={},this.router(!0)}var r=t("vega-dataflow"),o=t("vega-logging"),s=t("./Transform"),a=i.prototype=Object.create(s.prototype);a.constructor=i,a.transform=function(t){o.debug(t,["filtering"]);var e=r.ChangeSet.create(t),n=this._skip,i=this.param("test");return t.rem.forEach(function(t){1!==n[t._id]?e.rem.push(t):n[t._id]=0}),t.add.forEach(function(t){i(t)?e.add.push(t):n[t._id]=1}),t.mod.forEach(function(t){var r=i(t),o=1===n[t._id];r&&o?(n[t._id]=0,e.add.push(t)):r&&!o?e.mod.push(t):!r&&o||(e.rem.push(t),n[t._id]=1)}),e},e.exports=i},{"./Transform":140,"vega-dataflow":41,"vega-logging":48}],126:[function(t,e,n){function i(t){return a.prototype.init.call(this,t),a.addParameters(this,{fields:{type:"array<field>"}}),this._output={key:"key",value:"value"},this._cache={},this.router(!0).produces(!0)}var r=t("vega-dataflow"),o=r.Tuple,s=t("vega-logging"),a=t("./Transform"),l=i.prototype=Object.create(a.prototype);l.constructor=i,l._reset=function(t,e){for(var n in this._cache)e.rem.push.apply(e.rem,this._cache[n]);this._cache={}},l._tuple=function(t,e,n){var i=this._cache[t._id]||(this._cache[t._id]=Array(n));return i[e]?o.rederive(t,i[e]):i[e]=o.derive(t)},l._fn=function(t,e,n){var i,r,s,a,l,u;for(i=0,s=t.length;s>i;++i)for(l=t[i],r=0,a=e.field.length;a>r;++r)u=this._tuple(l,r,a),o.set(u,this._output.key,e.field[r]),o.set(u,this._output.value,e.accessor[r](l)),n.push(u)},l.transform=function(t,e){s.debug(t,["folding"]);
var n=this,i=this.param("fields"),o=r.ChangeSet.create(t);return e&&this._reset(t,o),this._fn(t.add,i,o.add),this._fn(t.mod,i,e?o.add:o.mod),t.rem.forEach(function(t){o.rem.push.apply(o.rem,n._cache[t._id]),n._cache[t._id]=null}),(t.add.length||t.rem.length||i.field.some(function(e){return!!t.fields[e]}))&&(o.fields[this._output.key]=1,o.fields[this._output.value]=1),o},e.exports=i},{"./Transform":140,"vega-dataflow":41,"vega-logging":48}],127:[function(t,e,n){(function(n){function i(e){return u.prototype.init.call(this,e),this._prev=null,this._interactive=!1,this._setup=!0,this._nodes=[],this._links=[],this._layout=r.layout.force(),u.addParameters(this,{size:{type:"array<value>","default":t("./screen").size},bound:{type:"value","default":!0},links:{type:"data"},linkStrength:{type:"value","default":1},linkDistance:{type:"value","default":20},charge:{type:"value","default":-30},chargeDistance:{type:"value","default":1/0},friction:{type:"value","default":.9},theta:{type:"value","default":.8},gravity:{type:"value","default":.1},alpha:{type:"value","default":.1},iterations:{type:"value","default":500},interactive:{type:"value","default":this._interactive},active:{type:"value","default":this._prev},fixed:{type:"data"}}),this._output={x:"layout_x",y:"layout_y"},this.mutates(!0)}var r="undefined"!=typeof window?window.d3:"undefined"!=typeof n?n.d3:null,o=t("vega-dataflow"),s=o.Tuple,a=o.ChangeSet,l=t("vega-logging"),u=t("./Transform"),c=i.prototype=Object.create(u.prototype);c.constructor=i,c.transform=function(t,e){l.debug(t,["force"]),e-=t.signals.active?1:0;var n=this.param("interactive"),i=this.param("links").source,r=i.last(),o=this.param("active"),a=this._output,u=this._layout,c=this._nodes,h=this._links;if(r.stamp<t.stamp&&(r=null),this.configure(t,r,n,e),!n){for(var d=this.param("iterations"),f=0;d>f;++f)u.tick();u.stop()}return this.update(o),(e||o!==this._prev&&o&&o.update)&&u.alpha(this.param("alpha")),o!==this._prev&&(this._prev=o),t.rem.length&&u.nodes(this._nodes=s.idFilter(c,t.rem)),r&&r.rem.length&&u.links(this._links=s.idFilter(h,r.rem)),t.fields[a.x]=1,t.fields[a.y]=1,t},c.configure=function(t,e,n,i){var r=this._layout,o=this._setup||t.add.length||e&&e.add.length||n!==this._interactive||this.param("charge")!==r.charge()||this.param("linkStrength")!==r.linkStrength()||this.param("linkDistance")!==r.linkDistance();if((o||i)&&r.size(this.param("size")).chargeDistance(this.param("chargeDistance")).theta(this.param("theta")).gravity(this.param("gravity")).friction(this.param("friction")),o){this._setup=!1,this._interactive=n;var s,l,u=this,c=this._graph,h=this._nodes,d=this._links;for(s=t.add,l=0;l<s.length;++l)h.push({tuple:s[l]});if(e)for(s=e.add,l=0;l<s.length;++l)d.push({tuple:s[l],source:h[s[l].source],target:h[s[l].target]});var f=n?function(){c.propagate(a.create(null,!0),u)}:null;r.linkStrength(this.param("linkStrength")).linkDistance(this.param("linkDistance")).charge(this.param("charge")).nodes(h).links(d).on("tick",f).start().alpha(this.param("alpha"))}},c.update=function(t){var e,n,i,r,o,a,l=this._output,u=this.param("bound"),c=this.param("fixed"),h=this.param("size"),d=this._nodes,f={};if(c&&c.source)for(c=c.source.values(),n=0,i=c.length;i>n;++n)f[c[n].id]=1;for(n=0;n<d.length;++n)i=d[n],r=i.tuple,e=r._id,t&&t.id===e?(i.fixed=1,t.update&&(i.x=i.px=t.x,i.y=i.py=t.y)):i.fixed=f[e]||0,o=u?Math.max(0,Math.min(i.x,h[0])):i.x,a=u?Math.max(0,Math.min(i.y,h[1])):i.y,s.set(r,l.x,o),s.set(r,l.y,a)},e.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./Transform":140,"./screen":146,"vega-dataflow":41,"vega-logging":48}],128:[function(t,e,n){function i(t){return a.prototype.init.call(this,t),a.addParameters(this,{field:{type:"value"},expr:{type:"expr"}}),this.mutates(!0)}var r=t("vega-dataflow"),o=r.Tuple,s=t("vega-logging"),a=t("./Transform"),l=i.prototype=Object.create(a.prototype);l.constructor=i,l.transform=function(t){function e(t){o.set(t,n,i(t)),r=!0}s.debug(t,["formulating"]);var n=this.param("field"),i=this.param("expr"),r=!1;return t.add.forEach(e),this.reevaluate(t)&&t.mod.forEach(e),r&&(t.fields[n]=1),t},e.exports=i},{"./Transform":140,"vega-dataflow":41,"vega-logging":48}],129:[function(t,e,n){(function(n){function i(t){return l.prototype.init.call(this,t),l.addParameters(this,i.Parameters),l.addParameters(this,{lon:{type:"field"},lat:{type:"field"}}),this._output={x:"layout_x",y:"layout_y"},this.mutates(!0)}var r="undefined"!=typeof window?window.d3:"undefined"!=typeof n?n.d3:null,o=t("datalib"),s=t("vega-dataflow").Tuple,a=t("vega-logging"),l=t("./Transform");i.Parameters={projection:{type:"value","default":"mercator"},center:{type:"array<value>"},translate:{type:"array<value>","default":t("./screen").center},rotate:{type:"array<value>"},scale:{type:"value"},precision:{type:"value"},clipAngle:{type:"value"},clipExtent:{type:"value"}},i.d3Projection=function(){var t,e,n,s=this.param("projection"),a=i.Parameters;s!==this._mode&&(this._mode=s,this._projection=r.geo[s]()),t=this._projection;for(e in a)"projection"!==e&&t[e]&&(n=this.param(e),void 0===n||o.isArray(n)&&0===n.length||n!==t[e]()&&t[e](n));return t};var u=i.prototype=Object.create(l.prototype);u.constructor=i,u.transform=function(t){function e(t){var e=[r(t),o(t)],i=l(e)||[null,null];s.set(t,n.x,i[0]),s.set(t,n.y,i[1])}a.debug(t,["geo"]);var n=this._output,r=this.param("lon").accessor,o=this.param("lat").accessor,l=i.d3Projection.call(this);return t.add.forEach(e),this.reevaluate(t)&&(t.mod.forEach(e),t.rem.forEach(e)),t.fields[n.x]=1,t.fields[n.y]=1,t},e.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./Transform":140,"./screen":146,datalib:26,"vega-dataflow":41,"vega-logging":48}],130:[function(t,e,n){(function(n){function i(t){return u.prototype.init.call(this,t),u.addParameters(this,l.Parameters),u.addParameters(this,{field:{type:"field","default":null}}),this._output={path:"layout_path"},this.mutates(!0)}var r="undefined"!=typeof window?window.d3:"undefined"!=typeof n?n.d3:null,o=t("datalib"),s=t("vega-dataflow").Tuple,a=t("vega-logging"),l=t("./Geo"),u=t("./Transform"),c=i.prototype=Object.create(u.prototype);c.constructor=i,c.transform=function(t){function e(t){s.set(t,n.path,c(i(t)))}a.debug(t,["geopath"]);var n=this._output,i=this.param("field").accessor||o.identity,u=l.d3Projection.call(this),c=r.geo.path().projection(u);return t.add.forEach(e),this.reevaluate(t)&&(t.mod.forEach(e),t.rem.forEach(e)),t.fields[n.path]=1,t},e.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./Geo":129,"./Transform":140,datalib:26,"vega-dataflow":41,"vega-logging":48}],131:[function(t,e,n){(function(n){function i(e){return u.prototype.init.call(this,e),l.addParameters(this,{sort:{type:"array<field>","default":null},children:{type:"field","default":"children"},parent:{type:"field","default":"parent"},field:{type:"value","default":null},mode:{type:"value","default":"tidy"},size:{type:"array<value>","default":t("./screen").size},nodesize:{type:"array<value>","default":null},orient:{type:"value","default":"cartesian"}}),this._mode=null,this._output={x:"layout_x",y:"layout_y",width:"layout_width",height:"layout_height",depth:"layout_depth"},this.mutates(!0)}var r="undefined"!=typeof window?window.d3:"undefined"!=typeof n?n.d3:null,o=t("datalib"),s=t("vega-dataflow").Tuple,a=t("vega-logging"),l=t("./Transform"),u=t("./BatchTransform"),c="partition",h={cartesian:function(t,e){return t.parent===e.parent?1:2},radial:function(t,e){return(t.parent===e.parent?1:2)/t.depth}},d=i.prototype=Object.create(u.prototype);d.constructor=i,d.batchTransform=function(t,e){a.debug(t,["hierarchy layout"]);var n=this._layout,i=this._output,l=this.param("mode"),u=this.param("sort"),d=this.param("nodesize"),f=this.param("parent").accessor,p=e.filter(function(t){return null===f(t)})[0];return l!==this._mode&&(this._mode=l,"tidy"===l&&(l="tree"),n=this._layout=r.layout[l]()),t.fields[i.x]=1,t.fields[i.y]=1,t.fields[i.depth]=1,l===c?(t.fields[i.width]=1,t.fields[i.height]=1,n.value(this.param("field").accessor)):n.separation(h[this.param("orient")]),d.length&&l!==c?n.nodeSize(d):n.size(this.param("size")),n.sort(u.field.length?o.comparator(u.field):null).children(this.param("children").accessor).nodes(p),e.forEach(function(t){s.set(t,i.x,t.x),s.set(t,i.y,t.y),s.set(t,i.depth,t.depth),l===c&&(s.set(t,i.width,t.dx),s.set(t,i.height,t.dy))}),t},e.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./BatchTransform":119,"./Transform":140,"./screen":146,datalib:26,"vega-dataflow":41,"vega-logging":48}],132:[function(t,e,n){function i(t){return c.prototype.init.call(this,t),u.addParameters(this,{groupby:{type:"array<field>"},orderby:{type:"array<field>"},field:{type:"field"},method:{type:"value","default":"value"},value:{type:"value","default":0}}),this.router(!0).produces(!0)}function r(t,e,n,i){var r,o={_imputed:!0};for(r=0;r<e.length;++r)o[t[r]]=e[r];for(r=0;r<i.length;++r)o[n[r]]=i[r];return l.ingest(o)}function o(t,e,n){var i,r,o,a,l,u,c,h,d=[],f=function(t){return t(o)},p=function(t){return o=t,n.map(f)};for(u=d.domain=s.unique(t,p),h=u.length,c=u.reduce(function(t,e,n){return t[e]={value:e,index:n},t},{}),i={},r=0;r<t.length;++r)o=t[r],a=null==e?[]:e.map(f),l=i[a]||(d.push(i[a]=Array(h)),i[a].values=a,i[a]),l[c[p(o)].index]=o;return d}var s=t("datalib"),a=t("vega-logging"),l=t("vega-dataflow").Tuple,u=t("./Transform"),c=t("./BatchTransform"),h=i.prototype=Object.create(c.prototype);h.constructor=i,h.batchTransform=function(t,e){function n(t){return null==t?null:y(t)}a.debug(t,["imputing"]);var i,l,u,c,h,d,f=this.param("groupby"),p=this.param("orderby"),g=this.param("method"),m=this.param("value"),v=this.param("field"),y=v.accessor,w=v.field,b=this._imputed||[],A=[],C=o(e,f.accessor,p.accessor),x=C.domain;for(u=0,h=C.length;h>u;++u)for(i=C[u],"value"!==g&&(m=s[g](i,n)),l=0,c=i.length;c>l;++l)null==i[l]&&(d=r(f.field,i.values,p.field,x[l]),d[w]=m,A.push(d));for(l=0,c=A.length;c>l;++l)t.add.push(A[l]);for(l=0,c=b.length;c>l;++l)t.rem.push(b[l]);return this._imputed=A,t},e.exports=i},{"./BatchTransform":119,"./Transform":140,datalib:26,"vega-dataflow":41,"vega-logging":48}],133:[function(t,e,n){function i(t){return p.prototype.init.call(this,t),p.addParameters(this,{sourceX:{type:"field","default":"_source.layout_x"},sourceY:{type:"field","default":"_source.layout_y"},targetX:{type:"field","default":"_target.layout_x"},targetY:{type:"field","default":"_target.layout_y"},tension:{type:"value","default":.2},shape:{type:"value","default":"line"}}),this._output={path:"layout_path"},this.mutates(!0)}function r(t,e,n,i){return"M"+t+","+e+"L"+n+","+i}function o(t,e,n,i,r){var o=n-t,s=i-e,a=r*(o+s),l=r*(s-o);return"M"+t+","+e+"C"+(t+a)+","+(e+l)+" "+(n+l)+","+(i-a)+" "+n+","+i}function s(t,e,n,i){return"M"+t+","+e+"V"+i+"H"+n}function a(t,e,n,i){return"M"+t+","+e+"H"+n+"V"+i}function l(t,e,n,i){var r=Math.cos(t),o=Math.sin(t),s=Math.cos(n),a=Math.sin(n),l=Math.abs(n-t)>Math.PI?t>=n:n>t;return"M"+e*r+","+e*o+"A"+e+","+e+" 0 0,"+(l?1:0)+" "+e*s+","+e*a+"L"+i*s+","+i*a}function u(t,e,n,i){var r=(t+n)/2;return"M"+t+","+e+"C"+r+","+e+" "+r+","+i+" "+n+","+i}function c(t,e,n,i){var r=(e+i)/2;return"M"+t+","+e+"C"+t+","+r+" "+n+","+r+" "+n+","+i}function h(t,e,n,i){var r=Math.cos(t),o=Math.sin(t),s=Math.cos(n),a=Math.sin(n),l=(e+i)/2;return"M"+e*r+","+e*o+"C"+l*r+","+l*o+" "+l*s+","+l*a+" "+i*s+","+i*a}var d=t("vega-dataflow").Tuple,f=t("vega-logging"),p=t("./Transform"),g=i.prototype=Object.create(p.prototype);g.constructor=i;var m={line:r,curve:o,cornerX:s,cornerY:a,cornerR:l,diagonalX:u,diagonalY:c,diagonalR:h};g.transform=function(t){function e(t){var e=i(r(t),o(t),s(t),a(t),l);d.set(t,n.path,e)}f.debug(t,["linkpath"]);var n=this._output,i=m[this.param("shape")]||m.line,r=this.param("sourceX").accessor,o=this.param("sourceY").accessor,s=this.param("targetX").accessor,a=this.param("targetY").accessor,l=this.param("tension");return t.add.forEach(e),this.reevaluate(t)&&(t.mod.forEach(e),t.rem.forEach(e)),t.fields[n.path]=1,t},e.exports=i},{"./Transform":140,"vega-dataflow":41,"vega-logging":48}],134:[function(t,e,n){function i(t){return s.prototype.init.call(this,t),s.addParameters(this,{on:{type:"data"},onKey:{type:"field","default":null},as:{type:"array<value>"},keys:{type:"array<field>","default":["data"]},"default":{type:"value"}}),this.mutates(!0)}var r=t("vega-dataflow").Tuple,o=t("vega-logging"),s=t("./Transform"),a=i.prototype=Object.create(s.prototype);a.constructor=i,a.transform=function(t,e){function n(t){for(var e=0;e<f.length;++e){var n=m[f[e](t)]||g;r.set(t,p[e],n)}}o.debug(t,["lookup"]);var i,s,a=this.param("on"),l=a.source.last(),u=a.source.values(),c=this.param("onKey"),h=c.field,d=this.param("keys"),f=d.accessor,p=this.param("as"),g=this.param("default"),m=this._lut;if(null==m||this._on!==h||h&&l.fields[h]||l.add.length||l.rem.length){if(h)for(c=c.accessor,m={},i=0;i<u.length;++i)m[c(s=u[i])]=s;else m=u;this._lut=m,this._on=h,e=!0}t.add.forEach(n);var v=d.field.some(function(e){return t.fields[e]});return(v||e)&&(t.mod.forEach(n),t.rem.forEach(n)),p.forEach(function(e){t.fields[e]=1}),t},e.exports=i},{"./Transform":140,"vega-dataflow":41,"vega-logging":48}],135:[function(t,e,n){function i(t,e,n){this._name=t,this._type=e,this._transform=n,this._value=[],this._accessors=[],this._resolution=!1,this._signals=[]}function r(){var t=a.test(this._type),e=l.test(this._type),n=u.test(this._type),i=t?this._value:this._value[0],r=t?this._accessors:this._accessors[0];return!o.isValid(r)&&h.test(this._type)?i:e?{name:i,source:r}:n?{field:i,accessor:r}:i}var o=t("datalib"),s=t("vega-dataflow").Dependencies,a=/array/i,l=/data/i,u=/field/i,c=/expr/i,h=/value/i,d=i.prototype;d.get=function(){var t,e,n,i,s,a=this._transform._graph,c=l.test(this._type),h=u.test(this._type);if(!this._resolution)return r.call(this);if(c)return this._accessors=this._value.map(function(t){return a.data(t)}),r.call(this);for(t=0,e=this._signals.length;e>t;++t)n=this._signals[t],i=n.index,s=n.value(a),h&&(this._accessors[i]=this._value[i]!=s?o.accessor(s):this._accessors[i]),this._value[i]=s;return r.call(this)},d.set=function(t){var e=this,n=e._transform._graph,i=c.test(this._type),r=l.test(this._type),a=u.test(this._type);return e._signals=[],this._value=o.array(t).map(function(t,l){var u;return o.isString(t)?i?(u=n.expr(t),e._transform.dependency(s.FIELDS,u.fields),e._transform.dependency(s.SIGNALS,u.globals),e._transform.dependency(s.DATA,u.dataSources),u.fn):(a?(e._accessors[l]=o.accessor(t),e._transform.dependency(s.FIELDS,o.field(t))):r&&(e._resolution=!0,e._transform.dependency(s.DATA,t)),t):void 0!==t.value?t.value:void 0!==t.field?(e._accessors[l]=o.accessor(t.field),e._transform.dependency(s.FIELDS,o.field(t.field)),t.field):void 0!==t.signal?(e._resolution=!0,e._transform.dependency(s.SIGNALS,o.field(t.signal)[0]),e._signals.push({index:l,value:function(e){return e.signalRef(t.signal)}}),t.signal):void 0!==t.expr?(e._resolution=!0,u=n.expr(t.expr),e._transform.dependency(s.SIGNALS,u.globals),e._signals.push({index:l,value:function(){return u.fn()}}),t.expr):t}),e._transform},e.exports=i},{datalib:26,"vega-dataflow":41}],136:[function(t,e,n){function i(t){return u.prototype.init.call(this,t),l.addParameters(this,{field:{type:"field","default":null},startAngle:{type:"value","default":0},endAngle:{type:"value","default":2*Math.PI},sort:{type:"value","default":!1}}),this._output={start:"layout_start",end:"layout_end",mid:"layout_mid"},this.mutates(!0)}function r(){return 1}var o=t("datalib"),s=t("vega-dataflow").Tuple,a=t("vega-logging"),l=t("./Transform"),u=t("./BatchTransform"),c=i.prototype=Object.create(u.prototype);c.constructor=i,c.batchTransform=function(t,e){a.debug(t,["pie"]);var n,i,l,u=this._output,c=this.param("field").accessor||r,h=this.param("startAngle"),d=this.param("endAngle"),f=this.param("sort"),p=e.map(c),g=h,m=(d-h)/o.sum(p),v=o.range(e.length);for(f&&v.sort(function(t,e){return p[t]-p[e]}),n=0;n<v.length;++n)i=e[v[n]],l=p[v[n]],s.set(i,u.start,g),s.set(i,u.mid,g+.5*l*m),s.set(i,u.end,g+=l*m);return t.fields[u.start]=1,t.fields[u.end]=1,t.fields[u.mid]=1,t},e.exports=i},{"./BatchTransform":119,"./Transform":140,datalib:26,"vega-dataflow":41,"vega-logging":48}],137:[function(t,e,n){function i(t){return a.prototype.init.call(this,t),s.addParameters(this,{field:{type:"field","default":null},normalize:{type:"value","default":!1}}),this._output={rank:"rank"},this.mutates(!0)}var r=t("vega-dataflow").Tuple,o=t("vega-logging"),s=t("./Transform"),a=t("./BatchTransform"),l=i.prototype=Object.create(a.prototype);l.constructor=i,l.batchTransform=function(t,e){o.debug(t,["rank"]);var n,i,s,a,l=this._output.rank,u=this.param("normalize"),c=this.param("field").accessor,h={},d=e.length;if(c)for(n=0,i=0;d>n;++n)s=e[n],h[a=c(s)]=h[a]||(h[a]=++i);for(n=0;d>n&&(s=e[n]);++n)c&&(a=c(s))?r.set(s,l,u?h[a]/i:h[a]):r.set(s,l,u?(n+1)/d:n+1);return t.fields[l]=1,t},e.exports=i},{"./BatchTransform":119,"./Transform":140,"vega-dataflow":41,"vega-logging":48}],138:[function(t,e,n){function i(t){s.prototype.init.call(this,t),s.addParameters(this,{by:{type:"array<field>"}}),this.router(!0)}var r=t("datalib"),o=t("vega-logging"),s=t("./Transform"),a=i.prototype=Object.create(s.prototype);a.constructor=i,a.transform=function(t){return o.debug(t,["sorting"]),(t.add.length||t.mod.length||t.rem.length)&&(t.sort=r.comparator(this.param("by").field)),t},e.exports=i},{"./Transform":140,datalib:26,"vega-logging":48}],139:[function(t,e,n){function i(t){return u.prototype.init.call(this,t),l.addParameters(this,{groupby:{type:"array<field>"},sortby:{type:"array<field>"},field:{type:"field"},offset:{type:"value","default":"zero"}}),this._output={start:"layout_start",end:"layout_end",mid:"layout_mid"},this.mutates(!0)}function r(t,e,n,i){var r,o,s,a,l,u,c,h=[],d=function(t){return t(s)};if(null==e)h.push(t.slice());else for(r={},o=0;o<t.length;++o)s=t[o],a=e.map(d),l=r[a]||(h.push(r[a]=[]),r[a]),l.push(s);for(a=0,c=0;a<h.length;++a){for(l=h[a],o=0,u=0;o<l.length;++o)u+=i(l[o]);l.sum=u,u>c&&(c=u),null!=n&&l.sort(n)}return h.max=c,h}var o=t("datalib"),s=t("vega-dataflow").Tuple,a=t("vega-logging"),l=t("./Transform"),u=t("./BatchTransform"),c=i.prototype=Object.create(u.prototype);c.constructor=i,c.batchTransform=function(t,e){a.debug(t,["stacking"]);for(var n=this.param("groupby").accessor,i=o.comparator(this.param("sortby").field),l=this.param("field").accessor,u=this.param("offset"),c=this._output,h=r(e,n,i,l),d=0,f=h.max;d<h.length;++d){var p,g,m,v=h[d],y=v.sum,w="center"===u?(f-y)/2:0,b="normalize"===u?1/y:1,A=w,C=0;for(p=0;p<v.length;++p)g=v[p],m=A,C+=l(g),A=b*C+w,s.set(g,c.start,m),s.set(g,c.end,A),s.set(g,c.mid,.5*(m+A))}return t.fields[c.start]=1,t.fields[c.end]=1,t.fields[c.mid]=1,t},e.exports=i},{"./BatchTransform":119,"./Transform":140,datalib:26,"vega-dataflow":41,"vega-logging":48}],140:[function(t,e,n){function i(t){t&&o.init.call(this,t)}var r=t("vega-dataflow"),o=r.Node.prototype,s=r.Dependencies,a=t("./Parameter");i.addParameters=function(t,e){t._parameters=t._parameters||{};for(var n in e){var i=e[n],r=new a(n,i.type,t);t._parameters[n]=r,"custom"===i.type&&(i.set&&(r.set=i.set.bind(r)),i.get&&(r.get=i.get.bind(r))),i.hasOwnProperty("default")&&r.set(i["default"])}};var l=i.prototype=Object.create(o);l.constructor=i,l.param=function(t,e){var n=this._parameters[t];return void 0===n?this:1===arguments.length?n.get():n.set(e)},l.transform=function(t){return t},l.evaluate=function(t){var e=this._stamp<t.stamp&&this.dependency(s.SIGNALS).reduce(function(e,n){return e+=t.signals[n]?1:0},0);return this.transform(t,e)},l.output=function(t){for(var e in this._output)void 0!==t[e]&&(this._output[e]=t[e]);return this},e.exports=i},{"./Parameter":135,"vega-dataflow":41}],141:[function(t,e,n){function i(t){return l.prototype.init.call(this,t),a.addParameters(this,{groupby:{type:"array<field>"}}),this._output={children:"children",parent:"parent"},this.router(!0).produces(!0)}var r=t("datalib"),o=t("vega-dataflow").Tuple,s=t("vega-logging"),a=t("./Transform"),l=t("./BatchTransform"),u=i.prototype=Object.create(l.prototype);u.constructor=i,u.batchTransform=function(t,e){function n(t,e,i){var r=d[t].execute(i);e[u]=r,r.forEach(function(i){i[c]=e,p.push(o.ingest(i)),t+1<l.length?n(t+1,i,i[u]):i[u].forEach(function(t){t[c]=i})})}s.debug(t,["treeifying"]);var i,a,l=this.param("groupby").field,u=this._output.children,c=this._output.parent,h=[{name:"*",ops:["values"],as:[u]}],d=l.map(function(t){return r.groupby(t).summarize(h)}),f=this._internal||[],p=[],g=o.ingest({});for(g[c]=null,p.push(g),n(0,g,e),i=0,a=p.length;a>i;++i)t.add.push(p[i]);for(i=0,a=f.length;a>i;++i)t.rem.push(f[i]);return this._internal=p,t},e.exports=i},{"./BatchTransform":119,"./Transform":140,datalib:26,"vega-dataflow":41,"vega-logging":48}],142:[function(t,e,n){(function(n){function i(e){return u.prototype.init.call(this,e),l.addParameters(this,{sort:{type:"array<field>","default":["-value"]},children:{type:"field","default":"children"},parent:{type:"field","default":"parent"},field:{type:"field","default":"value"},size:{type:"array<value>","default":t("./screen").size},round:{type:"value","default":!0},sticky:{type:"value","default":!1},ratio:{type:"value","default":c},padding:{type:"value","default":null},mode:{type:"value","default":"squarify"}}),this._layout=r.layout.treemap(),this._output={x:"layout_x",y:"layout_y",width:"layout_width",height:"layout_height",depth:"layout_depth"},this.mutates(!0)}var r="undefined"!=typeof window?window.d3:"undefined"!=typeof n?n.d3:null,o=t("datalib"),s=t("vega-dataflow").Tuple,a=t("vega-logging"),l=t("./Transform"),u=t("./BatchTransform"),c=.5*(1+Math.sqrt(5)),h=i.prototype=Object.create(u.prototype);h.constructor=i,h.batchTransform=function(t,e){a.debug(t,["treemap"]);var n=this._layout,i=this._output,r=this.param("sticky"),l=this.param("parent").accessor,u=e.filter(function(t){return null===l(t)})[0];return n.sticky()!==r&&n.sticky(r),n.sort(o.comparator(this.param("sort").field)).children(this.param("children").accessor).value(this.param("field").accessor).size(this.param("size")).round(this.param("round")).ratio(this.param("ratio")).padding(this.param("padding")).mode(this.param("mode")).nodes(u),e.forEach(function(t){s.set(t,i.x,t.x),s.set(t,i.y,t.y),s.set(t,i.width,t.dx),s.set(t,i.height,t.dy),s.set(t,i.depth,t.depth)}),t.fields[i.x]=1,t.fields[i.y]=1,t.fields[i.width]=1,t.fields[i.height]=1,t.fields[i.depth]=1,t},e.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./BatchTransform":119,"./Transform":140,"./screen":146,datalib:26,"vega-dataflow":41,"vega-logging":48}],143:[function(t,e,n){(function(n){function i(e){return l.prototype.init.call(this,e),a.addParameters(this,{clipExtent:{type:"array<value>","default":t("./screen").extent},x:{type:"field","default":"layout_x"},y:{type:"field","default":"layout_y"}}),this._layout=r.geom.voronoi(),this._output={path:"layout_path"},this.mutates(!0)}var r="undefined"!=typeof window?window.d3:"undefined"!=typeof n?n.d3:null,o=t("vega-dataflow/src/Tuple"),s=t("vega-logging"),a=t("./Transform"),l=t("./BatchTransform"),u=i.prototype=Object.create(l.prototype);u.constructor=i,u.batchTransform=function(t,e){s.debug(t,["voronoi"]);for(var n=this._output.path,i=this._layout.clipExtent(this.param("clipExtent")).x(this.param("x").accessor).y(this.param("y").accessor)(e),r=0;r<e.length;++r)i[r]&&o.set(e[r],n,"M"+i[r].join("L")+"Z");return t.fields[n]=1,t},e.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./BatchTransform":119,"./Transform":140,"./screen":146,"vega-dataflow/src/Tuple":40,"vega-logging":48}],144:[function(t,e,n){(function(n){function i(e){return f.prototype.init.call(this,e),d.addParameters(this,{size:{type:"array<value>","default":t("./screen").size},text:{type:"field","default":"data"},rotate:{type:"field|value","default":0},font:{type:"field|value","default":{value:"sans-serif"}},fontSize:{type:"field|value","default":14},fontStyle:{type:"field|value","default":{value:"normal"}},fontWeight:{type:"field|value","default":{value:"normal"}},fontScale:{type:"array<value>","default":[10,50]},padding:{type:"value","default":1},spiral:{type:"value","default":"archimedean"}}),this._layout=l().canvas(u.instance),this._output={x:"layout_x",y:"layout_y",font:"layout_font",fontSize:"layout_fontSize",fontStyle:"layout_fontStyle",fontWeight:"layout_fontWeight",rotate:"layout_rotate"},this.mutates(!0)}function r(t){return t&&t.accessor||t}function o(t){var e=Object.create(t);return e._tuple=t,e}var s=t("datalib"),a="undefined"!=typeof window?window.d3:"undefined"!=typeof n?n.d3:null,l="undefined"!=typeof window?window.d3.layout.cloud:"undefined"!=typeof n?n.d3.layout.cloud:null,u=t("vega-scenegraph").canvas,c=t("vega-dataflow/src/Tuple"),h=t("vega-logging"),d=t("./Transform"),f=t("./BatchTransform"),p=i.prototype=Object.create(f.prototype);p.constructor=i,p.batchTransform=function(t,e){h.debug(t,["wordcloud"]);var n,i,l=this._layout,u=this._output,d=this.param("fontSize"),f=d.accessor&&this.param("fontScale");d=d.accessor||a.functor(d),f.length&&(i=a.scale.sqrt().domain(s.extent(e,n=d)).range(f),d=function(t){return i(n(t))}),l.size(this.param("size")).text(r(this.param("text"))).padding(this.param("padding")).spiral(this.param("spiral")).rotate(r(this.param("rotate"))).font(r(this.param("font"))).fontStyle(r(this.param("fontStyle"))).fontWeight(r(this.param("fontWeight"))).fontSize(d).words(e.map(o)).on("end",function(t){var e,n,i,r,o=l.size(),s=o[0]>>1,a=o[1]>>1;for(i=0,r=t.length;r>i;++i)e=t[i],n=e._tuple,c.set(n,u.x,e.x+s),c.set(n,u.y,e.y+a),c.set(n,u.font,e.font),c.set(n,u.fontSize,e.size),c.set(n,u.fontStyle,e.style),c.set(n,u.fontWeight,e.weight),c.set(n,u.rotate,e.rotate)}).start();for(var p in u)t.fields[u[p]]=1;return t},e.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./BatchTransform":119,"./Transform":140,"./screen":146,datalib:26,"vega-dataflow/src/Tuple":40,"vega-logging":48,"vega-scenegraph":49}],145:[function(t,e,n){e.exports={aggregate:t("./Aggregate"),bin:t("./Bin"),cross:t("./Cross"),countpattern:t("./CountPattern"),linkpath:t("./LinkPath"),facet:t("./Facet"),filter:t("./Filter"),fold:t("./Fold"),force:t("./Force"),formula:t("./Formula"),geo:t("./Geo"),geopath:t("./GeoPath"),hierarchy:t("./Hierarchy"),impute:t("./Impute"),lookup:t("./Lookup"),pie:t("./Pie"),rank:t("./Rank"),sort:t("./Sort"),stack:t("./Stack"),treeify:t("./Treeify"),treemap:t("./Treemap"),voronoi:t("./Voronoi"),wordcloud:t("./Wordcloud")}},{"./Aggregate":118,"./Bin":120,"./CountPattern":121,"./Cross":122,"./Facet":123,"./Filter":125,"./Fold":126,"./Force":127,"./Formula":128,"./Geo":129,"./GeoPath":130,"./Hierarchy":131,"./Impute":132,"./LinkPath":133,"./Lookup":134,"./Pie":136,"./Rank":137,"./Sort":138,"./Stack":139,"./Treeify":141,"./Treemap":142,"./Voronoi":143,"./Wordcloud":144}],146:[function(t,e,n){e.exports={size:[{signal:"width"},{signal:"height"}],mid:[{expr:"width/2"},{expr:"height/2"}],extent:[{expr:"[-padding.left, -padding.top]"},{expr:"[width+padding.right, height+padding.bottom]"}]}},{}],147:[function(t,e,n){function i(t,e,n,i){var o=n||r(t);return s(t,e,o,i)}function r(t){switch(t.type){case l:return l;case u:return u;case h:return c;default:return d}}function o(t,e,n,i){function r(t){return(e[0]<0?-Math.log(t>0?0:-t):Math.log(0>t?0:t))/Math.log(a)}function o(t){return e[0]<0?-Math.pow(a,-t):Math.pow(a,t)}if(null==n)return i;var s,a=t.base(),l=Math.min(a,t.ticks().length/n),u=e[0]>0?(s=1e-12,Math.ceil):(s=-1e-12,Math.floor);return function(t){return o(u(r(t)+s))/t>=l?i(t):""}}function s(t,e,n,i){var r,s=a.format,c="log"===t.type;switch(n){case d:return r=t.domain(),c?o(t,r,e,s.auto.number(i||null)):s.auto.linear(r,e,i||null);case l:return(i?s:s.auto).time(i);case u:return(i?s:s.auto).utc(i);default:return String}}var a=t("datalib"),l="time",u="utc",c="string",h="ordinal",d="number";e.exports={getTickFormat:i}},{datalib:26}],148:[function(t,e,n){var i=t("datalib"),r={};i.extend(r,t("./format")),e.exports=i.extend(r,i)},{"./format":147,datalib:26}],149:[function(t,e,n){e.exports=function(t,e,n,i){return void 0!==t[n]?t[n]:void 0!==e&&void 0!==e[n]?e[n]:void 0!==i?i:void 0}},{}]},{},[1])(1)}),ace.define("ace/mode/sql_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(t,e,n){"use strict";var i=t("../lib/oop"),r=t("./text_highlight_rules").TextHighlightRules,o=function(){var t="select|insert|update|delete|from|where|and|or|by|order|limit|as|case|when|else|end|type|left|right|join|on|outer|desc|asc|union|create|table|primary|key|if|foreign|not|references|default|null|inner|cross|natural|database|drop|grant|over|sample|partition|latest|NaN|with|rename",e="true|false",n="avg|count|first|last|max|min|sum|ucase|lcase|mid|len|round|rank|now|format|coalesce|ifnull|isnull|nvl",i="int|date|string|symbol|float|double|binary|timestamp";r=this.createKeywordMapper({"support.function":n,keyword:t,"constant.language":e,"storage.type":i},"identifier",!0),this.$rules={start:[{token:"comment",regex:"--.*$"},{token:"comment",start:"/\\*",end:"\\*/"},{token:"string",regex:'".*?"'},{token:"string",regex:"'.*?'"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:r,regex:"[a-zA-Z_$][a-zA-Z0-9_$]*\\b"},{token:"keyword.operator",regex:"\\+|\\-|\\/|\\/\\/|%|<@>|@>|<@|&|\\^|~|<|>|<=|=>|==|!=|<>|="},{token:"paren.lparen",regex:"[\\(]"},{token:"paren.rparen",regex:"[\\)]"},{token:"text",regex:"\\s+"}]},this.normalizeRules()};i.inherits(o,r),e.SqlHighlightRules=o}),ace.define("ace/mode/questdb",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/sql_highlight_rules","ace/range"],function(t,e,n){"use strict";var i=t("../lib/oop"),r=t("./text").Mode,o=t("./sql_highlight_rules").SqlHighlightRules,s=(t("../range").Range,function(){this.HighlightRules=o});i.inherits(s,r),function(){this.lineCommentStart="--",this.$id="ace/mode/questdb"}.call(s.prototype),e.Mode=s}),function(t){"use strict";function e(t){return window.location.protocol+"//"+window.location.host+"/exp?query="+encodeURIComponent(t)}var n=1e3,i="query.in.exec",r="query.in.cancel",o="query.out.running",s="query.out.ok",a="query.out.error",l="query.out.dataset";t.extend(!0,window,{qdb:{queryBatchSize:n,MSG_QUERY_EXEC:i,MSG_QUERY_CANCEL:r,MSG_QUERY_RUNNING:o,MSG_QUERY_OK:s,MSG_QUERY_ERROR:a,MSG_QUERY_DATASET:l,toExportUrl:e}})}(jQuery),function(t){"use strict";t.fn.grid=function(e){function n(t){K+=t,Y=K*yt,Q=Y<rt.yMaxThreshold?Y:rt.yMaxThreshold,Z=Y/Q,z.css("height",0===Q?1:Q)}function i(t,e){if(t.questIndex!==e){var n,i=lt[Math.floor(e/ft)],r=e%ft;if(i){var o=i[r];if(o)for(n=0;n<at.length;n++)t.childNodes[n].innerHTML=null!==o[n]?o[n].toString():"null";t.questIndex=e}else{for(n=0;n<at.length;n++)t.childNodes[n].innerHTML="";t.questIndex=-1}t.style.top=e*yt-tt+"px",t===et&&(e===bt?(t.className="qg-r qg-r-active",t.childNodes[At].className+=" qg-c-active"):(t.className="qg-r",t.childNodes[At].className="qg-c qg-w"+At))}}function r(){for(var t=Math.max(0,Math.floor((X-vt)/yt)),e=Math.min(Y/yt,Math.ceil((X+vt+vt)/yt)),n=t;e>n;n++)i(wt[n&dt],n)}function o(){for(var t=0;t<lt.length;t++)(W>t||t>U)&&lt[t]&&delete lt[t]}function s(t){return null===lt[t]||void 0===lt[t]||0===lt[t].length}function a(e,n){o();var i,a,l;if(e!==n&&s(e)&&s(n))i=e*ft,a=i+ft*(n-e+1),l=function(t){lt[e]=t.dataset.splice(0,ft),lt[n]=t.dataset,r()};else if(!s(e)||s(n)&&e!==n){if(s(e)&&e!==n||!s(n))return void r();i=n*ft,a=i+ft,
l=function(t){lt[n]=t.dataset,r()}}else i=e*ft,a=i+ft,l=function(t){lt[e]=t.dataset,r()};t.get("/exec",{query:q,limit:i+","+a,nm:!0}).done(l)}function l(t,e){V&&clearTimeout(V),V=setTimeout(function(){a(t,e)},75)}function u(t,e,n){if(e===e&&n===n){var i,r,o,s;if(i=Math.floor(e/ft),o=Math.floor(n/ft),t>0){if(s=n%ft,i>=W&&U>o)return;if(o===U)return void(s>gt&&(U=o+1,W=o,l(o,o+1)));o>i?(l(i,o),W=i,U=o):s>gt?(l(o,o+1),W=o,U=o+1):(U=i,W=i,l(i,i))}else{if(r=e%ft,i>W&&U>=o)return;if(i===W)return void(pt>r&&W>0&&(W=Math.max(0,i-1),U=i,l(i-1,i)));o>i?(l(i,o),W=i,U=o):pt>r&&i>0?(l(i-1,i),W=Math.max(0,i-1),U=i):(W=i,U=i,l(i,i))}}}function c(t){var e=Math.max(0,Math.floor((X-vt)/yt)),n=Math.min(Y/yt,Math.ceil((X+vt+vt)/yt));0!==t&&u(t,e,n),0===e?n=ht:n>K-2&&(e=Math.max(0,n-ht));for(var r=e;n>r;r++){var o=wt[r&dt];o&&i(o,r)}}function h(t){switch(at[t].type){case"STRING":case"SYMBOL":return"text-align: left;";default:return""}}function d(t){for(var e=0;e<H.length;e++)t.push(".qg-w"+e+"{width:"+H[e]+"px;"+h(e)+"}");t.push(".qg-r{width:"+ut+"px;}"),t.push(".qg-canvas{width:"+ut+"px;}"),ct=2}function f(t){for(var e=0;e<H.length;e++)t.push(".qg-w"+e+"{width:"+100*H[e]/ut+"%;"+h(e)+"}");t.push(".qg-r{width:100%;}"),t.push(".qg-canvas{width:100%;}"),ct=1}function p(){if(lt.length>0){var e=P.offsetWidth,n=null;if(e>ut&&1!==ct?n=f:ut>e&&2!==ct&&(n=d),n){I&&I.remove(),I=t('<style type="text/css" rel="stylesheet"/>').appendTo(t("head"));var i=[];n(i),i.push(".qg-c{height:"+yt+"px;}"),I[0].styleSheet?I[0].styleSheet.cssText=i.join(" "):I[0].appendChild(document.createTextNode(i.join(" ")))}}}function g(){H=[];var e,n,i;for(ut=0,e=0;e<at.length;e++){var r=at[e],o=t('<div class="qg-header qg-w'+e+'">'+r.name+"</div>").appendTo(j);switch(r.type){case"STRING":case"SYMBOL":o.addClass("qg-header-l")}i=Math.max(rt.minColumnWidth,Math.ceil(8*r.name.length*1.2+8)),H.push(i),ut+=i}var s=lt[0].length>rt.maxRowsToAnalyze?rt.maxRowsToAnalyze:lt[0].length;for(e=0;s>e;e++){var a=lt[0][e],l=0;for(n=0;n<a.length;n++){var u=a[n],c=null!==u?u.toString():"null";i=Math.max(rt.minColumnWidth,8*c.length+8),H[n]=Math.max(i,H[n]),l+=H[n]}ut=Math.max(ut,l)}}function m(){J=0,X=0,tt=0,K=0,I&&I.remove(),j.empty(),z.empty(),wt=[],ct=0,lt=[],q=null,W=0,U=0,mt=[],et=null,nt=null,bt=0,At=0}function v(){G&&(G.empty(),G.append("time = "+new Date+"<br>"),G.append("y = "+X+"<br>"),G.append("M = "+Z+"<br>"),G.append("o = "+tt+"<br>"),G.append("h = "+Q+"<br>"),G.append("vp = "+vt+"<br>"),G.append("yMax = "+Y+"<br>"),G.append("top = "+J+"<br>"),G.append("activeRow = "+bt+"<br>"))}function y(){nt.className="qg-c qg-w"+At}function w(t){if(nt=et.childNodes[At],nt.className+=" qg-c-active",t){var e;e=Math.max(0,nt.offsetLeft-5),e<P.scrollLeft?P.scrollLeft=e:(e=nt.offsetLeft+nt.clientWidth+5,e>P.scrollLeft+P.clientWidth&&(P.scrollLeft=e-P.clientWidth))}}function b(t){if(bt>0){bt=Math.max(0,bt-t),et.className="qg-r",y(),et=wt[bt&dt],et.className="qg-r qg-r-active",w();var e=bt*yt-tt;e<P.scrollTop&&(P.scrollTop=Math.max(0,e))}}function A(t){if(bt>-1&&K-1>bt){bt=Math.min(K-1,bt+t),et.className="qg-r",y(),et=wt[bt&dt],et.className="qg-r qg-r-active",w();var e=bt*yt-vt+yt-tt;e>P.scrollTop&&(P.scrollTop=e)}}function C(t){j.scrollLeft(P.scrollLeft);var e=P.scrollTop;if(e!==J||t){var n=X;Math.abs(e-J)>4*vt?(X=0===e?0:Math.min(Math.ceil((e+vt)*Z-vt),Y-vt),J=e,tt=X-J):Q-vt>0&&(e>=Q-vt?(X=Math.max(0,Y-vt),J=e,tt=X-J,A(K-bt)):(0===e&&J>0?(X=0,tt=0,b(bt)):X+=e-J,J=e)),c(X-n)}v()}function x(){var e=window.innerHeight-t(window).scrollTop();vt=Math.round(e-P.getBoundingClientRect().top)-rt.bottomMargin,vt=Math.max(vt,rt.minVpHeight),it=Math.floor(vt/yt),P.style.height=vt+"px",st.css("height",Math.max(Math.round(e-st[0].getBoundingClientRect().top)-rt.bottomMargin,rt.minDivHeight)+"px"),p(),C(!0)}function E(){et&&(et.className="qg-r"),this.focus(),et=this.parentElement,et.className+=" qg-r-active",bt=et.questIndex,nt&&(nt.className="qg-c qg-w"+At),nt=this,At=this.cellIndex,nt.className+=" qg-c-active"}function _(){At>-1&&At<at.length-1&&(y(),At++,w(!0))}function F(){At>0&&(y(),At--,w(!0))}function k(){At>0&&(y(),At=0,w(!0))}function S(){At>-1&&At!==at.length-1&&(y(),At=at.length-1,w(!0))}function D(t){delete mt["which"in t?t.which:t.keyCode]}function M(t){var e="which"in t?t.which:t.keyCode,n=!0;switch(e){case 33:b(it);break;case 38:b(mt[91]?bt:1);break;case 40:A(mt[91]?K-bt:1);break;case 34:A(it);break;case 39:_();break;case 37:F();break;case 35:mt[17]?A(K-bt):S();break;case 36:mt[17]?b(bt):k();break;case 113:L(),ot.trigger("editor.focus");break;default:mt[e]=!0,n=!1}n&&t.preventDefault()}function T(){for(var e=0;ht>e;e++){var n=t('<div class="qg-r" tabindex="'+e+'"/>');0===e&&(et=n);for(var i=0;i<at.length;i++){var r=t('<div class="qg-c qg-w'+i+'"/>').click(E).appendTo(n)[0];0===e&&0===i&&(nt=r),r.cellIndex=i}n.css({top:-100,height:yt}).appendTo(z),wt.push(n[0])}}function $(){nt&&et&&(nt.click(),et.focus())}function L(){nt&&y()}function B(t,e){m(),q=e.query,lt.push(e.dataset),at=e.columns,T(),n(e.count),g(),P.scrollTop=0,x(),$()}function R(){q&&ot.trigger("grid.query",encodeURIComponent(q))}function N(){q&&ot.trigger(qdb.MSG_QUERY_EXEC,{q:q})}function O(){G=t("#debug"),j=st.find(".qg-header-row"),P=st.find(".qg-viewport")[0],P.onscroll=C,z=st.find(".qg-canvas"),z.bind("keydown",M),z.bind("keyup",D),t(window).resize(x),ot.on(qdb.MSG_QUERY_DATASET,B),ot.on("grid.focus",$),ot.on("grid.refresh",N),ot.on("grid.publish.query",R)}var I,P,z,j,H,W,U,q,V,G,K,Y,X,Q,J,Z,tt,et,nt,it,rt={minColumnWidth:60,rowHeight:28,divCacheSize:128,viewportHeight:400,yMaxThreshold:1e7,maxRowsToAnalyze:100,bottomMargin:75,minVpHeight:120,minDivHeight:160},ot=e,st=t(this),at=[],lt=[],ut=-1,ct=0,ht=rt.divCacheSize,dt=ht-1,ft=qdb.queryBatchSize,pt=Math.floor(ft/3),gt=2*pt,mt=[],vt=rt.viewportHeight,yt=rt.rowHeight,wt=[],bt=-1,At=-1;O(),x()}}(jQuery),function(t){"use strict";t.fn.importManager=function(){function e(e){if(e.lengthComputable){var n=e.loaded||e.position;t("#"+$.id).find(" > .ud-progress").css("width",100*n/$.size+"%")}}function n(){var e=!1,n=!1;for(var i in S)if(S.hasOwnProperty(i)){var r=S[i];if(r.selected&&(e=!0,r.retry)){n=!0;break}}t("#btnImportClearSelected").attr("disabled",!e),t("#btnRetry").attr("disabled",!n)}function i(e,i){i.retry=2,t("#"+i.id+" > .ud-c1").html(i.name+'<span class="label label-danger m-l-lg">overwrite</span>'),n()}function r(e,i){i.retry=1,t("#"+i.id+" > .ud-c1").html(i.name+'<span class="label label-primary m-l-lg">append</span>'),n()}function o(e,i){i.retry=0,t("#"+i.id+" > .ud-c1").html(i.name),n()}function s(){var n=t.ajaxSettings.xhr();return n.upload&&n.upload.addEventListener("progress",e,!1),n}function a(){t("#btnImportCancel").attr("disabled",null===$)}function l(){var e=t(this).parent().attr("id"),i=t("#"+e).find(".fa"),r=S[e];r.selected=!r.selected,r.selected?i.removeClass("fa-square-o").addClass("fa-check-square-o"):i.removeClass("fa-check-square-o").addClass("fa-square-o"),n()}function u(e){var n=S[t(this).parent().attr("id")];n.importState>-1&&t(document).trigger("import.detail",n),nopropagation(e)}function c(e){k.append('<div id="'+e.id+'" class="ud-row" style="top: '+M+'px;"><div class="ud-cell ud-c0"><i class="fa fa-square-o ud-checkbox"></i></div><div class="ud-cell ud-c1">'+e.name+'</div><div class="ud-cell ud-c2">'+e.sizeFmt+'</div><div class="ud-cell ud-c3"><span class="label">pending</span></div></div>');var n=t("#"+e.id);n.find(".ud-c0").click(l),n.find(".ud-c1").click(u),n.find(".ud-c2").click(u),n.find(".ud-c3").click(u),M+=L}function h(e,n,i){var r=t("#"+e.id);if(r.find(" > .ud-c3").html(n),r.find(" > .ud-progress").remove(),i){var o=T.shift();o?y(o):($=null,B=null)}a(),t(document).trigger("import.detail.updated",e)}function d(t){if($.delta=(new Date).getTime()-$.time,"OK"===t.status){$.response=t,$.importState=0,o(null,$);var e=t.rowsRejected>0?"label-warning":"label-success";h($,'<span class="label '+e+'">imported in '+$.delta/1e3+"s</span>",!0)}else $.importState=4,$.response=t.status,h($,'<span class="label label-danger">failed</span>',!0)}function f(t){switch(t){case 0:return 3;case 500:return 5;default:return 101}}function p(t){o(null,$),"abort"!==t.statusText?($.response=t.responseText,$.importState=f(t.status),h($,'<span class="label label-danger">failed</span>',!0)):h($,'<span class="label label-warning">aborted</span>',!0)}function g(){if(R.url="/imp?fmt=json",2===$.retry&&(R.url+="&overwrite=true"),R.xhr=s,R.data=new FormData,$.response&&$.response.columns){for(var t="",e=0;e<$.response.columns.length;e++){var n=$.response.columns[e];n.altType&&n.type!==n.altType.text&&"AUTO"!==n.altType.text?t+=n.name+"="+n.altType.value+"&":0!==n.errors||"DATE"===n.type||void 0!==n.altType&&"AUTO"===n.altType.text||(t+=n.name+"="+n.type+"&")}R.data.append("schema",t)}return"file"===$.type?R.data.append("data",$.file):"clipboard"===$.type&&(R.url=R.url+"&name="+encodeURIComponent($.name),R.data.append("data",$.content)),$.time=(new Date).getTime(),R}function m(){h($,'<span class="label label-info">importing</span>',!1),t("#"+$.id).append('<div class="ud-progress"></div>'),B=t.ajax(g()).done(d).fail(p),a()}function v(t){switch(t.status){case"Exists":$.importState=1,h($,'<span class="label label-danger">exists</span>',!0);break;case"Does not exist":$.importState=0,m();break;case"Reserved name":$.importState=2,h($,'<span class="label label-danger">reserved</span>',!0);break;default:$.importState=101,h($,'<span class="label label-danger">failed</span>',!0)}}function y(e){$=e,e.retry?($.importState=0,m()):(N.url="/chk?f=json&j="+encodeURIComponent(e.name),t.ajax(N).then(v).fail(p))}function w(t){S[t.id]=t,c(t),null!=$?T.push(t):y(t)}function b(t,e){for(var n=0;n<e.files.length;n++){var i=e.files[n];w({id:guid(),name:i.name,size:i.size,file:i,type:"file",sizeFmt:toSize(i.size),selected:!1,imported:!1})}}function A(t,e){var n=new Date;w({id:guid(),name:"clipboard-"+n.getTime(),size:e.length,type:"clipboard",content:e,sizeFmt:toSize(e.length),selected:!1,imported:!1})}function C(){for(var e in S)if(S.hasOwnProperty(e)){var i=S[e];if(i.selected&&i!==$){var r=T.indexOf(i);r>-1&&delete T[r],t("#"+e).remove(),delete S[e],t(document).trigger("import.cleared",i)}}M=0;for(var o=k.find(".ud-row"),s=0;s<o.length;s++)t(o[s]).css("top",M),M+=L;n()}function x(){for(var t in S)if(S.hasOwnProperty(t)){var e=S[t];e.selected&&e.retry&&(null===$?y(e):T.push(e))}}function E(){null!==B&&B.abort()}function _(){t(document).on("dropbox.files",b),t(document).on("dropbox.clipboard",A),t(document).on("import.line.overwrite",i),t(document).on("import.line.append",r),t(document).on("import.line.abort",o),t("#btnImportClearSelected").click(C),t("#btnImportCancel").click(E),t("#btnRetry").click(x)}function F(){D.append('<div class="ud-header-row"><div class="ud-header ud-h0">&nbsp;</div><div class="ud-header ud-h1">File name</div><div class="ud-header ud-h2">Size</div><div class="ud-header ud-h3">Status</div></div>'),D.append('<div class="ud-canvas"></div>'),k=D.find("> .ud-canvas"),_()}var k,S={},D=this,M=0,T=[],$=null,L=35,B=null,R={xhr:s,url:"/imp?fmt=json",type:"POST",contentType:!1,processData:!1,cache:!1},N={type:"GET",contentType:!1,processData:!1,cache:!1};return F(),this},t.fn.dropbox=function(){function e(){c.addClass("drag-drop").removeClass("drag-idle")}function n(){c.removeClass("drag-drop").addClass("drag-idle")}function i(e){nopropagation(e),n(),u=t(),t(document).trigger("dropbox.files",e.originalEvent.dataTransfer)}function r(e){var n;window.clipboardData&&window.clipboardData.getData?n=window.clipboardData.getData("Text"):e.originalEvent.clipboardData&&e.originalEvent.clipboardData.getData&&(n=e.originalEvent.clipboardData.getData("text/plain")),t(document).trigger("dropbox.clipboard",n)}function o(t){nopropagation(t),0===u.size()&&e(),u=u.add(t.target)}function s(t){setTimeout(function(){u=u.not(t.target),0===u.size()&&n()},1)}function a(e,n){"import"===n?(t(document).on("drop",i),t(document).on("paste",r),t(document).on("dragenter",o),t(document).on("dragover",nopropagation),t(document).on("dragleave",s)):(t(document).unbind("drop",i),t(document).unbind("paste",r),t(document).unbind("dragenter",o),t(document).unbind("dragover",nopropagation),t(document).unbind("dragleave",s))}function l(){t(document).on("active.panel",a);var e=t("#js-browse-files-input")[0];t("#js-browse-files").click(function(){e.click()}),e.onchange=function(){t(document).trigger("dropbox.files",e),e.value=""}}var u=t(),c=this;return l(),this}}(jQuery),function(t){"use strict";t.fn.importEditor=function(e){function n(){var t=x[0].getBoundingClientRect().top,e=Math.round(window.innerHeight-t);e=e-E-45,x[0].style.height=e+"px"}function i(){var e=t(this);h.appendTo(e.parent()),h.css("left",e.css("left")),h.css("width",e.css("width"));var n=parseInt(t(this).parent().find(".js-g-row").text())-1,i=D.response.columns[n];i.altType?h.val(i.altType.value):h.val(i.type),h.changeTargetDiv=e,h.changeTargetCol=i,h.show(),h.focus()}function r(){h.hide()}function o(t){return t.altType&&t.altType.text!==t.type?t.type+'<i class="fa fa-angle-double-right g-type-separator"></i>'+t.altType.text:t.type}function s(){for(var e=!1,n=0;n<D.response.columns.length;n++){var i=D.response.columns[n];if(i.altType&&i.type!==i.altType.text){e=!0;break}}t(document).trigger(e?"import.line.overwrite":"import.line.cancel",D)}function a(){var e=t(this).find("option:selected");h.changeTargetCol.altType={text:e.text(),value:e.val()},h.changeTargetDiv.html(o(h.changeTargetCol)),s(),r()}function l(){t(".g-type").click(i),t(".g-other").click(r),h.change(a)}function u(t){if(0!==t.importState||t.response){if(t.response&&0===t.importState){y.html(d=t.response.location);var e=t.response.rowsImported,i=t.response.rowsRejected,r=e+i;if(w.css("width",Math.round(100*i/r)+"%"),b.css("width",Math.round(100*e/r)+"%"),A.html(i),C.html(e),x.empty(),t.response.columns)for(var s=0,a=0;a<t.response.columns.length;a++){var u=t.response.columns[a];x.append('<div class="ud-row" style="top: '+s+'px"><div class="ud-cell gc-1 g-other js-g-row">'+(a+1)+'</div><div class="ud-cell gc-2 g-other">'+(u.errors>0?'<i class="fa fa-exclamation-triangle g-warning"></i>':"")+u.name+'</div><div class="ud-cell gc-3 g-type">'+o(u)+'</div><div class="ud-cell gc-4 g-other">'+u.errors+"</div></div>"),s+=k}l(),g.show(),m.hide(),n()}else{switch(t.importState){case 1:v.html("Journal <strong>"+t.name+"</strong> already exists on server"),_.show();break;case 2:v.html("Journal name <strong>"+t.name+"</strong> is reserved"),_.hide();break;case 3:v.html("Server is not responding..."),_.hide();break;case 4:v.html(t.response),_.hide();break;case 5:v.html("Server encountered internal problem. Check server logs for more details."),_.hide();break;default:v.html("Unknown error: "+t.responseStatus),_.hide()}g.hide(),m.show(),F.iCheck("uncheck")}f.show()}}function c(){h=t('<select class="g-dynamic-select form-control m-b"/>');for(var e=0;e<S.length;e++){var n=S[e];t("<option />",{value:n.value,text:n.text}).appendTo(h)}}var h,d,f=t(this),p=t(".stats-switcher"),g=t(this).find(".js-import-editor"),m=t(this).find(".js-import-error"),v=t(this).find(".js-message"),y=t(this).find(".js-import-tab-name"),w=t(this).find(".import-rejected"),b=t(this).find(".import-imported"),A=t(this).find(".js-rejected-row-count"),C=t(this).find(".js-imported-row-count"),x=t(this).find(".ud-canvas"),E=t(".footer")[0].offsetHeight,_=t(this).find(".js-import-error-btn-group"),F=t('input:radio[name="importAction"]'),k=35,S=[{text:"AUTO",value:null},{text:"BOOLEAN",value:"BOOLEAN"},{text:"BYTE",value:"BYTE"},{text:"DOUBLE",value:"DOUBLE"},{text:"FLOAT",value:"FLOAT"},{text:"INT",value:"INT"},{text:"LONG",value:"LONG"},{text:"SHORT",value:"SHORT"},{text:"STRING",value:"STRING"},{text:"SYMBOL",value:"SYMBOL"},{text:"DATE (ISO)",value:"DATE_ISO"},{text:"DATE (YYYY-MM-DD hh:mm:ss)",value:"DATE_1"},{text:"DATE (MM/DD/YYYY)",value:"DATE_2"},{text:"DATE (DD/MM/YYYY)",value:"DATE_3"}],D=null,M=e;t(document).on("import.detail",function(t,e){D=e,u(e)}),t(document).on("import.detail.updated",function(t,e){D===e&&e.response&&u(e)}),t(document).on("import.cleared",function(t,e){e===D&&(D=null,g.hide(),m.hide())}),c(),t(".import-stats-chart").click(function(){p.hasClass("stats-visible")?p.removeClass("stats-visible"):p.addClass("stats-visible")}),F.on("ifClicked",function(){var e;switch(this.value){case"append":e="import.line.append";break;case"overwrite":e="import.line.overwrite";break;default:e="import.line.abort"}t(document).trigger(e,D)}),y.mouseover(function(){y.addClass("animated tada").one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){t(this).removeClass("animated").removeClass("tada")})}),y.click(function(){M.trigger("query.build.execute",d)}),t("input").iCheck({checkboxClass:"icheckbox_square-red",radioClass:"iradio_square-red"}),t(window).resize(n)}}(jQuery),function(t){"use strict";t.fn.query=function(){function e(){null!==c&&(c.abort(),c=null)}function n(){null!==h&&(clearTimeout(h),h=null)}function i(t){u.trigger(qdb.MSG_QUERY_OK,{delta:(new Date).getTime()-l,count:t.count}),t.dataset&&u.trigger(qdb.MSG_QUERY_DATASET,t),c=null}function r(t){u.trigger(qdb.MSG_QUERY_ERROR,{query:a,r:t.responseJSON,status:t.status,statusText:t.statusText,delta:(new Date).getTime()-l}),c=null}function o(){e(),f.query=a.q,f.limit="0,"+d,f.count=!0,l=(new Date).getTime(),c=t.get("/exec",f).done(i).fail(r),u.trigger(qdb.MSG_QUERY_RUNNING)}function s(t,e){a=e,n(),h=setTimeout(o,50)}var a,l,u=t(this),c=null,h=null,d=qdb.queryBatchSize,f={query:"",limit:""};u.on(qdb.MSG_QUERY_EXEC,s),u.on(qdb.MSG_QUERY_CANCEL,e)},t.fn.domController=function(){function e(){f.addClass("query-progress-animated",100),p.addClass("query-message-ok"),g.html("-"),m.html("Running...")}function n(){v=!0,d.html('<i class="fa fa-stop"></i>Cancel'),d.removeClass("js-query-run").addClass("js-query-cancel"),h=setTimeout(e,500)}function i(){d.html('<i class="fa fa-play"></i>Run'),d.removeClass("js-query-cancel").addClass("js-query-run"),clearTimeout(h),f.removeClass("query-progress-animated"),v=!1}function r(t,e){for(var n=0,i=0,r=Math.min(e,t.q.length),o=0;r>o;o++)"\n"===t.q.charAt(o)?(n++,i=0):i++;return{r:n+1+t.r,c:(0===n?i+t.c:i)+1}}function o(t,e){if(console.log(e),i(),p.removeClass("query-message-ok").addClass("query-message-error"),g.html("failed after <strong>"+e.delta/1e3+"s</strong>"),"abort"===e.statusText)m.html("Cancelled by user");else if(e.r){var n=r(e.query,e.r.position);m.html("<strong>"+n.r+":"+n.c+"</strong>&nbsp;&nbsp;"+e.r.error),y.trigger("editor.show.error",n)}else 0===e.status?m.html("Server down?"):m.html("Server error: "+e.status)}function s(t,e){i(),p.removeClass("query-message-error").addClass("query-message-ok"),g.html("read in <strong>"+e.delta/1e3+"s</strong>"),e.count?m.html(e.count.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+" rows"):m.html("done")}function a(){v?y.trigger(qdb.MSG_QUERY_CANCEL):y.trigger("editor.execute")}function l(t){t.preventDefault(),y.trigger("grid.publish.query")}function u(t,e){e&&(window.location.href="/exp?query="+e)}function c(){d=t(".js-query-run"),d.click(a),y.on(qdb.MSG_QUERY_ERROR,o),y.on(qdb.MSG_QUERY_OK,s),y.on(qdb.MSG_QUERY_RUNNING,n),y.on("grid.query",u),t(".js-editor-toggle-invisible").click(function(){y.trigger("editor.toggle.invisibles")}),t(".js-query-export").click(l)}var h,d,f=t(".js-query-spinner"),p=t(".js-query-message-panel"),g=t(".js-query-message-panel .js-query-time"),m=t(".js-query-message-panel .js-query-message-text"),v=!1,y=t(this);c()},t.fn.editor=function(e){function n(){g&&(p.session.removeMarker(g),g=null)}function i(){p=ace.edit(b[0]),p.getSession().setMode("ace/mode/questdb"),p.setTheme("ace/theme/merbivore_soft"),p.setShowPrintMargin(!1),p.setDisplayIndentGuides(!1),p.setHighlightActiveLine(!1),p.session.on("change",n),p.$blockScrolling=1/0,t(window).on("resize",function(){p.resize()})}function r(){if("undefined"!=typeof Storage){var t=localStorage.getItem(m.text);t&&p.setValue(t);var e=localStorage.getItem(m.line),n=localStorage.getItem(m.col);e&&n&&p.gotoLine(e,n)}}function o(){"undefined"!=typeof Storage&&(localStorage.setItem(m.text,p.getValue()),localStorage.setItem(m.line,p.getCursorPosition().row+1),localStorage.setItem(m.col,p.getCursorPosition().column))}function s(){for(var t=p.getValue(),e=p.getCursorPosition(),n=0,i=0,r=0,o=0,s=-1,a=null,l=!1,u=0;u<t.length;u++){var c=t.charAt(u);switch(c){case";":if(l){i++;continue}n<e.row||n===e.row&&i<e.column?(r=n,o=i,s=u+1,i++):a=-1===s?t.substring(0,u):t.substring(s,u);break;case"\n":n++,i=0;break;case"'":l=!l,i++;break;default:i++}if(null!==a)break}return null===a&&(a=-1===s?t:t.substring(s)),0===a.length?null:{q:a,r:r,c:o}}function a(){for(var t,e=p.getSelectedText(),n=e.length;n>0&&(" "===(t=e.charAt(n))||"\n"===t||";"===t);)n--;if(n>0){e=e.substr(0,n+1);var i=p.getSelectionRange();return{q:e,r:i.start.row,c:i.start.column}}return null}function l(){w.trigger("preferences.save"),n();var t;t=""===p.getSelectedText()?s():a(),t&&w.trigger(qdb.MSG_QUERY_EXEC,t)}function u(t,e){var n=p.session.getTokenAt(e.r-1,e.c);g=p.session.addMarker(new v(e.r-1,e.c-1,e.r-1,e.c+n.value.length-1),"js-syntax-error","text",!0),p.gotoLine(e.r,e.c-1),p.focus()}function c(){p.renderer.setShowInvisibles(!p.renderer.getShowInvisibles())}function h(){w.trigger("grid.focus")}function d(t,e){if(!p.find("'"+e+"'",y)){var n=p.session.getLength(),i="\n'"+e+"';";p.session.insert({row:n,column:0},i),p.selection.moveCursorToPosition({row:n+1,column:0}),p.selection.selectLine()}l()}function f(){w.on("editor.execute",l),w.on("editor.show.error",u),w.on("editor.toggle.invisibles",c),w.on("query.build.execute",d),w.on("editor.focus",function(){p.scrollToLine(p.getCursorPosition().row+1,!0,!0,function(){}),p.focus()}),p.commands.addCommand({name:"editor.execute",bindKey:"F9",exec:l}),p.commands.addCommand({name:"editor.focus.grid",bindKey:"F2",exec:h}),w.on("preferences.load",r),w.on("preferences.save",o)}var p,g,m={text:"query.text",line:"editor.line",col:"editor.col"},v=ace.require("ace/range").Range,y={wrap:!0,caseSensitive:!0,wholeWord:!1,regExp:!1,preventScroll:!1},w=e,b=this;i(),f()}}(jQuery),function(t){"use strict";t.fn.chart=function(e){function n(){var t={width:500,height:200,data:[{name:"accidents",url:"http://localhost:9000/exp?query=%0A%0Aselect%20severity%2C%20timestamp%20ts%2C%20count()%20count%20from%20z2%20%20sample%20by%201M",format:{type:"csv",parse:{ts:"date",count:"number"}}}],scales:[{name:"x",type:"time",range:"width",points:!0,domain:{data:"accidents",field:"ts"}},{name:"y",type:"linear",range:"height",nice:!0,domain:{data:"accidents",field:"count"}},{name:"color",type:"ordinal",range:"category10",domain:{data:"accidents",field:"severity"},nice:!0}],axes:[{type:"x",scale:"x",grid:!0},{type:"y",scale:"y",grid:!0}],marks:[{type:"group",from:{data:"accidents",transform:[{type:"stack",groupby:["ts"],sortby:["severity"],field:"count"},{type:"facet",groupby:["severity"]}]},marks:[{type:"symbol",properties:{update:{x:{scale:"x",field:"ts"},y:{scale:"y",field:"count"},fill:{scale:"color",field:"severity"},size:{value:10}}}}]}]};vg.parse.spec(t,function(t,e){e({el:"#chart"}).update()})}var i=t(e);i.on("chart.draw",n)}}(jQuery),function(t){"use strict";t.fn.splitter=function(e,n,i){function r(e){e.preventDefault(),e.pageY>f&&e.pageY<window.innerHeight+t(window).scrollTop()-p&&(u=e.pageY,a[0].style=c+"top: "+e.pageY+"px;")}function o(){t(document).off("mousemove",r),t(document).off("mouseup",o),a[0].style="display: none",d.removeClass("qs-dragging"),h.trigger("splitter.resize",u-l)}function s(){var e=d[0].getBoundingClientRect();l=e.top+t(window).scrollTop(),c="position: absolute; left: "+e.left+"px; width: "+e.width+"px; height: "+e.height+"px;",a||(a=t('<div class="qs-ghost"></div>'),a.appendTo("body")),a[0].style=c+"top: "+l+"px;",d.addClass("qs-dragging"),t(document).mousemove(r),t(document).mouseup(o)}var a,l,u,c,h=t(e),d=t(this),f=n,p=i;t(this).mousedown(s)}}(jQuery),function(t){"use strict";function e(){var e,n=v.height(),i=m.height(),r=y.height();n>i&&(e=n),i>n&&(e=t(window).height()),e&&(w+b>e&&(e=w+b),m.css("height",e+"px"),m.css("min-height",e+"px")),g.css("height",w+"px"),g.css("min-height",w+"px"),d.css("height",w+"px"),d.css("min-height",w+"px"),f.css("height",w-r-60+"px"),f.css("min-height",w-r-60+"px"),p.css("height",w+"px"),p.css("min-height",w+"px")}function n(){u.show(),c.hide(),t(document).trigger("active.panel","console")}function i(){u.hide(),c.show(),t(document).trigger("active.panel","import")}function r(){t("#chart").hide(),t("#editor").show(),t("#js-toggle-chart").removeClass("active"),t("#js-toggle-grid").addClass("active")}function o(){t("#chart").show(),t("#editor").hide(),t("#js-toggle-chart").addClass("active"),t("#js-toggle-grid").removeClass("active"),t(document).trigger("chart.draw")}function s(){if("undefined"!=typeof Storage){var t=localStorage.getItem("splitter.position");t&&(w=parseInt(t))}}function a(){"undefined"!=typeof Storage&&localStorage.setItem("splitter.position",w)}function l(l){t("#side-menu").metisMenu(),t(window).bind("resize",e),t("a#sql-editor").click(n),t("a#file-upload").click(i),l.on("query.build.execute",n),l.on(qdb.MSG_QUERY_DATASET,function(t,e){h.val(qdb.toExportUrl(e.query))}),h.click(function(){this.select()}),new Clipboard(".js-export-copy-url"),t(".js-query-refresh").click(function(){l.trigger("grid.refresh")}),t("#js-toggle-chart").click(o),t("#js-toggle-grid").click(r),l.on("splitter.resize",function(e,n){w+=n,t(window).trigger("resize"),l.trigger("preferences.save")}),l.on("preferences.save",a),l.on("preferences.load",s)}var u=t(".js-sql-panel"),c=t(".js-import-panel"),h=t(".js-export-url"),d=t("#editor"),f=t("#sqlEditor"),p=t("#chart"),g=t("#console-top"),m=t("#page-wrapper"),v=t("nav.navbar-default"),y=d.find(".js-query-message-panel"),w=350,b=350;t.extend(!0,window,{qdb:{setup:l,switchToGrid:r}})}(jQuery);var bus;$(document).ready(function(){"use strict";bus=$({}),qdb.setup(bus),bus.query(),bus.domController(),$("#sqlEditor").editor(bus),$("#grid").grid(bus),$("#dragTarget").dropbox(),$("#import-file-list").importManager(),$("#import-detail").importEditor(bus),$("#chart").chart(document),qdb.switchToGrid(),$("#sp1").splitter(bus,200,0),bus.trigger("preferences.load")}),$(window).load(function(){"use strict";$(window).trigger("resize"),bus.trigger("editor.focus")});